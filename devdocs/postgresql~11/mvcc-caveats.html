<h1>13.5. Caveats</h1>    <p>Some DDL commands, currently only <a class="xref" href="sql-truncate" title="TRUNCATE">TRUNCATE</a> and the table-rewriting forms of <a class="xref" href="sql-altertable" title="ALTER TABLE">ALTER TABLE</a>, are not MVCC-safe. This means that after the truncation or rewrite commits, the table will appear empty to concurrent transactions, if they are using a snapshot taken before the DDL command committed. This will only be an issue for a transaction that did not access the table in question before the DDL command started — any transaction that has done so would hold at least an <code class="literal">ACCESS SHARE</code> table lock, which would block the DDL command until that transaction completes. So these commands will not cause any apparent inconsistency in the table contents for successive queries on the target table, but they could cause visible inconsistency between the contents of the target table and other tables in the database.</p> <p>Support for the Serializable transaction isolation level has not yet been added to Hot Standby replication targets (described in <a class="xref" href="hot-standby" title="26.5. Hot Standby">Section 26.5</a>). The strictest isolation level currently supported in hot standby mode is Repeatable Read. While performing all permanent database writes within Serializable transactions on the master will ensure that all standbys will eventually reach a consistent state, a Repeatable Read transaction run on the standby can sometimes see a transient state that is inconsistent with any serial execution of the transactions on the master.</p>  <div class="navfooter">  <table summary="Navigation footer"> <tr> <td width="40%" align="left">
<a accesskey="p" href="applevel-consistency">Prev</a> </td> <td width="20%" align="center"><a accesskey="u" href="https://www.postgresql.org/docs/11/mvcc.html">Up</a></td> <td width="40%" align="right"> <a accesskey="n" href="locking-indexes">Next</a>
</td> </tr> <tr> <td width="40%" align="left">13.4. Data Consistency Checks at the Application Level </td> <td width="20%" align="center"><a accesskey="h" href="https://www.postgresql.org/docs/11/index.html">Home</a></td> <td width="40%" align="right"> 13.6. Locking and Indexes</td> </tr> </table> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996&ndash;2019 The PostgreSQL Global Development Group<br>Licensed under the PostgreSQL License.<br>
    <a href="https://www.postgresql.org/docs/11/mvcc-caveats.html" class="_attribution-link">https://www.postgresql.org/docs/11/mvcc-caveats.html</a>
  </p>
</div>
