  <main role="main">    <h1>Interface HttpResponse.BodySubscriber&lt;T&gt;</h1>     <dl> <dt>Type Parameters:</dt> <dd>
<code>T</code> - the response body type</dd> </dl> <dl> <dt>All Superinterfaces:</dt> <dd><code><a href="../../../../java.base/java/util/concurrent/flow.subscriber">Flow.Subscriber</a>&lt;<a href="../../../../java.base/java/util/list">List</a>&lt;<a href="../../../../java.base/java/nio/bytebuffer">ByteBuffer</a>&gt;&gt;</code></dd> </dl> <dl> <dt>Enclosing interface:</dt> <dd>
<a href="httpresponse">HttpResponse</a>&lt;<a href="httpresponse">T</a>&gt;</dd> </dl>  <pre data-language="java">public static interface HttpResponse.BodySubscriber&lt;T&gt;
extends Flow.Subscriber&lt;List&lt;ByteBuffer&gt;&gt;</pre> <div>
<p>A <code>BodySubscriber</code> consumes response body bytes and converts them into a higher-level Java type. The class <a href="httpresponse.bodysubscribers"><code>BodySubscriber</code></a> provides implementations of many common body subscribers. </p>
<p> The object acts as a <a href="../../../../java.base/java/util/concurrent/flow.subscriber"><code>Flow.Subscriber</code></a>&lt;<a href="../../../../java.base/java/util/list"><code>List</code></a>&lt;<a href="../../../../java.base/java/nio/bytebuffer"><code>ByteBuffer</code></a>&gt;&gt; to the HTTP Client implementation, which publishes lists of ByteBuffers containing the response body. The Flow of data, as well as the order of ByteBuffers in the Flow lists, is a strictly ordered representation of the response body. Both the Lists and the ByteBuffers, once passed to the subscriber, are no longer used by the HTTP Client. The subscriber converts the incoming buffers of data to some higher-level Java type <code>T</code>. </p>
<p> The <a href="#getBody()"><code>getBody()</code></a> method returns a <a href="../../../../java.base/java/util/concurrent/completionstage"><code>CompletionStage</code></a>&lt;<code>T</code>&gt; that provides the response body object. The <code>CompletionStage</code> must be obtainable at any time. When it completes depends on the nature of type <code>T</code>. In many cases, when <code>T</code> represents the entire body after being consumed then the <code>CompletionStage</code> completes after the body has been consumed. If <code>T</code> is a streaming type, such as <a href="../../../../java.base/java/io/inputstream"><code>InputStream</code></a>, then it completes before the body has been read, because the calling code uses the <code>InputStream</code> to consume the data.</p>
</div> <dl> <dt>API Note:</dt> <dd>To ensure that all resources associated with the corresponding HTTP exchange are properly released, an implementation of <code>
 BodySubscriber</code> should ensure to <a href="../../../../java.base/java/util/concurrent/flow.subscription#request(long)"><code>request</code></a> more data until one of <a href="../../../../java.base/java/util/concurrent/flow.subscriber#onComplete()"><code>onComplete</code></a> or <a href="../../../../java.base/java/util/concurrent/flow.subscriber#onError(java.lang.Throwable)"><code>onError</code></a> are signalled, or <a href="../../../../java.base/java/util/concurrent/flow.subscription#request(long)"><code>cancel</code></a> its <a href="../../../../java.base/java/util/concurrent/flow.subscriber#onSubscribe(java.util.concurrent.Flow.Subscription)">subscription</a> if unable or unwilling to do so. Calling <code>cancel</code> before exhausting the response body data may cause the underlying HTTP connection to be closed and prevent it from being reused for subsequent operations.</dd> <dt>Implementation Note:</dt> <dd>The flow of data containing the response body is immutable. Specifically, it is a flow of unmodifiable lists of read-only ByteBuffers.</dd> <dt>Since:</dt> <dd>11</dd> <dt>See Also:</dt> <dd><a href="httpresponse.bodysubscribers"><code>HttpResponse.BodySubscribers</code></a></dd> </dl>      <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code><a href="../../../../java.base/java/util/concurrent/completionstage">CompletionStage</a>&lt;<a href="httpresponse.bodysubscriber">T</a>&gt;</code></td> <th scope="row"><code><a href="#getBody()">getBody</a>()</code></th> <td> <p>Returns a <code>CompletionStage</code> which when completed will return the response body object.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.util.concurrent.Flow.Subscriber">Methods declared in interface java.util.concurrent.<a href="../../../../java.base/java/util/concurrent/flow.subscriber">Flow.Subscriber</a>
</h2> <code><a href="../../../../java.base/java/util/concurrent/flow.subscriber#onComplete()">onComplete</a>, <a href="../../../../java.base/java/util/concurrent/flow.subscriber#onError(java.lang.Throwable)">onError</a>, <a href="../../../../java.base/java/util/concurrent/flow.subscriber#onNext(T)">onNext</a>, <a href="../../../../java.base/java/util/concurrent/flow.subscriber#onSubscribe(java.util.concurrent.Flow.Subscription)">onSubscribe</a></code>  </section>   <div>   <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="getBody()">getBody</h3> <pre data-language="java">CompletionStage&lt;T&gt;Â getBody()</pre> <p>Returns a <code>CompletionStage</code> which when completed will return the response body object. This method can be called at any time relative to the other <a href="../../../../java.base/java/util/concurrent/flow.subscriber"><code>Flow.Subscriber</code></a> methods and is invoked using the client's <a href="httpclient#executor()"><code>executor</code></a>.</p> <dl> <dt>Returns:</dt> <dd>a CompletionStage for the response body</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodySubscriber.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodySubscriber.html</a>
  </p>
</div>
