  <main role="main">    <h1>Class AsyncBoxView</h1>   <ul class="inheritance"> <li><a href="../../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="view">javax.swing.text.View</a></li> <li> <ul class="inheritance"> <li>javax.swing.text.AsyncBoxView</li> </ul> </li> </ul> </li> </ul>   <dl> <dt>All Implemented Interfaces:</dt> <dd><code><a href="../swingconstants">SwingConstants</a></code></dd> </dl>  <pre data-language="java">public class AsyncBoxView
extends View</pre> <div>
<p>A box that does layout asynchronously. This is useful to keep the GUI event thread moving by not doing any layout on it. The layout is done on a granularity of operations on the child views. After each child view is accessed for some part of layout (a potentially time consuming operation) the remaining tasks can be abandoned or a new higher priority task (i.e. to service a synchronous request or a visible area) can be taken on. </p>
<p> While the child view is being accessed a read lock is acquired on the associated document so that the model is stable while being accessed.</p>
</div> <dl> <dt>Since:</dt> <dd>1.3</dd> </dl>      <section role="region">  <h2 id="nested.class.summary">Nested Classes</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Class</th> <th scope="col">Description</th> </tr> <tr> <td><code>class </code></td> <th scope="row"><code><a href="asyncboxview.childlocator">AsyncBoxView.ChildLocator</a></code></th> <td> <p>A class to manage the effective position of the child views in a localized area while changes are being made around the localized area.</p> </td> </tr> <tr> <td><code>class </code></td> <th scope="row"><code><a href="asyncboxview.childstate">AsyncBoxView.ChildState</a></code></th> <td> <p>A record representing the layout state of a child view.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="field.summary">Fields</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Field</th> <th scope="col">Description</th> </tr> <tr> <td><code>protected <a href="asyncboxview.childlocator">AsyncBoxView.ChildLocator</a></code></td> <th scope="row"><code><a href="#locator">locator</a></code></th> <td> <p>Object that manages the offsets of the children.</p> </td> </tr> </table>  <h2 id="fields.inherited.from.class.javax.swing.text.View">Fields declared in class javax.swing.text.<a href="view">View</a>
</h2> <code><a href="view#BadBreakWeight">BadBreakWeight</a>, <a href="view#ExcellentBreakWeight">ExcellentBreakWeight</a>, <a href="view#ForcedBreakWeight">ForcedBreakWeight</a>, <a href="view#GoodBreakWeight">GoodBreakWeight</a>, <a href="view#X_AXIS">X_AXIS</a>, <a href="view#Y_AXIS">Y_AXIS</a></code>  <h2 id="fields.inherited.from.class.javax.swing.SwingConstants">Fields declared in interface javax.swing.<a href="../swingconstants">SwingConstants</a>
</h2> <code><a href="../swingconstants#BOTTOM">BOTTOM</a>, <a href="../swingconstants#CENTER">CENTER</a>, <a href="../swingconstants#EAST">EAST</a>, <a href="../swingconstants#HORIZONTAL">HORIZONTAL</a>, <a href="../swingconstants#LEADING">LEADING</a>, <a href="../swingconstants#LEFT">LEFT</a>, <a href="../swingconstants#NEXT">NEXT</a>, <a href="../swingconstants#NORTH">NORTH</a>, <a href="../swingconstants#NORTH_EAST">NORTH_EAST</a>, <a href="../swingconstants#NORTH_WEST">NORTH_WEST</a>, <a href="../swingconstants#PREVIOUS">PREVIOUS</a>, <a href="../swingconstants#RIGHT">RIGHT</a>, <a href="../swingconstants#SOUTH">SOUTH</a>, <a href="../swingconstants#SOUTH_EAST">SOUTH_EAST</a>, <a href="../swingconstants#SOUTH_WEST">SOUTH_WEST</a>, <a href="../swingconstants#TOP">TOP</a>, <a href="../swingconstants#TRAILING">TRAILING</a>, <a href="../swingconstants#VERTICAL">VERTICAL</a>, <a href="../swingconstants#WEST">WEST</a></code>  </section>  <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(javax.swing.text.Element,int)">AsyncBoxView</a>​(<a href="element">Element</a> elem,
            int axis)</code></th> <td> <p>Construct a box view that does asynchronous layout.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>protected <a href="asyncboxview.childstate">AsyncBoxView.ChildState</a></code></td> <th scope="row"><code><a href="#createChildState(javax.swing.text.View)">createChildState</a>​(<a href="view">View</a> v)</code></th> <td> <p>New ChildState records are created through this method to allow subclasses the extend the ChildState records to do/hold more.</p> </td> </tr> <tr id="i1"> <td><code>protected void</code></td> <th scope="row"><code><a href="#flushRequirementChanges()">flushRequirementChanges</a>()</code></th> <td> <p>Publish the changes in preferences upward to the parent view.</p> </td> </tr> <tr id="i2"> <td><code>float</code></td> <th scope="row"><code><a href="#getBottomInset()">getBottomInset</a>()</code></th> <td> <p>Get the bottom part of the margin around the view.</p> </td> </tr> <tr id="i3"> <td><code><a href="../../../java/awt/shape">Shape</a></code></td> <th scope="row"><code><a href="#getChildAllocation(int,java.awt.Shape)">getChildAllocation</a>​(int index,
                  <a href="../../../java/awt/shape">Shape</a> a)</code></th> <td> <p>Fetches the allocation for the given child view.</p> </td> </tr> <tr id="i4"> <td><code>protected <a href="asyncboxview.childstate">AsyncBoxView.ChildState</a></code></td> <th scope="row"><code><a href="#getChildState(int)">getChildState</a>​(int index)</code></th> <td> <p>Fetch the object representing the layout state of of the child at the given index.</p> </td> </tr> <tr id="i5"> <td><code>protected boolean</code></td> <th scope="row"><code><a href="#getEstimatedMajorSpan()">getEstimatedMajorSpan</a>()</code></th> <td> <p>Is the major span currently estimated?</p> </td> </tr> <tr id="i6"> <td><code>protected float</code></td> <th scope="row"><code><a href="#getInsetSpan(int)">getInsetSpan</a>​(int axis)</code></th> <td> <p>Fetch the span along an axis that is taken up by the insets.</p> </td> </tr> <tr id="i7"> <td><code>protected <a href="layoutqueue">LayoutQueue</a></code></td> <th scope="row"><code><a href="#getLayoutQueue()">getLayoutQueue</a>()</code></th> <td> <p>Fetch the queue to use for layout.</p> </td> </tr> <tr id="i8"> <td><code>float</code></td> <th scope="row"><code><a href="#getLeftInset()">getLeftInset</a>()</code></th> <td> <p>Get the left part of the margin around the view.</p> </td> </tr> <tr id="i9"> <td><code>int</code></td> <th scope="row"><code><a href="#getMajorAxis()">getMajorAxis</a>()</code></th> <td> <p>Fetch the major axis (the axis the children are tiled along).</p> </td> </tr> <tr id="i10"> <td><code>float</code></td> <th scope="row"><code><a href="#getMaximumSpan(int)">getMaximumSpan</a>​(int axis)</code></th> <td> <p>Determines the maximum span for this view along an axis.</p> </td> </tr> <tr id="i11"> <td><code>float</code></td> <th scope="row"><code><a href="#getMinimumSpan(int)">getMinimumSpan</a>​(int axis)</code></th> <td> <p>Determines the minimum span for this view along an axis.</p> </td> </tr> <tr id="i12"> <td><code>int</code></td> <th scope="row"><code><a href="#getMinorAxis()">getMinorAxis</a>()</code></th> <td> <p>Fetch the minor axis (the axis orthogonal to the tiled axis).</p> </td> </tr> <tr id="i13"> <td><code>int</code></td> <th scope="row"><code><a href="#getNextVisualPositionFrom(int,javax.swing.text.Position.Bias,java.awt.Shape,int,javax.swing.text.Position.Bias%5B%5D)">getNextVisualPositionFrom</a>​(int pos,
                         <a href="position.bias">Position.Bias</a> b,
                         <a href="../../../java/awt/shape">Shape</a> a,
                         int direction,
                         <a href="position.bias">Position.Bias</a>[] biasRet)</code></th> <td> <p>Provides a way to determine the next visually represented model location that one might place a caret.</p> </td> </tr> <tr id="i14"> <td><code>float</code></td> <th scope="row"><code><a href="#getPreferredSpan(int)">getPreferredSpan</a>​(int axis)</code></th> <td> <p>Determines the preferred span for this view along an axis.</p> </td> </tr> <tr id="i15"> <td><code>float</code></td> <th scope="row"><code><a href="#getRightInset()">getRightInset</a>()</code></th> <td> <p>Get the right part of the margin around the view.</p> </td> </tr> <tr id="i16"> <td><code>float</code></td> <th scope="row"><code><a href="#getTopInset()">getTopInset</a>()</code></th> <td> <p>Get the top part of the margin around the view.</p> </td> </tr> <tr id="i17"> <td><code><a href="view">View</a></code></td> <th scope="row"><code><a href="#getView(int)">getView</a>​(int n)</code></th> <td> <p>Gets the nth child view.</p> </td> </tr> <tr id="i18"> <td><code>int</code></td> <th scope="row"><code><a href="#getViewCount()">getViewCount</a>()</code></th> <td> <p>Returns the number of views in this view.</p> </td> </tr> <tr id="i19"> <td><code>int</code></td> <th scope="row"><code><a href="#getViewIndex(int,javax.swing.text.Position.Bias)">getViewIndex</a>​(int pos,
            <a href="position.bias">Position.Bias</a> b)</code></th> <td> <p>Returns the child view index representing the given position in the model.</p> </td> </tr> <tr id="i20"> <td><code>protected int</code></td> <th scope="row"><code><a href="#getViewIndexAtPosition(int,javax.swing.text.Position.Bias)">getViewIndexAtPosition</a>​(int pos,
                      <a href="position.bias">Position.Bias</a> b)</code></th> <td> <p>Fetches the child view index representing the given position in the model.</p> </td> </tr> <tr id="i21"> <td><code>protected void</code></td> <th scope="row"><code><a href="#loadChildren(javax.swing.text.ViewFactory)">loadChildren</a>​(<a href="viewfactory">ViewFactory</a> f)</code></th> <td> <p>Loads all of the children to initialize the view.</p> </td> </tr> <tr id="i22"> <td><code>protected void</code></td> <th scope="row"><code><a href="#majorRequirementChange(javax.swing.text.AsyncBoxView.ChildState,float)">majorRequirementChange</a>​(<a href="asyncboxview.childstate">AsyncBoxView.ChildState</a> cs,
                      float delta)</code></th> <td> <p>Requirements changed along the major axis.</p> </td> </tr> <tr id="i23"> <td><code>protected void</code></td> <th scope="row"><code><a href="#minorRequirementChange(javax.swing.text.AsyncBoxView.ChildState)">minorRequirementChange</a>​(<a href="asyncboxview.childstate">AsyncBoxView.ChildState</a> cs)</code></th> <td> <p>Requirements changed along the minor axis.</p> </td> </tr> <tr id="i24"> <td><code><a href="../../../java/awt/shape">Shape</a></code></td> <th scope="row"><code><a href="#modelToView(int,java.awt.Shape,javax.swing.text.Position.Bias)">modelToView</a>​(int pos,
           <a href="../../../java/awt/shape">Shape</a> a,
           <a href="position.bias">Position.Bias</a> b)</code></th> <td> <p>Provides a mapping from the document model coordinate space to the coordinate space of the view mapped to it.</p> </td> </tr> <tr id="i25"> <td><code>void</code></td> <th scope="row"><code><a href="#paint(java.awt.Graphics,java.awt.Shape)">paint</a>​(<a href="../../../java/awt/graphics">Graphics</a> g,
     <a href="../../../java/awt/shape">Shape</a> alloc)</code></th> <td> <p>Render the view using the given allocation and rendering surface.</p> </td> </tr> <tr id="i26"> <td><code>void</code></td> <th scope="row"><code><a href="#preferenceChanged(javax.swing.text.View,boolean,boolean)">preferenceChanged</a>​(<a href="view">View</a> child,
                 boolean width,
                 boolean height)</code></th> <td> <p>Child views can call this on the parent to indicate that the preference has changed and should be reconsidered for layout.</p> </td> </tr> <tr id="i27"> <td><code>void</code></td> <th scope="row"><code><a href="#replace(int,int,javax.swing.text.View%5B%5D)">replace</a>​(int offset,
       int length,
       <a href="view">View</a>[] views)</code></th> <td> <p>Calls the superclass to update the child views, and updates the status records for the children.</p> </td> </tr> <tr id="i28"> <td><code>void</code></td> <th scope="row"><code><a href="#setBottomInset(float)">setBottomInset</a>​(float i)</code></th> <td> <p>Set the bottom part of the margin around the view.</p> </td> </tr> <tr id="i29"> <td><code>protected void</code></td> <th scope="row"><code><a href="#setEstimatedMajorSpan(boolean)">setEstimatedMajorSpan</a>​(boolean isEstimated)</code></th> <td> <p>Set the estimatedMajorSpan property that determines if the major span should be treated as being estimated.</p> </td> </tr> <tr id="i30"> <td><code>void</code></td> <th scope="row"><code><a href="#setLeftInset(float)">setLeftInset</a>​(float i)</code></th> <td> <p>Set the left part of the margin around the view.</p> </td> </tr> <tr id="i31"> <td><code>void</code></td> <th scope="row"><code><a href="#setParent(javax.swing.text.View)">setParent</a>​(<a href="view">View</a> parent)</code></th> <td> <p>Sets the parent of the view.</p> </td> </tr> <tr id="i32"> <td><code>void</code></td> <th scope="row"><code><a href="#setRightInset(float)">setRightInset</a>​(float i)</code></th> <td> <p>Set the right part of the margin around the view.</p> </td> </tr> <tr id="i33"> <td><code>void</code></td> <th scope="row"><code><a href="#setSize(float,float)">setSize</a>​(float width,
       float height)</code></th> <td> <p>Sets the size of the view.</p> </td> </tr> <tr id="i34"> <td><code>void</code></td> <th scope="row"><code><a href="#setTopInset(float)">setTopInset</a>​(float i)</code></th> <td> <p>Set the top part of the margin around the view.</p> </td> </tr> <tr id="i35"> <td><code>protected void</code></td> <th scope="row"><code><a href="#updateLayout(javax.swing.event.DocumentEvent.ElementChange,javax.swing.event.DocumentEvent,java.awt.Shape)">updateLayout</a>​(<a href="../event/documentevent.elementchange">DocumentEvent.ElementChange</a> ec,
            <a href="../event/documentevent">DocumentEvent</a> e,
            <a href="../../../java/awt/shape">Shape</a> a)</code></th> <td> <p>Update the layout in response to receiving notification of change from the model.</p> </td> </tr> <tr id="i36"> <td><code>int</code></td> <th scope="row"><code><a href="#viewToModel(float,float,java.awt.Shape,javax.swing.text.Position.Bias%5B%5D)">viewToModel</a>​(float x,
           float y,
           <a href="../../../java/awt/shape">Shape</a> a,
           <a href="position.bias">Position.Bias</a>[] biasReturn)</code></th> <td> <p>Provides a mapping from the view coordinate space to the logical coordinate space of the model.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.javax.swing.text.View">Methods declared in class javax.swing.text.<a href="view">View</a>
</h2> <code><a href="view#append(javax.swing.text.View)">append</a>, <a href="view#breakView(int,int,float,float)">breakView</a>, <a href="view#changedUpdate(javax.swing.event.DocumentEvent,java.awt.Shape,javax.swing.text.ViewFactory)">changedUpdate</a>, <a href="view#createFragment(int,int)">createFragment</a>, <a href="view#forwardUpdate(javax.swing.event.DocumentEvent.ElementChange,javax.swing.event.DocumentEvent,java.awt.Shape,javax.swing.text.ViewFactory)">forwardUpdate</a>, <a href="view#forwardUpdateToView(javax.swing.text.View,javax.swing.event.DocumentEvent,java.awt.Shape,javax.swing.text.ViewFactory)">forwardUpdateToView</a>, <a href="view#getAlignment(int)">getAlignment</a>, <a href="view#getAttributes()">getAttributes</a>, <a href="view#getBreakWeight(int,float,float)">getBreakWeight</a>, <a href="view#getContainer()">getContainer</a>, <a href="view#getDocument()">getDocument</a>, <a href="view#getElement()">getElement</a>, <a href="view#getEndOffset()">getEndOffset</a>, <a href="view#getGraphics()">getGraphics</a>, <a href="view#getParent()">getParent</a>, <a href="view#getResizeWeight(int)">getResizeWeight</a>, <a href="view#getStartOffset()">getStartOffset</a>, <a href="view#getToolTipText(float,float,java.awt.Shape)">getToolTipText</a>, <a href="view#getViewFactory()">getViewFactory</a>, <a href="view#getViewIndex(float,float,java.awt.Shape)">getViewIndex</a>, <a href="view#insert(int,javax.swing.text.View)">insert</a>, <a href="view#insertUpdate(javax.swing.event.DocumentEvent,java.awt.Shape,javax.swing.text.ViewFactory)">insertUpdate</a>, <a href="view#isVisible()">isVisible</a>, <a href="view#modelToView(int,java.awt.Shape)">modelToView</a>, <a href="view#modelToView(int,javax.swing.text.Position.Bias,int,javax.swing.text.Position.Bias,java.awt.Shape)">modelToView</a>, <a href="view#remove(int)">remove</a>, <a href="view#removeAll()">removeAll</a>, <a href="view#removeUpdate(javax.swing.event.DocumentEvent,java.awt.Shape,javax.swing.text.ViewFactory)">removeUpdate</a>, <a href="view#updateChildren(javax.swing.event.DocumentEvent.ElementChange,javax.swing.event.DocumentEvent,javax.swing.text.ViewFactory)">updateChildren</a>, <a href="view#viewToModel(float,float,java.awt.Shape)">viewToModel</a></code>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="field.detail">Fields</h2>   <h3 id="locator">locator</h3> <pre data-language="java">protected AsyncBoxView.ChildLocator locator</pre> <p>Object that manages the offsets of the children. All locking for management of child locations is on this object.</p>   </section>  <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;(javax.swing.text.Element,int)">AsyncBoxView</h3> <pre data-language="java">public AsyncBoxView(Element elem,
                    int axis)</pre> <p>Construct a box view that does asynchronous layout.</p> <dl> <dt>Parameters:</dt> <dd>
<code>elem</code> - the element of the model to represent</dd> <dd>
<code>axis</code> - the axis to tile along. This can be either X_AXIS or Y_AXIS.</dd> </dl>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="getMajorAxis()">getMajorAxis</h3> <pre data-language="java">public int getMajorAxis()</pre> <p>Fetch the major axis (the axis the children are tiled along). This will have a value of either X_AXIS or Y_AXIS.</p> <dl> <dt>Returns:</dt> <dd>the major axis</dd> </dl>    <h3 id="getMinorAxis()">getMinorAxis</h3> <pre data-language="java">public int getMinorAxis()</pre> <p>Fetch the minor axis (the axis orthogonal to the tiled axis). This will have a value of either X_AXIS or Y_AXIS.</p> <dl> <dt>Returns:</dt> <dd>the minor axis</dd> </dl>    <h3 id="getTopInset()">getTopInset</h3> <pre data-language="java">public float getTopInset()</pre> <p>Get the top part of the margin around the view.</p> <dl> <dt>Returns:</dt> <dd>the top part of the margin around the view</dd> </dl>    <h3 id="setTopInset(float)">setTopInset</h3> <pre data-language="java">public void setTopInset(float i)</pre> <p>Set the top part of the margin around the view.</p> <dl> <dt>Parameters:</dt> <dd>
<code>i</code> - the value of the inset</dd> </dl>    <h3 id="getBottomInset()">getBottomInset</h3> <pre data-language="java">public float getBottomInset()</pre> <p>Get the bottom part of the margin around the view.</p> <dl> <dt>Returns:</dt> <dd>the bottom part of the margin around the view</dd> </dl>    <h3 id="setBottomInset(float)">setBottomInset</h3> <pre data-language="java">public void setBottomInset(float i)</pre> <p>Set the bottom part of the margin around the view.</p> <dl> <dt>Parameters:</dt> <dd>
<code>i</code> - the value of the inset</dd> </dl>    <h3 id="getLeftInset()">getLeftInset</h3> <pre data-language="java">public float getLeftInset()</pre> <p>Get the left part of the margin around the view.</p> <dl> <dt>Returns:</dt> <dd>the left part of the margin around the view</dd> </dl>    <h3 id="setLeftInset(float)">setLeftInset</h3> <pre data-language="java">public void setLeftInset(float i)</pre> <p>Set the left part of the margin around the view.</p> <dl> <dt>Parameters:</dt> <dd>
<code>i</code> - the value of the inset</dd> </dl>    <h3 id="getRightInset()">getRightInset</h3> <pre data-language="java">public float getRightInset()</pre> <p>Get the right part of the margin around the view.</p> <dl> <dt>Returns:</dt> <dd>the right part of the margin around the view</dd> </dl>    <h3 id="setRightInset(float)">setRightInset</h3> <pre data-language="java">public void setRightInset(float i)</pre> <p>Set the right part of the margin around the view.</p> <dl> <dt>Parameters:</dt> <dd>
<code>i</code> - the value of the inset</dd> </dl>    <h3 id="getInsetSpan(int)">getInsetSpan</h3> <pre data-language="java">protected float getInsetSpan(int axis)</pre> <p>Fetch the span along an axis that is taken up by the insets.</p> <dl> <dt>Parameters:</dt> <dd>
<code>axis</code> - the axis to determine the total insets along, either X_AXIS or Y_AXIS.</dd> <dt>Returns:</dt> <dd>the span along an axis that is taken up by the insets</dd> <dt>Since:</dt> <dd>1.4</dd> </dl>    <h3 id="setEstimatedMajorSpan(boolean)">setEstimatedMajorSpan</h3> <pre data-language="java">protected void setEstimatedMajorSpan(boolean isEstimated)</pre> <p>Set the estimatedMajorSpan property that determines if the major span should be treated as being estimated. If this property is true, the value of setSize along the major axis will change the requirements along the major axis and incremental changes will be ignored until all of the children have been updated (which will cause the property to automatically be set to false). If the property is false the value of the majorSpan will be considered to be accurate and incremental changes will be added into the total as they are calculated.</p> <dl> <dt>Parameters:</dt> <dd>
<code>isEstimated</code> - new value for the estimatedMajorSpan property</dd> <dt>Since:</dt> <dd>1.4</dd> </dl>    <h3 id="getEstimatedMajorSpan()">getEstimatedMajorSpan</h3> <pre data-language="java">protected boolean getEstimatedMajorSpan()</pre> <p>Is the major span currently estimated?</p> <dl> <dt>Returns:</dt> <dd>whether or not the major span currently estimated</dd> <dt>Since:</dt> <dd>1.4</dd> </dl>    <h3 id="getChildState(int)">getChildState</h3> <pre data-language="java">protected AsyncBoxView.ChildState getChildState(int index)</pre> <p>Fetch the object representing the layout state of of the child at the given index.</p> <dl> <dt>Parameters:</dt> <dd>
<code>index</code> - the child index. This should be a value &gt;= 0 and &lt; getViewCount().</dd> <dt>Returns:</dt> <dd>the object representing the layout state of of the child at the given index</dd> </dl>    <h3 id="getLayoutQueue()">getLayoutQueue</h3> <pre data-language="java">protected LayoutQueue getLayoutQueue()</pre> <p>Fetch the queue to use for layout.</p> <dl> <dt>Returns:</dt> <dd>the queue to use for layout</dd> </dl>    <h3 id="createChildState(javax.swing.text.View)">createChildState</h3> <pre data-language="java">protected AsyncBoxView.ChildState createChildState(View v)</pre> <p>New ChildState records are created through this method to allow subclasses the extend the ChildState records to do/hold more.</p> <dl> <dt>Parameters:</dt> <dd>
<code>v</code> - the view</dd> <dt>Returns:</dt> <dd>new child state</dd> </dl>    <h3 id="majorRequirementChange(javax.swing.text.AsyncBoxView.ChildState,float)">majorRequirementChange</h3> <pre data-language="java">protected void majorRequirementChange(AsyncBoxView.ChildState cs,
                                      float delta)</pre> <div>
<p>Requirements changed along the major axis. This is called by the thread doing layout for the given ChildState object when it has completed fetching the child views new preferences. Typically this would be the layout thread, but might be the event thread if it is trying to update something immediately (such as to perform a model/view translation). </p>
<p> This is implemented to mark the major axis as having changed so that a future check to see if the requirements need to be published to the parent view will consider the major axis. If the span along the major axis is not estimated, it is updated by the given delta to reflect the incremental change. The delta is ignored if the major span is estimated.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>cs</code> - the child state</dd> <dd>
<code>delta</code> - the delta</dd> </dl>    <h3 id="minorRequirementChange(javax.swing.text.AsyncBoxView.ChildState)">minorRequirementChange</h3> <pre data-language="java">protected void minorRequirementChange(AsyncBoxView.ChildState cs)</pre> <p>Requirements changed along the minor axis. This is called by the thread doing layout for the given ChildState object when it has completed fetching the child views new preferences. Typically this would be the layout thread, but might be the GUI thread if it is trying to update something immediately (such as to perform a model/view translation).</p> <dl> <dt>Parameters:</dt> <dd>
<code>cs</code> - the child state</dd> </dl>    <h3 id="flushRequirementChanges()">flushRequirementChanges</h3> <pre data-language="java">protected void flushRequirementChanges()</pre> <p>Publish the changes in preferences upward to the parent view. This is normally called by the layout thread.</p>    <h3 id="replace(int,int,javax.swing.text.View[])">replace</h3> <pre data-language="java">public void replace(int offset,
                    int length,
                    View[] views)</pre> <p>Calls the superclass to update the child views, and updates the status records for the children. This is expected to be called while a write lock is held on the model so that interaction with the layout thread will not happen (i.e. the layout thread acquires a read lock before doing anything).</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#replace(int,int,javax.swing.text.View%5B%5D)">replace</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>offset</code> - the starting offset into the child views &gt;= 0</dd> <dd>
<code>length</code> - the number of existing views to replace &gt;= 0</dd> <dd>
<code>views</code> - the child views to insert</dd> </dl>    <h3 id="loadChildren(javax.swing.text.ViewFactory)">loadChildren</h3> <pre data-language="java">protected void loadChildren(ViewFactory f)</pre> <div>
<p>Loads all of the children to initialize the view. This is called by the <a href="#setParent(javax.swing.text.View)"><code>setParent</code></a> method. Subclasses can reimplement this to initialize their child views in a different manner. The default implementation creates a child view for each child element. </p>
<p> Normally a write-lock is held on the Document while the children are being changed, which keeps the rendering and layout threads safe. The exception to this is when the view is initialized to represent an existing element (via this method), so it is synchronized to exclude preferenceChanged while we are initializing.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>f</code> - the view factory</dd> <dt>See Also:</dt> <dd><a href="#setParent(javax.swing.text.View)"><code>setParent(javax.swing.text.View)</code></a></dd> </dl>    <h3 id="getViewIndexAtPosition(int,javax.swing.text.Position.Bias)">getViewIndexAtPosition</h3> <pre data-language="java">protected int getViewIndexAtPosition(int pos,
                                     Position.Bias b)</pre> <p>Fetches the child view index representing the given position in the model. This is implemented to fetch the view in the case where there is a child view for each child element.</p> <dl> <dt>Parameters:</dt> <dd>
<code>pos</code> - the position &gt;= 0</dd> <dd>
<code>b</code> - the position bias</dd> <dt>Returns:</dt> <dd>index of the view representing the given position, or -1 if no view represents that position</dd> </dl>    <h3 id="updateLayout(javax.swing.event.DocumentEvent.ElementChange,javax.swing.event.DocumentEvent,java.awt.Shape)">updateLayout</h3> <pre data-language="java">protected void updateLayout(DocumentEvent.ElementChange ec,
                            DocumentEvent e,
                            Shape a)</pre> <p>Update the layout in response to receiving notification of change from the model. This is implemented to note the change on the ChildLocator so that offsets of the children will be correctly computed.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#updateLayout(javax.swing.event.DocumentEvent.ElementChange,javax.swing.event.DocumentEvent,java.awt.Shape)">updateLayout</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>ec</code> - changes to the element this view is responsible for (may be null if there were no changes).</dd> <dd>
<code>e</code> - the change information from the associated document</dd> <dd>
<code>a</code> - the current allocation of the view</dd> <dt>See Also:</dt> <dd>
<a href="view#insertUpdate(javax.swing.event.DocumentEvent,java.awt.Shape,javax.swing.text.ViewFactory)"><code>View.insertUpdate(javax.swing.event.DocumentEvent, java.awt.Shape, javax.swing.text.ViewFactory)</code></a>, <a href="view#removeUpdate(javax.swing.event.DocumentEvent,java.awt.Shape,javax.swing.text.ViewFactory)"><code>View.removeUpdate(javax.swing.event.DocumentEvent, java.awt.Shape, javax.swing.text.ViewFactory)</code></a>, <a href="view#changedUpdate(javax.swing.event.DocumentEvent,java.awt.Shape,javax.swing.text.ViewFactory)"><code>View.changedUpdate(javax.swing.event.DocumentEvent, java.awt.Shape, javax.swing.text.ViewFactory)</code></a>
</dd> </dl>    <h3 id="setParent(javax.swing.text.View)">setParent</h3> <pre data-language="java">public void setParent(View parent)</pre> <p>Sets the parent of the view. This is reimplemented to provide the superclass behavior as well as calling the <code>loadChildren</code> method if this view does not already have children. The children should not be loaded in the constructor because the act of setting the parent may cause them to try to search up the hierarchy (to get the hosting Container for example). If this view has children (the view is being moved from one place in the view hierarchy to another), the <code>loadChildren</code> method will not be called.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#setParent(javax.swing.text.View)">setParent</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>parent</code> - the parent of the view, null if none</dd> </dl>    <h3 id="preferenceChanged(javax.swing.text.View,boolean,boolean)">preferenceChanged</h3> <pre data-language="java">public void preferenceChanged(View child,
                              boolean width,
                              boolean height)</pre> <p>Child views can call this on the parent to indicate that the preference has changed and should be reconsidered for layout. This is reimplemented to queue new work on the layout thread. This method gets messaged from multiple threads via the children.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#preferenceChanged(javax.swing.text.View,boolean,boolean)">preferenceChanged</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>child</code> - the child view</dd> <dd>
<code>width</code> - true if the width preference has changed</dd> <dd>
<code>height</code> - true if the height preference has changed</dd> <dt>See Also:</dt> <dd><a href="../jcomponent#revalidate()"><code>JComponent.revalidate()</code></a></dd> </dl>    <h3 id="setSize(float,float)">setSize</h3> <pre data-language="java">public void setSize(float width,
                    float height)</pre> <div>
<p>Sets the size of the view. This should cause layout of the view if the view caches any layout information. </p>
<p> Since the major axis is updated asynchronously and should be the sum of the tiled children the call is ignored for the major axis. Since the minor axis is flexible, work is queued to resize the children if the minor span changes.</p>
</div> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#setSize(float,float)">setSize</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>width</code> - the width &gt;= 0</dd> <dd>
<code>height</code> - the height &gt;= 0</dd> </dl>    <h3 id="paint(java.awt.Graphics,java.awt.Shape)">paint</h3> <pre data-language="java">public void paint(Graphics g,
                  Shape alloc)</pre> <div>
<p>Render the view using the given allocation and rendering surface. </p>
<p> This is implemented to determine whether or not the desired region to be rendered (i.e. the unclipped area) is up to date or not. If up-to-date the children are rendered. If not up-to-date, a task to build the desired area is placed on the layout queue as a high priority task. This keeps by event thread moving by rendering if ready, and postponing until a later time if not ready (since paint requests can be rescheduled).</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="view#paint(java.awt.Graphics,java.awt.Shape)">paint</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>g</code> - the rendering surface to use</dd> <dd>
<code>alloc</code> - the allocated region to render into</dd> <dt>See Also:</dt> <dd><a href="view#paint(java.awt.Graphics,java.awt.Shape)"><code>View.paint(java.awt.Graphics, java.awt.Shape)</code></a></dd> </dl>    <h3 id="getPreferredSpan(int)">getPreferredSpan</h3> <pre data-language="java">public float getPreferredSpan(int axis)</pre> <p>Determines the preferred span for this view along an axis.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="view#getPreferredSpan(int)">getPreferredSpan</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>axis</code> - may be either View.X_AXIS or View.Y_AXIS</dd> <dt>Returns:</dt> <dd>the span the view would like to be rendered into &gt;= 0. Typically the view is told to render into the span that is returned, although there is no guarantee. The parent may choose to resize or break the view.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - for an invalid axis type</dd> <dt>See Also:</dt> <dd><a href="view#getPreferredSpan(int)"><code>View.getPreferredSpan(int)</code></a></dd> </dl>    <h3 id="getMinimumSpan(int)">getMinimumSpan</h3> <pre data-language="java">public float getMinimumSpan(int axis)</pre> <p>Determines the minimum span for this view along an axis.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#getMinimumSpan(int)">getMinimumSpan</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>axis</code> - may be either View.X_AXIS or View.Y_AXIS</dd> <dt>Returns:</dt> <dd>the span the view would like to be rendered into &gt;= 0. Typically the view is told to render into the span that is returned, although there is no guarantee. The parent may choose to resize or break the view.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - for an invalid axis type</dd> <dt>See Also:</dt> <dd><a href="view#getPreferredSpan(int)"><code>View.getPreferredSpan(int)</code></a></dd> </dl>    <h3 id="getMaximumSpan(int)">getMaximumSpan</h3> <pre data-language="java">public float getMaximumSpan(int axis)</pre> <p>Determines the maximum span for this view along an axis.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#getMaximumSpan(int)">getMaximumSpan</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>axis</code> - may be either View.X_AXIS or View.Y_AXIS</dd> <dt>Returns:</dt> <dd>the span the view would like to be rendered into &gt;= 0. Typically the view is told to render into the span that is returned, although there is no guarantee. The parent may choose to resize or break the view.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - for an invalid axis type</dd> <dt>See Also:</dt> <dd><a href="view#getPreferredSpan(int)"><code>View.getPreferredSpan(int)</code></a></dd> </dl>    <h3 id="getViewCount()">getViewCount</h3> <pre data-language="java">public int getViewCount()</pre> <p>Returns the number of views in this view. Since the default is to not be a composite view this returns 0.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#getViewCount()">getViewCount</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Returns:</dt> <dd>the number of views &gt;= 0</dd> <dt>See Also:</dt> <dd><a href="view#getViewCount()"><code>View.getViewCount()</code></a></dd> </dl>    <h3 id="getView(int)">getView</h3> <pre data-language="java">public View getView(int n)</pre> <p>Gets the nth child view. Since there are no children by default, this returns null.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#getView(int)">getView</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>n</code> - the number of the view to get, &gt;= 0 &amp;&amp; &lt; getViewCount()</dd> <dt>Returns:</dt> <dd>the view</dd> </dl>    <h3 id="getChildAllocation(int,java.awt.Shape)">getChildAllocation</h3> <pre data-language="java">public Shape getChildAllocation(int index,
                                Shape a)</pre> <p>Fetches the allocation for the given child view. This enables finding out where various views are located, without assuming the views store their location. This returns null since the default is to not have any child views.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#getChildAllocation(int,java.awt.Shape)">getChildAllocation</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>index</code> - the index of the child, &gt;= 0 &amp;&amp; &lt; getViewCount()</dd> <dd>
<code>a</code> - the allocation to this view.</dd> <dt>Returns:</dt> <dd>the allocation to the child</dd> </dl>    <h3 id="getViewIndex(int,javax.swing.text.Position.Bias)">getViewIndex</h3> <pre data-language="java">public int getViewIndex(int pos,
                        Position.Bias b)</pre> <p>Returns the child view index representing the given position in the model. By default a view has no children so this is implemented to return -1 to indicate there is no valid child index for any position.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#getViewIndex(int,javax.swing.text.Position.Bias)">getViewIndex</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>pos</code> - the position &gt;= 0</dd> <dd>
<code>b</code> - the bias</dd> <dt>Returns:</dt> <dd>index of the view representing the given position, or -1 if no view represents that position</dd> <dt>Since:</dt> <dd>1.3</dd> </dl>    <h3 id="modelToView(int,java.awt.Shape,javax.swing.text.Position.Bias)">modelToView</h3> <pre data-language="java">public Shape modelToView(int pos,
                         Shape a,
                         Position.Bias b)
                  throws BadLocationException</pre> <p>Provides a mapping from the document model coordinate space to the coordinate space of the view mapped to it.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="view#modelToView(int,java.awt.Shape,javax.swing.text.Position.Bias)">modelToView</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>pos</code> - the position to convert &gt;= 0</dd> <dd>
<code>a</code> - the allocated region to render into</dd> <dd>
<code>b</code> - the bias toward the previous character or the next character represented by the offset, in case the position is a boundary of two views.</dd> <dt>Returns:</dt> <dd>the bounding box of the given position is returned</dd> <dt>Throws:</dt> <dd>
<code><a href="badlocationexception">BadLocationException</a></code> - if the given position does not represent a valid location in the associated document</dd> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - for an invalid bias argument</dd> <dt>See Also:</dt> <dd><a href="view#viewToModel(float,float,java.awt.Shape,javax.swing.text.Position.Bias%5B%5D)"><code>View.viewToModel(float, float, java.awt.Shape, javax.swing.text.Position.Bias[])</code></a></dd> </dl>    <h3 id="viewToModel(float,float,java.awt.Shape,javax.swing.text.Position.Bias[])">viewToModel</h3> <pre data-language="java">public int viewToModel(float x,
                       float y,
                       Shape a,
                       Position.Bias[] biasReturn)</pre> <div>
<p>Provides a mapping from the view coordinate space to the logical coordinate space of the model. The biasReturn argument will be filled in to indicate that the point given is closer to the next character in the model or the previous character in the model. </p>
<p> This is expected to be called by the GUI thread, holding a read-lock on the associated model. It is implemented to locate the child view and determine it's allocation with a lock on the ChildLocator object, and to call viewToModel on the child view with a lock on the ChildState object to avoid interaction with the layout thread.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="view#viewToModel(float,float,java.awt.Shape,javax.swing.text.Position.Bias%5B%5D)">viewToModel</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>x</code> - the X coordinate &gt;= 0</dd> <dd>
<code>y</code> - the Y coordinate &gt;= 0</dd> <dd>
<code>a</code> - the allocated region to render into</dd> <dd>
<code>biasReturn</code> - the returned bias</dd> <dt>Returns:</dt> <dd>the location within the model that best represents the given point in the view &gt;= 0. The biasReturn argument will be filled in to indicate that the point given is closer to the next character in the model or the previous character in the model.</dd> </dl>    <h3 id="getNextVisualPositionFrom(int,javax.swing.text.Position.Bias,java.awt.Shape,int,javax.swing.text.Position.Bias[])">getNextVisualPositionFrom</h3> <pre data-language="java">public int getNextVisualPositionFrom(int pos,
                                     Position.Bias b,
                                     Shape a,
                                     int direction,
                                     Position.Bias[] biasRet)
                              throws BadLocationException</pre> <p>Provides a way to determine the next visually represented model location that one might place a caret. Some views may not be visible, they might not be in the same order found in the model, or they just might not allow access to some of the locations in the model. This method enables specifying a position to convert within the range of &gt;=0. If the value is -1, a position will be calculated automatically. If the value &lt; -1, the <code>BadLocationException</code> will be thrown.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="view#getNextVisualPositionFrom(int,javax.swing.text.Position.Bias,java.awt.Shape,int,javax.swing.text.Position.Bias%5B%5D)">getNextVisualPositionFrom</a></code> in class <code><a href="view">View</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>pos</code> - the position to convert</dd> <dd>
<code>a</code> - the allocated region to render into</dd> <dd>
<code>direction</code> - the direction from the current position that can be thought of as the arrow keys typically found on a keyboard; this may be one of the following: <ul style="list-style-type:none"> <li><code>SwingConstants.WEST</code></li> <li><code>SwingConstants.EAST</code></li> <li><code>SwingConstants.NORTH</code></li> <li><code>SwingConstants.SOUTH</code></li> </ul>
</dd> <dd>
<code>biasRet</code> - an array contain the bias that was checked</dd> <dd>
<code>b</code> - the bias</dd> <dt>Returns:</dt> <dd>the location within the model that best represents the next location visual position</dd> <dt>Throws:</dt> <dd>
<code><a href="badlocationexception">BadLocationException</a></code> - the given position is not a valid position within the document</dd> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>direction</code> is invalid</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/text/AsyncBoxView.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/text/AsyncBoxView.html</a>
  </p>
</div>
