  <main role="main">    <h1>Class TransportService</h1>   <ul class="inheritance"> <li><a href="../../../../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>com.sun.jdi.connect.spi.TransportService</li> </ul> </li> </ul>    <pre data-language="java">public abstract class TransportService
extends Object</pre> <div>
<p>A transport service for connections between a debugger and a target VM. </p>
<p> A transport service is a concrete subclass of this class that has a zero-argument constructor and implements the abstract methods specified below. It is the underlying service used by a <a href="../transport"><code>Transport</code></a> for connections between a debugger and a target VM. </p>
<p> A transport service is used to establish a connection between a debugger and a target VM, and to transport Java Debug Wire Protocol (JDWP) packets over an underlying communication protocol. In essence a transport service implementation binds JDWP (as specified in the <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/jdwp/jdwp-spec.html"> JDWP specification</a>) to an underlying communication protocol. A transport service implementation provides a reliable JDWP packet transportation service. JDWP packets are sent to and from the target VM without duplication or data loss. A transport service implementation may be based on an underlying communication protocol that is reliable or unreliable. If the underlying communication protocol is reliable then the transport service implementation may be relatively simple and may only need to transport JDWP packets as payloads of the underlying communication protocol. In the case of an unreliable communication protocol the transport service implementation may include additional protocol support in order to ensure that packets are not duplicated and that there is no data loss. The details of such protocols are specific to the implementation but may involve techniques such as the <i>positive acknowledgment with retransmission</i> technique used in protocols such as the Transmission Control Protocol (TCP) (see <a href="http://www.ietf.org/rfc/rfc0793.txt"> RFC 793 </a>). </p>
<p> A transport service can be used to initiate a connection to a target VM. This is done by invoking the <a href="#attach(java.lang.String,long,long)"><code>attach(java.lang.String, long, long)</code></a> method. Alternatively, a transport service can listen and accept connections initiated by a target VM. This is done by invoking the <a href="#startListening(java.lang.String)"><code>startListening(String)</code></a> method to put the transport into listen mode. Then the <a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"><code>accept(com.sun.jdi.connect.spi.TransportService.ListenKey, long, long)</code></a> method is used to accept a connection initiated by a target VM.</p>
</div> <dl> <dt>Since:</dt> <dd>1.5</dd> </dl>      <section role="region">  <h2 id="nested.class.summary">Nested Classes</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Class</th> <th scope="col">Description</th> </tr> <tr> <td><code>static class </code></td> <th scope="row"><code><a href="transportservice.capabilities">TransportService.Capabilities</a></code></th> <td> <p>The transport service capabilities.</p> </td> </tr> <tr> <td><code>static class </code></td> <th scope="row"><code><a href="transportservice.listenkey">TransportService.ListenKey</a></code></th> <td> <p>A <i>listen key</i>.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E()">TransportService</a>()</code></th> <td> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>abstract <a href="connection">Connection</a></code></td> <th scope="row"><code><a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)">accept</a>​(<a href="transportservice.listenkey">TransportService.ListenKey</a> listenKey,
      long acceptTimeout,
      long handshakeTimeout)</code></th> <td> <p>Accept a connection from a target VM.</p> </td> </tr> <tr id="i1"> <td><code>abstract <a href="connection">Connection</a></code></td> <th scope="row"><code><a href="#attach(java.lang.String,long,long)">attach</a>​(<a href="../../../../../../java.base/java/lang/string">String</a> address,
      long attachTimeout,
      long handshakeTimeout)</code></th> <td> <p>Attaches to the specified address.</p> </td> </tr> <tr id="i2"> <td><code>abstract <a href="transportservice.capabilities">TransportService.Capabilities</a></code></td> <th scope="row"><code><a href="#capabilities()">capabilities</a>()</code></th> <td> <p>Returns the capabilities of the transport service.</p> </td> </tr> <tr id="i3"> <td><code>abstract <a href="../../../../../../java.base/java/lang/string">String</a></code></td> <th scope="row"><code><a href="#description()">description</a>()</code></th> <td> <p>Returns a description of the transport service.</p> </td> </tr> <tr id="i4"> <td><code>abstract <a href="../../../../../../java.base/java/lang/string">String</a></code></td> <th scope="row"><code><a href="#name()">name</a>()</code></th> <td> <p>Returns a name to identify the transport service.</p> </td> </tr> <tr id="i5"> <td><code>abstract <a href="transportservice.listenkey">TransportService.ListenKey</a></code></td> <th scope="row"><code><a href="#startListening()">startListening</a>()</code></th> <td> <p>Listens on an address chosen by the transport service.</p> </td> </tr> <tr id="i6"> <td><code>abstract <a href="transportservice.listenkey">TransportService.ListenKey</a></code></td> <th scope="row"><code><a href="#startListening(java.lang.String)">startListening</a>​(<a href="../../../../../../java.base/java/lang/string">String</a> address)</code></th> <td> <p>Listens on the specified address for inbound connections.</p> </td> </tr> <tr id="i7"> <td><code>abstract void</code></td> <th scope="row"><code><a href="#stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)">stopListening</a>​(<a href="transportservice.listenkey">TransportService.ListenKey</a> listenKey)</code></th> <td> <p>Stop listening for inbound connections.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;()">TransportService</h3> <pre data-language="java">public TransportService()</pre>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="name()">name</h3> <pre data-language="java">public abstract String name()</pre> <p>Returns a name to identify the transport service.</p> <dl> <dt>Returns:</dt> <dd>The name of the transport service</dd> </dl>    <h3 id="description()">description</h3> <pre data-language="java">public abstract String description()</pre> <p>Returns a description of the transport service.</p> <dl> <dt>Returns:</dt> <dd>The description of the transport service</dd> </dl>    <h3 id="capabilities()">capabilities</h3> <pre data-language="java">public abstract TransportService.Capabilities capabilities()</pre> <p>Returns the capabilities of the transport service.</p> <dl> <dt>Returns:</dt> <dd>the transport service capabilities</dd> </dl>    <h3 id="attach(java.lang.String,long,long)">attach</h3> <pre data-language="java">public abstract Connection attach(String address,
                                  long attachTimeout,
                                  long handshakeTimeout)
                           throws IOException</pre> <div>
<p>Attaches to the specified address. </p>
<p> Attaches to the specified address and returns a connection representing the bi-directional communication channel to the target VM. </p>
<p> Attaching to the target VM involves two steps: First, a connection is established to specified address. This is followed by a handshake to ensure that the connection is to a target VM. The handshake involves the exchange of a string <i>JDWP-Handshake</i> as specified in the <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/jdwp/jdwp-spec.html"> Java Debug Wire Protocol</a> specification.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>address</code> - The address of the target VM.</dd> <dd>
<code>attachTimeout</code> - If this transport service supports an attach timeout, and if <code>attachTimeout</code> is positive, then it specifies the timeout, in milliseconds (more or less), to use when attaching to the target VM. If the transport service does not support an attach timeout, or if <code>attachTimeout</code> is specified as zero then attach without any timeout.</dd> <dd>
<code>handshakeTimeout</code> - If this transport service supports a handshake timeout, and if <code>handshakeTimeout</code> is positive, then it specifies the timeout, in milliseconds (more or less), to use when handshaking with the target VM. The exact usage of the timeout are specific to the transport service. A transport service may, for example, use the handshake timeout as the inter-character timeout while waiting for the <i>JDWP-Handshake</i> message from the target VM. Alternatively, a transport service may, for example, use the handshakeTimeout as a timeout for the duration of the handshake exchange. If the transport service does not support a handshake timeout, or if <code>handshakeTimeout</code> is specified as zero then the handshake does not timeout if there isn't a response from the target VM.</dd> <dt>Returns:</dt> <dd>The Connection representing the bi-directional communication channel to the target VM.</dd> <dt>Throws:</dt> <dd>
<code><a href="../transporttimeoutexception">TransportTimeoutException</a></code> - If a timeout occurs while establishing the connection.</dd> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception">IOException</a></code> - If an I/O error occurs (including a timeout when handshaking).</dd> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - If the address is invalid or the value of the attach timeout or handshake timeout is negative.</dd> <dt>See Also:</dt> <dd><a href="transportservice.capabilities#supportsAttachTimeout()"><code>TransportService.Capabilities.supportsAttachTimeout()</code></a></dd> </dl>    <h3 id="startListening(java.lang.String)">startListening</h3> <pre data-language="java">public abstract TransportService.ListenKey startListening(String address)
                                                   throws IOException</pre> <div>
<p>Listens on the specified address for inbound connections. </p>
<p> This method starts the transport service listening on the specified address so that it can subsequently accept an inbound connection. It does not wait until an inbound connection is established.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>address</code> - The address to start listening for connections, or <code>null</code> to listen on an address chosen by the transport service.</dd> <dt>Returns:</dt> <dd>a listen key to be used in subsequent calls to be <a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"><code>accept</code></a> or <a href="#stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)"><code>stopListening</code></a> methods.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception">IOException</a></code> - If an I/O error occurs.</dd> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - If the specific address is invalid</dd> </dl>    <h3 id="startListening()">startListening</h3> <pre data-language="java">public abstract TransportService.ListenKey startListening()
                                                   throws IOException</pre> <div>
<p>Listens on an address chosen by the transport service. </p>
<p> This convenience method works as if by invoking <a href="#startListening(java.lang.String)"><code>startListening(null)</code></a>.</p>
</div> <dl> <dt>Returns:</dt> <dd>a listen key to be used in subsequent calls to be <a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"><code>accept</code></a> or <a href="#stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)"><code>stopListening</code></a> methods.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception">IOException</a></code> - If an I/O error occurs.</dd> </dl>    <h3 id="stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)">stopListening</h3> <pre data-language="java">public abstract void stopListening(TransportService.ListenKey listenKey)
                            throws IOException</pre> <div>
<p>Stop listening for inbound connections. </p>
<p> Invoking this method while another thread is blocked in <a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"><code>accept</code></a>, with the same listen key, waiting to accept a connection will cause that thread to throw an IOException. If the thread blocked in accept has already accepted a connection from a target VM and is in the process of handshaking with the target VM then invoking this method will not cause the thread to throw an exception.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>listenKey</code> - The listen key obtained from a previous call to <a href="#startListening(java.lang.String)"><code>startListening(String)</code></a> or <a href="#startListening()"><code>startListening()</code></a>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - If the listen key is invalid</dd> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception">IOException</a></code> - If an I/O error occurs.</dd> </dl>    <h3 id="accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)">accept</h3> <pre data-language="java">public abstract Connection accept(TransportService.ListenKey listenKey,
                                  long acceptTimeout,
                                  long handshakeTimeout)
                           throws IOException</pre> <div>
<p>Accept a connection from a target VM. </p>
<p> Waits (indefinitely or with timeout) to accept a connection from a target VM. Returns a connection representing the bi-directional communication channel to the target VM. </p>
<p> Accepting a connection from a target VM involves two steps. First, the transport service waits to accept the connection from the target VM. Once the connection is established a handshake is performed to ensure that the connection is indeed to a target VM. The handshake involves the exchange of a string <i>JDWP-Handshake</i> as specified in the <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/jdwp/jdwp-spec.html"> Java Debug Wire Protocol</a> specification.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>listenKey</code> - A listen key obtained from a previous call to <a href="#startListening(java.lang.String)"><code>startListening(String)</code></a> or <a href="#startListening()"><code>startListening()</code></a>.</dd> <dd>
<code>acceptTimeout</code> - if this transport service supports an accept timeout, and if <code>acceptTimeout</code> is positive then block for up to <code>acceptTimeout</code> milliseconds, more or less, while waiting for the target VM to connect. If the transport service does not support an accept timeout or if <code>acceptTimeout</code> is zero then block indefinitely for a target VM to connect.</dd> <dd>
<code>handshakeTimeout</code> - If this transport service supports a handshake timeout, and if <code>handshakeTimeout</code> is positive, then it specifies the timeout, in milliseconds (more or less), to use when handshaking with the target VM. The exact usage of the timeout is specific to the transport service. A transport service may, for example, use the handshake timeout as the inter-character timeout while waiting for the <i>JDWP-Handshake</i> message from the target VM. Alternatively, a transport service may, for example, use the timeout as a timeout for the duration of the handshake exchange. If the transport service does not support a handshake timeout, of if <code>handshakeTimeout</code> is specified as zero then the handshake does not timeout if there isn't a response from the target VM.</dd> <dt>Returns:</dt> <dd>The Connection representing the bi-directional communication channel to the target VM.</dd> <dt>Throws:</dt> <dd>
<code><a href="../transporttimeoutexception">TransportTimeoutException</a></code> - If a timeout occurs while waiting for a target VM to connect.</dd> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception">IOException</a></code> - If an I/O error occurs (including a timeout when handshaking).</dd> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - If the value of the acceptTimeout argument, or handshakeTimeout is negative, or an invalid listen key is provided.</dd> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - If <a href="#stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)"><code>stopListening</code></a> has already been called with this listen key and the transport service is no longer listening for inbound connections.</dd> <dt>See Also:</dt> <dd><a href="transportservice.capabilities#supportsAcceptTimeout()"><code>TransportService.Capabilities.supportsAcceptTimeout()</code></a></dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jdi/com/sun/jdi/connect/spi/TransportService.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jdi/com/sun/jdi/connect/spi/TransportService.html</a>
  </p>
</div>
