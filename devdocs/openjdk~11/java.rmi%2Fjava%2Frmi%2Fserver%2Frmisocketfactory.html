  <main role="main">    <h1>Class RMISocketFactory</h1>   <ul class="inheritance"> <li><a href="../../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>java.rmi.server.RMISocketFactory</li> </ul> </li> </ul>   <dl> <dt>All Implemented Interfaces:</dt> <dd>
<code><a href="rmiclientsocketfactory">RMIClientSocketFactory</a></code>, <code><a href="rmiserversocketfactory">RMIServerSocketFactory</a></code>
</dd> </dl>  <pre data-language="java">public abstract class RMISocketFactory
extends Object
implements RMIClientSocketFactory, RMIServerSocketFactory</pre> <div>
<p>An <code>RMISocketFactory</code> instance is used by the RMI runtime in order to obtain client and server sockets for RMI calls. An application may use the <code>setSocketFactory</code> method to request that the RMI runtime use its socket factory instance instead of the default implementation. </p>
<p>The default socket factory implementation creates a direct socket connection to the remote host. </p>
<p>The default socket factory implementation creates server sockets that are bound to the wildcard address, which accepts requests from all network interfaces.</p>
</div> <dl> <dt>Implementation Note:</dt> <dd>
<p>You can use the <code>RMISocketFactory</code> class to create a server socket that is bound to a specific address, restricting the origin of requests. For example, the following code implements a socket factory that binds server sockets to an IPv4 loopback address. This restricts RMI to processing requests only from the local host. </p>
<pre data-language="java">class LoopbackSocketFactory extends RMISocketFactory {
         public ServerSocket createServerSocket(int port) throws IOException {
             return new ServerSocket(port, 5, InetAddress.getByName("127.0.0.1"));
         }

         public Socket createSocket(String host, int port) throws IOException {
             // just call the default client socket factory
             return RMISocketFactory.getDefaultSocketFactory()
                                    .createSocket(host, port);
         }
     }

     // ...

     RMISocketFactory.setSocketFactory(new LoopbackSocketFactory());</pre> Set the <code>java.rmi.server.hostname</code> system property to <code>127.0.0.1</code> to ensure that the generated stubs connect to the right network interface.</dd> <dt>Since:</dt> <dd>1.1</dd> </dl>      <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E()">RMISocketFactory</a>()</code></th> <td> <p>Constructs an <code>RMISocketFactory</code>.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>abstract <a href="../../../../java.base/java/net/serversocket">ServerSocket</a></code></td> <th scope="row"><code><a href="#createServerSocket(int)">createServerSocket</a>​(int port)</code></th> <td> <p>Create a server socket on the specified port (port 0 indicates an anonymous port).</p> </td> </tr> <tr id="i1"> <td><code>abstract <a href="../../../../java.base/java/net/socket">Socket</a></code></td> <th scope="row"><code><a href="#createSocket(java.lang.String,int)">createSocket</a>​(<a href="../../../../java.base/java/lang/string">String</a> host,
            int port)</code></th> <td> <p>Creates a client socket connected to the specified host and port.</p> </td> </tr> <tr id="i2"> <td><code>static <a href="rmisocketfactory">RMISocketFactory</a></code></td> <th scope="row"><code><a href="#getDefaultSocketFactory()">getDefaultSocketFactory</a>()</code></th> <td> <p>Returns a reference to the default socket factory used by this RMI implementation.</p> </td> </tr> <tr id="i3"> <td><code>static <a href="rmifailurehandler">RMIFailureHandler</a></code></td> <th scope="row"><code><a href="#getFailureHandler()">getFailureHandler</a>()</code></th> <td> <p>Returns the handler for socket creation failure set by the <code>setFailureHandler</code> method.</p> </td> </tr> <tr id="i4"> <td><code>static <a href="rmisocketfactory">RMISocketFactory</a></code></td> <th scope="row"><code><a href="#getSocketFactory()">getSocketFactory</a>()</code></th> <td> <p>Returns the socket factory set by the <code>setSocketFactory</code> method.</p> </td> </tr> <tr id="i5"> <td><code>static void</code></td> <th scope="row"><code><a href="#setFailureHandler(java.rmi.server.RMIFailureHandler)">setFailureHandler</a>​(<a href="rmifailurehandler">RMIFailureHandler</a> fh)</code></th> <td> <p>Sets the failure handler to be called by the RMI runtime if server socket creation fails.</p> </td> </tr> <tr id="i6"> <td><code>static void</code></td> <th scope="row"><code><a href="#setSocketFactory(java.rmi.server.RMISocketFactory)">setSocketFactory</a>​(<a href="rmisocketfactory">RMISocketFactory</a> fac)</code></th> <td> <p>Set the global socket factory from which RMI gets sockets (if the remote object is not associated with a specific client and/or server socket factory).</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;()">RMISocketFactory</h3> <pre data-language="java">public RMISocketFactory()</pre> <p>Constructs an <code>RMISocketFactory</code>.</p> <dl> <dt>Since:</dt> <dd>1.1</dd> </dl>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="createSocket(java.lang.String,int)">createSocket</h3> <pre data-language="java">public abstract Socket createSocket(String host,
                                    int port)
                             throws IOException</pre> <p>Creates a client socket connected to the specified host and port.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="rmiclientsocketfactory#createSocket(java.lang.String,int)">createSocket</a></code> in interface <code><a href="rmiclientsocketfactory">RMIClientSocketFactory</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>host</code> - the host name</dd> <dd>
<code>port</code> - the port number</dd> <dt>Returns:</dt> <dd>a socket connected to the specified host and port.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/io/ioexception">IOException</a></code> - if an I/O error occurs during socket creation</dd> <dt>Since:</dt> <dd>1.1</dd> </dl>    <h3 id="createServerSocket(int)">createServerSocket</h3> <pre data-language="java">public abstract ServerSocket createServerSocket(int port)
                                         throws IOException</pre> <p>Create a server socket on the specified port (port 0 indicates an anonymous port).</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="rmiserversocketfactory#createServerSocket(int)">createServerSocket</a></code> in interface <code><a href="rmiserversocketfactory">RMIServerSocketFactory</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>port</code> - the port number</dd> <dt>Returns:</dt> <dd>the server socket on the specified port</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/io/ioexception">IOException</a></code> - if an I/O error occurs during server socket creation</dd> <dt>Since:</dt> <dd>1.1</dd> </dl>    <h3 id="setSocketFactory(java.rmi.server.RMISocketFactory)">setSocketFactory</h3> <pre data-language="java">public static void setSocketFactory(RMISocketFactory fac)
                             throws IOException</pre> <p>Set the global socket factory from which RMI gets sockets (if the remote object is not associated with a specific client and/or server socket factory). The RMI socket factory can only be set once. Note: The RMISocketFactory may only be set if the current security manager allows setting a socket factory; if disallowed, a SecurityException will be thrown.</p> <dl> <dt>Parameters:</dt> <dd>
<code>fac</code> - the socket factory</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/io/ioexception">IOException</a></code> - if the RMI socket factory is already set</dd> <dd>
<code><a href="../../../../java.base/java/lang/securityexception">SecurityException</a></code> - if a security manager exists and its <code>checkSetFactory</code> method doesn't allow the operation.</dd> <dt>Since:</dt> <dd>1.1</dd> <dt>See Also:</dt> <dd>
<a href="#getSocketFactory()"><code>getSocketFactory()</code></a>, <a href="../../../../java.base/java/lang/securitymanager#checkSetFactory()"><code>SecurityManager.checkSetFactory()</code></a>
</dd> </dl>    <h3 id="getSocketFactory()">getSocketFactory</h3> <pre data-language="java">public static RMISocketFactory getSocketFactory()</pre> <p>Returns the socket factory set by the <code>setSocketFactory</code> method. Returns <code>null</code> if no socket factory has been set.</p> <dl> <dt>Returns:</dt> <dd>the socket factory</dd> <dt>Since:</dt> <dd>1.1</dd> <dt>See Also:</dt> <dd><a href="#setSocketFactory(java.rmi.server.RMISocketFactory)"><code>setSocketFactory(RMISocketFactory)</code></a></dd> </dl>    <h3 id="getDefaultSocketFactory()">getDefaultSocketFactory</h3> <pre data-language="java">public static RMISocketFactory getDefaultSocketFactory()</pre> <p>Returns a reference to the default socket factory used by this RMI implementation. This will be the factory used by the RMI runtime when <code>getSocketFactory</code> returns <code>null</code>.</p> <dl> <dt>Returns:</dt> <dd>the default RMI socket factory</dd> <dt>Since:</dt> <dd>1.1</dd> </dl>    <h3 id="setFailureHandler(java.rmi.server.RMIFailureHandler)">setFailureHandler</h3> <pre data-language="java">public static void setFailureHandler(RMIFailureHandler fh)</pre> <div>
<p>Sets the failure handler to be called by the RMI runtime if server socket creation fails. By default, if no failure handler is installed and server socket creation fails, the RMI runtime does attempt to recreate the server socket. </p>
<p>If there is a security manager, this method first calls the security manager's <code>checkSetFactory</code> method to ensure the operation is allowed. This could result in a <code>SecurityException</code>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>fh</code> - the failure handler</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/securityexception">SecurityException</a></code> - if a security manager exists and its <code>checkSetFactory</code> method doesn't allow the operation.</dd> <dt>Since:</dt> <dd>1.1</dd> <dt>See Also:</dt> <dd>
<a href="#getFailureHandler()"><code>getFailureHandler()</code></a>, <a href="rmifailurehandler#failure(java.lang.Exception)"><code>RMIFailureHandler.failure(Exception)</code></a>
</dd> </dl>    <h3 id="getFailureHandler()">getFailureHandler</h3> <pre data-language="java">public static RMIFailureHandler getFailureHandler()</pre> <p>Returns the handler for socket creation failure set by the <code>setFailureHandler</code> method.</p> <dl> <dt>Returns:</dt> <dd>the failure handler</dd> <dt>Since:</dt> <dd>1.1</dd> <dt>See Also:</dt> <dd><a href="#setFailureHandler(java.rmi.server.RMIFailureHandler)"><code>setFailureHandler(RMIFailureHandler)</code></a></dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.rmi/java/rmi/server/RMISocketFactory.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.rmi/java/rmi/server/RMISocketFactory.html</a>
  </p>
</div>
