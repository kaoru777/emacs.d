  <main role="main">    <h1>Class JarSigner.Builder</h1>   <ul class="inheritance"> <li><a href="../../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>jdk.security.jarsigner.JarSigner.Builder</li> </ul> </li> </ul>   <dl> <dt>Enclosing class:</dt> <dd><a href="jarsigner">JarSigner</a></dd> </dl>  <pre data-language="java">public static class JarSigner.Builder
extends Object</pre> <p>A mutable builder class that can create an immutable <code>JarSigner</code> from various signing-related parameters.</p> <dl> <dt>Since:</dt> <dd>9</dd> </dl>      <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(java.security.KeyStore.PrivateKeyEntry)">Builder</a>​(<a href="../../../../java.base/java/security/keystore.privatekeyentry">KeyStore.PrivateKeyEntry</a> entry)</code></th> <td> <p>Creates a <code>JarSigner.Builder</code> object with a <a href="../../../../java.base/java/security/keystore.privatekeyentry"><code>KeyStore.PrivateKeyEntry</code></a> object.</p> </td> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(java.security.PrivateKey,java.security.cert.CertPath)">Builder</a>​(<a href="../../../../java.base/java/security/privatekey">PrivateKey</a> privateKey,
       <a href="../../../../java.base/java/security/cert/certpath">CertPath</a> certPath)</code></th> <td> <p>Creates a <code>JarSigner.Builder</code> object with a private key and a certification path.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code><a href="jarsigner">JarSigner</a></code></td> <th scope="row"><code><a href="#build()">build</a>()</code></th> <td> <p>Builds a <code>JarSigner</code> object from the parameters set by the setter methods.</p> </td> </tr> <tr id="i1"> <td><code><a href="jarsigner.builder">JarSigner.Builder</a></code></td> <th scope="row"><code><a href="#digestAlgorithm(java.lang.String)">digestAlgorithm</a>​(<a href="../../../../java.base/java/lang/string">String</a> algorithm)</code></th> <td> <p>Sets the digest algorithm.</p> </td> </tr> <tr id="i2"> <td><code><a href="jarsigner.builder">JarSigner.Builder</a></code></td> <th scope="row"><code><a href="#digestAlgorithm(java.lang.String,java.security.Provider)">digestAlgorithm</a>​(<a href="../../../../java.base/java/lang/string">String</a> algorithm,
               <a href="../../../../java.base/java/security/provider">Provider</a> provider)</code></th> <td> <p>Sets the digest algorithm from the specified provider.</p> </td> </tr> <tr id="i3"> <td><code><a href="jarsigner.builder">JarSigner.Builder</a></code></td> <th scope="row"><code><a href="#eventHandler(java.util.function.BiConsumer)">eventHandler</a>​(<a href="../../../../java.base/java/util/function/biconsumer">BiConsumer</a>&lt;<a href="../../../../java.base/java/lang/string">String</a>,​<a href="../../../../java.base/java/lang/string">String</a>&gt; handler)</code></th> <td> <p>Sets en event handler that will be triggered when a <a href="../../../../java.base/java/util/jar/jarentry"><code>JarEntry</code></a> is to be added, signed, or updated during the signing process.</p> </td> </tr> <tr id="i4"> <td><code>static <a href="../../../../java.base/java/lang/string">String</a></code></td> <th scope="row"><code><a href="#getDefaultDigestAlgorithm()">getDefaultDigestAlgorithm</a>()</code></th> <td> <p>Gets the default digest algorithm.</p> </td> </tr> <tr id="i5"> <td><code>static <a href="../../../../java.base/java/lang/string">String</a></code></td> <th scope="row"><code><a href="#getDefaultSignatureAlgorithm(java.security.PrivateKey)">getDefaultSignatureAlgorithm</a>​(<a href="../../../../java.base/java/security/privatekey">PrivateKey</a> key)</code></th> <td> <p>Gets the default signature algorithm for a private key.</p> </td> </tr> <tr id="i6"> <td><code><a href="jarsigner.builder">JarSigner.Builder</a></code></td> <th scope="row"><code><a href="#setProperty(java.lang.String,java.lang.String)">setProperty</a>​(<a href="../../../../java.base/java/lang/string">String</a> key,
           <a href="../../../../java.base/java/lang/string">String</a> value)</code></th> <td> <p>Sets an additional implementation-specific property indicated by the specified key.</p> </td> </tr> <tr id="i7"> <td><code><a href="jarsigner.builder">JarSigner.Builder</a></code></td> <th scope="row"><code><a href="#signatureAlgorithm(java.lang.String)">signatureAlgorithm</a>​(<a href="../../../../java.base/java/lang/string">String</a> algorithm)</code></th> <td> <p>Sets the signature algorithm.</p> </td> </tr> <tr id="i8"> <td><code><a href="jarsigner.builder">JarSigner.Builder</a></code></td> <th scope="row"><code><a href="#signatureAlgorithm(java.lang.String,java.security.Provider)">signatureAlgorithm</a>​(<a href="../../../../java.base/java/lang/string">String</a> algorithm,
                  <a href="../../../../java.base/java/security/provider">Provider</a> provider)</code></th> <td> <p>Sets the signature algorithm from the specified provider.</p> </td> </tr> <tr id="i9"> <td><code><a href="jarsigner.builder">JarSigner.Builder</a></code></td> <th scope="row"><code><a href="#signerName(java.lang.String)">signerName</a>​(<a href="../../../../java.base/java/lang/string">String</a> name)</code></th> <td> <p>Sets the signer name.</p> </td> </tr> <tr id="i10"> <td><code><a href="jarsigner.builder">JarSigner.Builder</a></code></td> <th scope="row"><code><a href="#tsa(java.net.URI)">tsa</a>​(<a href="../../../../java.base/java/net/uri">URI</a> uri)</code></th> <td> <p>Sets the URI of the Time Stamping Authority (TSA).</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;(java.security.KeyStore.PrivateKeyEntry)">Builder</h3> <pre data-language="java">public Builder(KeyStore.PrivateKeyEntry entry)</pre> <p>Creates a <code>JarSigner.Builder</code> object with a <a href="../../../../java.base/java/security/keystore.privatekeyentry"><code>KeyStore.PrivateKeyEntry</code></a> object.</p> <dl> <dt>Parameters:</dt> <dd>
<code>entry</code> - the <a href="../../../../java.base/java/security/keystore.privatekeyentry"><code>KeyStore.PrivateKeyEntry</code></a> of the signer.</dd> </dl>    <h3 id="&lt;init&gt;(java.security.PrivateKey,java.security.cert.CertPath)">Builder</h3> <pre data-language="java">public Builder(PrivateKey privateKey,
               CertPath certPath)</pre> <p>Creates a <code>JarSigner.Builder</code> object with a private key and a certification path.</p> <dl> <dt>Parameters:</dt> <dd>
<code>privateKey</code> - the private key of the signer.</dd> <dd>
<code>certPath</code> - the certification path of the signer.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>certPath</code> is empty, or the <code>privateKey</code> algorithm does not match the algorithm of the <code>PublicKey</code> in the end entity certificate (the first certificate in <code>certPath</code>).</dd> </dl>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="digestAlgorithm(java.lang.String)">digestAlgorithm</h3> <pre data-language="java">public JarSigner.Builder digestAlgorithm(String algorithm)
                                  throws NoSuchAlgorithmException</pre> <p>Sets the digest algorithm. If no digest algorithm is specified, the default algorithm returned by <a href="#getDefaultDigestAlgorithm()"><code>getDefaultDigestAlgorithm()</code></a> will be used.</p> <dl> <dt>Parameters:</dt> <dd>
<code>algorithm</code> - the standard name of the algorithm. See the <code>MessageDigest</code> section in the <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#messagedigest-algorithms"> Java Cryptography Architecture Standard Algorithm Name Documentation</a> for information about standard algorithm names.</dd> <dt>Returns:</dt> <dd>the <code>JarSigner.Builder</code> itself.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/security/nosuchalgorithmexception">NoSuchAlgorithmException</a></code> - if <code>algorithm</code> is not available.</dd> </dl>    <h3 id="digestAlgorithm(java.lang.String,java.security.Provider)">digestAlgorithm</h3> <pre data-language="java">public JarSigner.Builder digestAlgorithm(String algorithm,
                                         Provider provider)
                                  throws NoSuchAlgorithmException</pre> <p>Sets the digest algorithm from the specified provider. If no digest algorithm is specified, the default algorithm returned by <a href="#getDefaultDigestAlgorithm()"><code>getDefaultDigestAlgorithm()</code></a> will be used.</p> <dl> <dt>Parameters:</dt> <dd>
<code>algorithm</code> - the standard name of the algorithm. See the <code>MessageDigest</code> section in the <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#messagedigest-algorithms"> Java Cryptography Architecture Standard Algorithm Name Documentation</a> for information about standard algorithm names.</dd> <dd>
<code>provider</code> - the provider.</dd> <dt>Returns:</dt> <dd>the <code>JarSigner.Builder</code> itself.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/security/nosuchalgorithmexception">NoSuchAlgorithmException</a></code> - if <code>algorithm</code> is not available in the specified provider.</dd> </dl>    <h3 id="signatureAlgorithm(java.lang.String)">signatureAlgorithm</h3> <pre data-language="java">public JarSigner.Builder signatureAlgorithm(String algorithm)
                                     throws NoSuchAlgorithmException</pre> <p>Sets the signature algorithm. If no signature algorithm is specified, the default signature algorithm returned by <a href="#getDefaultSignatureAlgorithm(java.security.PrivateKey)"><code>getDefaultSignatureAlgorithm(java.security.PrivateKey)</code></a> for the private key will be used.</p> <dl> <dt>Parameters:</dt> <dd>
<code>algorithm</code> - the standard name of the algorithm. See the <code>Signature</code> section in the <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#signature-algorithms"> Java Cryptography Architecture Standard Algorithm Name Documentation</a> for information about standard algorithm names.</dd> <dt>Returns:</dt> <dd>the <code>JarSigner.Builder</code> itself.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/security/nosuchalgorithmexception">NoSuchAlgorithmException</a></code> - if <code>algorithm</code> is not available.</dd> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>algorithm</code> is not compatible with the algorithm of the signer's private key.</dd> </dl>    <h3 id="signatureAlgorithm(java.lang.String,java.security.Provider)">signatureAlgorithm</h3> <pre data-language="java">public JarSigner.Builder signatureAlgorithm(String algorithm,
                                            Provider provider)
                                     throws NoSuchAlgorithmException</pre> <p>Sets the signature algorithm from the specified provider. If no signature algorithm is specified, the default signature algorithm returned by <a href="#getDefaultSignatureAlgorithm(java.security.PrivateKey)"><code>getDefaultSignatureAlgorithm(java.security.PrivateKey)</code></a> for the private key will be used.</p> <dl> <dt>Parameters:</dt> <dd>
<code>algorithm</code> - the standard name of the algorithm. See the <code>Signature</code> section in the <a href="https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#signature-algorithms"> Java Cryptography Architecture Standard Algorithm Name Documentation</a> for information about standard algorithm names.</dd> <dd>
<code>provider</code> - the provider.</dd> <dt>Returns:</dt> <dd>the <code>JarSigner.Builder</code> itself.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/security/nosuchalgorithmexception">NoSuchAlgorithmException</a></code> - if <code>algorithm</code> is not available in the specified provider.</dd> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>algorithm</code> is not compatible with the algorithm of the signer's private key.</dd> </dl>    <h3 id="tsa(java.net.URI)">tsa</h3> <pre data-language="java">public JarSigner.Builder tsa(URI uri)</pre> <p>Sets the URI of the Time Stamping Authority (TSA).</p> <dl> <dt>Parameters:</dt> <dd>
<code>uri</code> - the URI.</dd> <dt>Returns:</dt> <dd>the <code>JarSigner.Builder</code> itself.</dd> </dl>    <h3 id="signerName(java.lang.String)">signerName</h3> <pre data-language="java">public JarSigner.Builder signerName(String name)</pre> <p>Sets the signer name. The name will be used as the base name for the signature files. All lowercase characters will be converted to uppercase for signature file names. If a signer name is not specified, the string "SIGNER" will be used.</p> <dl> <dt>Parameters:</dt> <dd>
<code>name</code> - the signer name.</dd> <dt>Returns:</dt> <dd>the <code>JarSigner.Builder</code> itself.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>name</code> is empty or has a size bigger than 8, or it contains characters not from the set "a-zA-Z0-9_-".</dd> </dl>    <h3 id="eventHandler(java.util.function.BiConsumer)">eventHandler</h3> <pre data-language="java">public JarSigner.Builder eventHandler(BiConsumer&lt;String,​String&gt; handler)</pre> <div>
<p>Sets en event handler that will be triggered when a <a href="../../../../java.base/java/util/jar/jarentry"><code>JarEntry</code></a> is to be added, signed, or updated during the signing process. </p>
<p> The handler can be used to display signing progress. The first argument of the handler can be "adding", "signing", or "updating", and the second argument is the name of the <a href="../../../../java.base/java/util/jar/jarentry"><code>JarEntry</code></a> being processed.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>handler</code> - the event handler.</dd> <dt>Returns:</dt> <dd>the <code>JarSigner.Builder</code> itself.</dd> </dl>    <h3 id="setProperty(java.lang.String,java.lang.String)">setProperty</h3> <pre data-language="java">public JarSigner.Builder setProperty(String key,
                                     String value)</pre> <p>Sets an additional implementation-specific property indicated by the specified key.</p> <dl> <dt>Implementation Note:</dt> <dd>This implementation supports the following properties: <ul> <li>"tsaDigestAlg": algorithm of digest data in the timestamping request. The default value is the same as the result of <a href="#getDefaultDigestAlgorithm()"><code>getDefaultDigestAlgorithm()</code></a>. </li>
<li>"tsaPolicyId": TSAPolicyID for Timestamping Authority. No default value. </li>
<li>"internalsf": "true" if the .SF file is included inside the signature block, "false" otherwise. Default "false". </li>
<li>"sectionsonly": "true" if the .SF file only contains the hash value for each section of the manifest and not for the whole manifest, "false" otherwise. Default "false". </li>
</ul> All property names are case-insensitive.</dd> <dt>Parameters:</dt> <dd>
<code>key</code> - the name of the property.</dd> <dd>
<code>value</code> - the value of the property.</dd> <dt>Returns:</dt> <dd>the <code>JarSigner.Builder</code> itself.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/unsupportedoperationexception">UnsupportedOperationException</a></code> - if the key is not supported by this implementation.</dd> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if the value is not accepted as a legal value for this key.</dd> </dl>    <h3 id="getDefaultDigestAlgorithm()">getDefaultDigestAlgorithm</h3> <pre data-language="java">public static String getDefaultDigestAlgorithm()</pre> <p>Gets the default digest algorithm.</p> <dl> <dt>Implementation Note:</dt> <dd>This implementation returns "SHA-256". The value may change in the future.</dd> <dt>Returns:</dt> <dd>the default digest algorithm.</dd> </dl>    <h3 id="getDefaultSignatureAlgorithm(java.security.PrivateKey)">getDefaultSignatureAlgorithm</h3> <pre data-language="java">public static String getDefaultSignatureAlgorithm(PrivateKey key)</pre> <p>Gets the default signature algorithm for a private key. For example, SHA256withRSA for a 2048-bit RSA key, and SHA384withECDSA for a 384-bit EC key.</p> <dl> <dt>Implementation Note:</dt> <dd>This implementation makes use of comparable strengths as defined in Tables 2 and 3 of NIST SP 800-57 Part 1-Rev.4. Specifically, if a DSA or RSA key with a key size greater than 7680 bits, or an EC key with a key size greater than or equal to 512 bits, SHA-512 will be used as the hash function for the signature. If a DSA or RSA key has a key size greater than 3072 bits, or an EC key has a key size greater than or equal to 384 bits, SHA-384 will be used. Otherwise, SHA-256 will be used. The value may change in the future.</dd> <dt>Parameters:</dt> <dd>
<code>key</code> - the private key.</dd> <dt>Returns:</dt> <dd>the default signature algorithm. Returns null if a default signature algorithm cannot be found. In this case, <a href="#signatureAlgorithm(java.lang.String)"><code>signatureAlgorithm(java.lang.String)</code></a> must be called to specify a signature algorithm. Otherwise, the <a href="#build()"><code>build()</code></a> method will throw an <a href="../../../../java.base/java/lang/illegalargumentexception"><code>IllegalArgumentException</code></a>.</dd> </dl>    <h3 id="build()">build</h3> <pre data-language="java">public JarSigner build()</pre> <div>
<p>Builds a <code>JarSigner</code> object from the parameters set by the setter methods. </p>
<p> This method does not modify internal state of this <code>Builder</code> object and can be called multiple times to generate multiple <code>JarSigner</code> objects. After this method is called, calling any method on this <code>Builder</code> will have no effect on the newly built <code>JarSigner</code> object.</p>
</div> <dl> <dt>Returns:</dt> <dd>the <code>JarSigner</code> object.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if a signature algorithm is not set and cannot be derived from the private key using the <a href="#getDefaultSignatureAlgorithm(java.security.PrivateKey)"><code>getDefaultSignatureAlgorithm(java.security.PrivateKey)</code></a> method.</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jartool/jdk/security/jarsigner/JarSigner.Builder.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jartool/jdk/security/jarsigner/JarSigner.Builder.html</a>
  </p>
</div>
