  <main role="main">    <h1>Class CallSiteDescriptor</h1>   <ul class="inheritance"> <li><a href="../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="securelookupsupplier">jdk.dynalink.SecureLookupSupplier</a></li> <li> <ul class="inheritance"> <li>jdk.dynalink.CallSiteDescriptor</li> </ul> </li> </ul> </li> </ul>    <pre data-language="java">public class CallSiteDescriptor
extends SecureLookupSupplier</pre> <div>
<p>Call site descriptors contain all the information necessary for linking a call site. This information is normally passed as parameters to bootstrap methods and consists of the <code>MethodHandles.Lookup</code> object on the caller class in which the call site occurs, the dynamic operation at the call site, and the method type of the call site. <code>CallSiteDescriptor</code> objects are used in Dynalink to capture and store these parameters for subsequent use by the <a href="dynamiclinker"><code>DynamicLinker</code></a>. </p>
<p> The constructors of built-in <a href="relinkablecallsite"><code>RelinkableCallSite</code></a> implementations all take a call site descriptor. </p>
<p> Call site descriptors must be immutable. You can use this class as-is or you can subclass it, especially if you need to add further information to the descriptors (typically, values passed in additional parameters to the bootstrap method. Since the descriptors must be immutable, you can set up a cache for equivalent descriptors to have the call sites share them. </p>
<p> The class extends <a href="securelookupsupplier"><code>SecureLookupSupplier</code></a> for security-checked access to the <code>MethodHandles.Lookup</code> object it carries. This lookup should be used to find method handles to set as targets of the call site described by this descriptor.</p>
</div>      <section role="region">  <h2 id="field.summary">Fields</h2>  <h2 id="fields.inherited.from.class.jdk.dynalink.SecureLookupSupplier">Fields declared in class jdk.dynalink.<a href="securelookupsupplier">SecureLookupSupplier</a>
</h2> <code><a href="securelookupsupplier#GET_LOOKUP_PERMISSION_NAME">GET_LOOKUP_PERMISSION_NAME</a></code>  </section>  <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(java.lang.invoke.MethodHandles.Lookup,jdk.dynalink.Operation,java.lang.invoke.MethodType)">CallSiteDescriptor</a>​(<a href="../../../java.base/java/lang/invoke/methodhandles.lookup">MethodHandles.Lookup</a> lookup,
                  <a href="operation">Operation</a> operation,
                  <a href="../../../java.base/java/lang/invoke/methodtype">MethodType</a> methodType)</code></th> <td> <p>Creates a new call site descriptor.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code><a href="callsitedescriptor">CallSiteDescriptor</a></code></td> <th scope="row"><code><a href="#changeMethodType(java.lang.invoke.MethodType)">changeMethodType</a>​(<a href="../../../java.base/java/lang/invoke/methodtype">MethodType</a> newMethodType)</code></th> <td> <p>Finds or creates a call site descriptor that only differs in its method type from this descriptor.</p> </td> </tr> <tr id="i1"> <td><code>protected <a href="callsitedescriptor">CallSiteDescriptor</a></code></td> <th scope="row"><code><a href="#changeMethodTypeInternal(java.lang.invoke.MethodType)">changeMethodTypeInternal</a>​(<a href="../../../java.base/java/lang/invoke/methodtype">MethodType</a> newMethodType)</code></th> <td> <p>Finds or creates a call site descriptor that only differs in its method type from this descriptor.</p> </td> </tr> <tr id="i2"> <td><code><a href="callsitedescriptor">CallSiteDescriptor</a></code></td> <th scope="row"><code><a href="#changeOperation(jdk.dynalink.Operation)">changeOperation</a>​(<a href="operation">Operation</a> newOperation)</code></th> <td> <p>Finds or creates a call site descriptor that only differs in its operation from this descriptor.</p> </td> </tr> <tr id="i3"> <td><code>protected <a href="callsitedescriptor">CallSiteDescriptor</a></code></td> <th scope="row"><code><a href="#changeOperationInternal(jdk.dynalink.Operation)">changeOperationInternal</a>​(<a href="operation">Operation</a> newOperation)</code></th> <td> <p>Finds or creates a call site descriptor that only differs in its operation from this descriptor.</p> </td> </tr> <tr id="i4"> <td><code>boolean</code></td> <th scope="row"><code><a href="#equals(java.lang.Object)">equals</a>​(<a href="../../../java.base/java/lang/object">Object</a> obj)</code></th> <td> <p>Returns true if this call site descriptor is equal to the passed object.</p> </td> </tr> <tr id="i5"> <td><code><a href="../../../java.base/java/lang/invoke/methodtype">MethodType</a></code></td> <th scope="row"><code><a href="#getMethodType()">getMethodType</a>()</code></th> <td> <p>The type of the method at the call site.</p> </td> </tr> <tr id="i6"> <td><code><a href="operation">Operation</a></code></td> <th scope="row"><code><a href="#getOperation()">getOperation</a>()</code></th> <td> <p>Returns the operation at the call site.</p> </td> </tr> <tr id="i7"> <td><code>int</code></td> <th scope="row"><code><a href="#hashCode()">hashCode</a>()</code></th> <td> <p>Returns a value-based hash code of this call site descriptor computed from its operation, method type, and lookup object's lookup class and lookup modes.</p> </td> </tr> <tr id="i8"> <td><code><a href="../../../java.base/java/lang/string">String</a></code></td> <th scope="row"><code><a href="#toString()">toString</a>()</code></th> <td> <p>Returns the string representation of this call site descriptor, of the format <code>name(parameterTypes)returnType@lookup</code>.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.jdk.dynalink.SecureLookupSupplier">Methods declared in class jdk.dynalink.<a href="securelookupsupplier">SecureLookupSupplier</a>
</h2> <code><a href="securelookupsupplier#getLookup()">getLookup</a>, <a href="securelookupsupplier#getLookupPrivileged()">getLookupPrivileged</a></code>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;(java.lang.invoke.MethodHandles.Lookup,jdk.dynalink.Operation,java.lang.invoke.MethodType)">CallSiteDescriptor</h3> <pre data-language="java">public CallSiteDescriptor(MethodHandles.Lookup lookup,
                          Operation operation,
                          MethodType methodType)</pre> <p>Creates a new call site descriptor.</p> <dl> <dt>Parameters:</dt> <dd>
<code>lookup</code> - the lookup object describing the class the call site belongs to. When creating descriptors from a <a href="../../../java.base/java/lang/invoke/package-summary"><code>java.lang.invoke</code></a> bootstrap method, it should be the lookup passed to the bootstrap.</dd> <dd>
<code>operation</code> - the dynamic operation at the call site.</dd> <dd>
<code>methodType</code> - the method type of the call site. When creating descriptors from a <a href="../../../java.base/java/lang/invoke/package-summary"><code>java.lang.invoke</code></a> bootstrap method, it should be the method type passed to the bootstrap.</dd> </dl>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="getOperation()">getOperation</h3> <pre data-language="java">public final Operation getOperation()</pre> <p>Returns the operation at the call site.</p> <dl> <dt>Returns:</dt> <dd>the operation at the call site.</dd> </dl>    <h3 id="getMethodType()">getMethodType</h3> <pre data-language="java">public final MethodType getMethodType()</pre> <p>The type of the method at the call site.</p> <dl> <dt>Returns:</dt> <dd>type of the method at the call site.</dd> </dl>    <h3 id="changeMethodType(java.lang.invoke.MethodType)">changeMethodType</h3> <pre data-language="java">public final CallSiteDescriptor changeMethodType(MethodType newMethodType)</pre> <p>Finds or creates a call site descriptor that only differs in its method type from this descriptor. Invokes <a href="#changeMethodTypeInternal(java.lang.invoke.MethodType)"><code>changeMethodTypeInternal(MethodType)</code></a>.</p> <dl> <dt>Parameters:</dt> <dd>
<code>newMethodType</code> - the new method type</dd> <dt>Returns:</dt> <dd>a call site descriptor with changed method type.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception">NullPointerException</a></code> - if <code>newMethodType</code> is null.</dd> </dl>    <h3 id="changeMethodTypeInternal(java.lang.invoke.MethodType)">changeMethodTypeInternal</h3> <pre data-language="java">protected CallSiteDescriptor changeMethodTypeInternal(MethodType newMethodType)</pre> <p>Finds or creates a call site descriptor that only differs in its method type from this descriptor. Subclasses must override this method to return an object of their exact class. If an overridden method changes something other than the method type in the descriptor (its class, lookup, or operation), or returns null, an <code>AssertionError</code> will be thrown from <a href="#changeMethodType(java.lang.invoke.MethodType)"><code>changeMethodType(MethodType)</code></a>.</p> <dl> <dt>Parameters:</dt> <dd>
<code>newMethodType</code> - the new method type</dd> <dt>Returns:</dt> <dd>a call site descriptor with the changed method type.</dd> </dl>    <h3 id="changeOperation(jdk.dynalink.Operation)">changeOperation</h3> <pre data-language="java">public final CallSiteDescriptor changeOperation(Operation newOperation)</pre> <p>Finds or creates a call site descriptor that only differs in its operation from this descriptor. Invokes <a href="#changeOperationInternal(jdk.dynalink.Operation)"><code>changeOperationInternal(Operation)</code></a>.</p> <dl> <dt>Parameters:</dt> <dd>
<code>newOperation</code> - the new operation</dd> <dt>Returns:</dt> <dd>a call site descriptor with the changed operation.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception">NullPointerException</a></code> - if <code>newOperation</code> is null.</dd> <dd>
<code><a href="../../../java.base/java/lang/securityexception">SecurityException</a></code> - if the descriptor's lookup isn't the <a href="../../../java.base/java/lang/invoke/methodhandles#publicLookup()"><code>MethodHandles.publicLookup()</code></a>, and a security manager is present, and a check for <code>RuntimePermission("dynalink.getLookup")</code> fails. This is necessary as changing the operation in the call site descriptor allows fabrication of descriptors for arbitrary operations with the lookup.</dd> </dl>    <h3 id="changeOperationInternal(jdk.dynalink.Operation)">changeOperationInternal</h3> <pre data-language="java">protected CallSiteDescriptor changeOperationInternal(Operation newOperation)</pre> <p>Finds or creates a call site descriptor that only differs in its operation from this descriptor. Subclasses must override this method to return an object of their exact class. If an overridden method changes something other than the operation in the descriptor (its class, lookup, or method type), or returns null, an <code>AssertionError</code> will be thrown from <a href="#changeOperation(jdk.dynalink.Operation)"><code>changeOperation(Operation)</code></a>.</p> <dl> <dt>Parameters:</dt> <dd>
<code>newOperation</code> - the new operation</dd> <dt>Returns:</dt> <dd>a call site descriptor with the changed operation.</dd> </dl>    <h3 id="equals(java.lang.Object)">equals</h3> <pre data-language="java">public boolean equals(Object obj)</pre> <p>Returns true if this call site descriptor is equal to the passed object. It is considered equal if the other object is of the exact same class, their operations and method types are equal, and their lookups have the same <a href="../../../java.base/java/lang/invoke/methodhandles.lookup#lookupClass()"><code>MethodHandles.Lookup.lookupClass()</code></a> and <a href="../../../java.base/java/lang/invoke/methodhandles.lookup#lookupModes()"><code>MethodHandles.Lookup.lookupModes()</code></a>.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a></code> in class <code><a href="../../../java.base/java/lang/object">Object</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>obj</code> - the reference object with which to compare.</dd> <dt>Returns:</dt> <dd>
<code>true</code> if this object is the same as the obj argument; <code>false</code> otherwise.</dd> <dt>See Also:</dt> <dd>
<a href="../../../java.base/java/lang/object#hashCode()"><code>Object.hashCode()</code></a>, <a href="../../../java.base/java/util/hashmap"><code>HashMap</code></a>
</dd> </dl>    <h3 id="hashCode()">hashCode</h3> <pre data-language="java">public int hashCode()</pre> <p>Returns a value-based hash code of this call site descriptor computed from its operation, method type, and lookup object's lookup class and lookup modes.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="../../../java.base/java/lang/object#hashCode()">hashCode</a></code> in class <code><a href="../../../java.base/java/lang/object">Object</a></code>
</dd> <dt>Returns:</dt> <dd>value-based hash code for this call site descriptor.</dd> <dt>See Also:</dt> <dd>
<a href="../../../java.base/java/lang/object#equals(java.lang.Object)"><code>Object.equals(java.lang.Object)</code></a>, <a href="../../../java.base/java/lang/system#identityHashCode(java.lang.Object)"><code>System.identityHashCode(java.lang.Object)</code></a>
</dd> </dl>    <h3 id="toString()">toString</h3> <pre data-language="java">public String toString()</pre> <p>Returns the string representation of this call site descriptor, of the format <code>name(parameterTypes)returnType@lookup</code>.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="../../../java.base/java/lang/object#toString()">toString</a></code> in class <code><a href="../../../java.base/java/lang/object">Object</a></code>
</dd> <dt>Returns:</dt> <dd>a string representation of the object.</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/jdk.dynalink/jdk/dynalink/CallSiteDescriptor.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/jdk.dynalink/jdk/dynalink/CallSiteDescriptor.html</a>
  </p>
</div>
