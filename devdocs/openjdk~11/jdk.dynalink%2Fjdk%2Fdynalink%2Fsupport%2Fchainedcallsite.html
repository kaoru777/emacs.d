  <main role="main">    <h1>Class ChainedCallSite</h1>   <ul class="inheritance"> <li><a href="../../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="../../../../java.base/java/lang/invoke/callsite">java.lang.invoke.CallSite</a></li> <li> <ul class="inheritance"> <li><a href="../../../../java.base/java/lang/invoke/mutablecallsite">java.lang.invoke.MutableCallSite</a></li> <li> <ul class="inheritance"> <li><a href="abstractrelinkablecallsite">jdk.dynalink.support.AbstractRelinkableCallSite</a></li> <li> <ul class="inheritance"> <li>jdk.dynalink.support.ChainedCallSite</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>   <dl> <dt>All Implemented Interfaces:</dt> <dd><code><a href="../relinkablecallsite">RelinkableCallSite</a></code></dd> </dl>  <pre data-language="java">public class ChainedCallSite
extends AbstractRelinkableCallSite</pre> <p>A relinkable call site that implements a polymorphic inline caching strategy. It remembers up to 8 <a href="../linker/guardedinvocation"><code>GuardedInvocation</code></a>s it was linked with, and on each relink request builds a cascading chain of method handles of one invocation falling back to the next one. The number of remembered invocations can be customized by overriding <a href="#getMaxChainLength()"><code>getMaxChainLength()</code></a> in a subclass. When this call site is relinked with a new invocation and the length of the chain is already at the maximum, it will throw away the oldest invocation. Invocations with invalidated switch points and ones for which their invalidating exception triggered are removed eagerly from the chain. The invocations are never reordered; the most recently linked method handle is always at the start of the chain and the least recently linked at its end. The call site can be safely relinked on more than one thread concurrently. Race conditions in linking are resolved by throwing away the <a href="../linker/guardedinvocation"><code>GuardedInvocation</code></a> produced on the losing thread without incorporating it into the chain, so it can lead to repeated linking for the same arguments.</p>      <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(jdk.dynalink.CallSiteDescriptor)">ChainedCallSite</a>​(<a href="../callsitedescriptor">CallSiteDescriptor</a> descriptor)</code></th> <td> <p>Creates a new chained call site.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>protected int</code></td> <th scope="row"><code><a href="#getMaxChainLength()">getMaxChainLength</a>()</code></th> <td> <p>The maximum number of method handles in the chain.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.invoke.MutableCallSite">Methods declared in class java.lang.invoke.<a href="../../../../java.base/java/lang/invoke/mutablecallsite">MutableCallSite</a>
</h2> <code><a href="../../../../java.base/java/lang/invoke/mutablecallsite#getTarget()">getTarget</a>, <a href="../../../../java.base/java/lang/invoke/mutablecallsite#setTarget(java.lang.invoke.MethodHandle)">setTarget</a>, <a href="../../../../java.base/java/lang/invoke/mutablecallsite#syncAll(java.lang.invoke.MutableCallSite%5B%5D)">syncAll</a></code>  <h2 id="methods.inherited.from.class.java.lang.invoke.CallSite">Methods declared in class java.lang.invoke.<a href="../../../../java.base/java/lang/invoke/callsite">CallSite</a>
</h2> <code><a href="../../../../java.base/java/lang/invoke/callsite#dynamicInvoker()">dynamicInvoker</a>, <a href="../../../../java.base/java/lang/invoke/callsite#type()">type</a></code>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  <h2 id="methods.inherited.from.class.jdk.dynalink.RelinkableCallSite">Methods declared in interface jdk.dynalink.<a href="../relinkablecallsite">RelinkableCallSite</a>
</h2> <code><a href="../relinkablecallsite#getDescriptor()">getDescriptor</a>, <a href="../relinkablecallsite#initialize(java.lang.invoke.MethodHandle)">initialize</a>, <a href="../relinkablecallsite#relink(jdk.dynalink.linker.GuardedInvocation,java.lang.invoke.MethodHandle)">relink</a>, <a href="../relinkablecallsite#resetAndRelink(jdk.dynalink.linker.GuardedInvocation,java.lang.invoke.MethodHandle)">resetAndRelink</a></code>  </section>   <div>   <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;(jdk.dynalink.CallSiteDescriptor)">ChainedCallSite</h3> <pre data-language="java">public ChainedCallSite(CallSiteDescriptor descriptor)</pre> <p>Creates a new chained call site.</p> <dl> <dt>Parameters:</dt> <dd>
<code>descriptor</code> - the descriptor for the call site.</dd> </dl>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="getMaxChainLength()">getMaxChainLength</h3> <pre data-language="java">protected int getMaxChainLength()</pre> <p>The maximum number of method handles in the chain. Defaults to 8. You can override it in a subclass if you need to change the value.</p> <dl> <dt>Returns:</dt> <dd>the maximum number of method handles in the chain. The return value is checked, and if your override returns a value less than 1, a <a href="../../../../java.base/java/lang/runtimeexception"><code>RuntimeException</code></a> will be thrown.</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/jdk.dynalink/jdk/dynalink/support/ChainedCallSite.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/jdk.dynalink/jdk/dynalink/support/ChainedCallSite.html</a>
  </p>
</div>
