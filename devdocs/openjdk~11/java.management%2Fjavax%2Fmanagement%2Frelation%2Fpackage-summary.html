 <main role="main">   <h1>Package javax.management.relation</h1>   <section role="region"> <div id="package.description">

<p>Provides the definition of the Relation Service. The Relation Service is used to record relationships between MBeans in an MBean Server. The Relation Service is itself an MBean. More than one instance of a <a href="relationservice"><code>RelationService</code></a> MBean can be registered in an MBean Server.</p> <p>A <em>relation type</em> defines a relationship between MBeans. It contains <em>roles</em> that the MBeans play in the relationship. Usually there are at least two roles in a relation type.</p> <p>A <em>relation</em> is a named instance of a relation type, where specific MBeans appear in the roles, represented by their <a href="../objectname"><code>ObjectName</code></a>s.</p> <p>For example, suppose there are <code>Module</code> MBeans, representing modules within an application. A <code>DependsOn</code> relation type could express the relationship that some modules depend on others, which could be used to determine the order in which the modules are started or stopped. The <code>DependsOn</code> relation type would have two roles, <code>dependent</code> and <code>dependedOn</code>.</p> <p>Every role is <em>typed</em>, meaning that an MBean that appears in that role must be an instance of the role's type. In the <code>DependsOn</code> example, both roles would be of type <code>Module</code>.</p> <p>Every role has a <em>cardinality</em>, which provides lower and upper bounds on the number of MBeans that can appear in that role in a given relation instance. Usually, the lower and upper bounds are both 1, with exactly one MBean appearing in the role. The cardinality only limits the number of MBeans in the role per relation instance. The same MBean can appear in the same role in any number of instances of a relation type. In the <code>DependsOn</code> example, a given module can depend on many other modules, and be depended on by many others, but any given relation instance links exactly one <code>dependent</code> module with exactly one <code>dependedOn</code> module.</p> <p>A relation type can be created explicitly, as an object implementing the <a href="relationtype"><code>RelationType</code></a> interface, typically a <a href="relationtypesupport"><code>RelationTypeSupport</code></a>. Alternatively, it can be created implicitly using the Relation Service's <a href="relationservicembean#createRelationType(java.lang.String,javax.management.relation.RoleInfo%5B%5D)"><code>createRelationType</code></a> method.</p> <p>A relation instance can be created explicitly, as an object implementing the <a href="relation"><code>Relation</code></a> interface, typically a <a href="relationsupport"><code>RelationSupport</code></a>. (A <code>RelationSupport</code> is itself a valid MBean, so it can be registered in the MBean Server, though this is not required.) Alternatively, a relation instance can be created implicitly using the Relation Service's <a href="relationservicembean#createRelation(java.lang.String,java.lang.String,javax.management.relation.RoleList)"><code>createRelation</code></a> method.</p> <p>The <code>DependsOn</code> example might be coded as follows.</p> <pre data-language="java">import java.util.*;
import javax.management.*;
import javax.management.relation.*;

// ...
MBeanServer mbs = ...;

// Create the Relation Service MBean
ObjectName relSvcName = new ObjectName(":type=RelationService");
RelationService relSvcObject = new RelationService(true);
mbs.registerMBean(relSvcObject, relSvcName);

// Create an MBean proxy for easier access to the Relation Service
RelationServiceMBean relSvc =
    MBeanServerInvocationHandler.newProxyInstance(mbs, relSvcName,
                                                  RelationServiceMBean.class,
                                                  false);

// Define the DependsOn relation type
RoleInfo[] dependsOnRoles = {
    new RoleInfo("dependent", Module.class.getName()),
    new RoleInfo("dependedOn", Module.class.getName())
};
relSvc.createRelationType("DependsOn", dependsOnRoles);

// Now define a relation instance "moduleA DependsOn moduleB"

ObjectName moduleA = new ObjectName(":type=Module,name=A");
ObjectName moduleB = new ObjectName(":type=Module,name=B");

Role dependent = new Role("dependent", Collections.singletonList(moduleA));
Role dependedOn = new Role("dependedOn", Collections.singletonList(moduleB));
Role[] roleArray = {dependent, dependedOn};
RoleList roles = new RoleList(Arrays.asList(roleArray));
relSvc.createRelation("A-DependsOn-B", "DependsOn", roles);

// Query the Relation Service to find what modules moduleA depends on
Map&lt;ObjectName,List&lt;String&gt;&gt; dependentAMap =
    relSvc.findAssociatedMBeans(moduleA, "DependsOn", "dependent");
Set&lt;ObjectName&gt; dependentASet = dependentAMap.keySet();
// Set of ObjectName containing moduleB</pre>
</div> <dl> <dt>Since:</dt> <dd>1.5</dd> <dt>See Also:</dt> <dd><a href="https://jcp.org/aboutJava/communityprocess/mrel/jsr160/index2.html"> JMX Specification, version 1.4</a></dd> </dl> </section> <table>  <tr> <th scope="col">Interface</th> <th scope="col">Description</th> </tr>  <tr> <th scope="row"><a href="relation">Relation</a></th> <td> <p>This interface has to be implemented by any MBean class expected to represent a relation managed using the Relation Service.</p> </td> </tr> <tr> <th scope="row"><a href="relationservicembean">RelationServiceMBean</a></th> <td> <p>The Relation Service is in charge of creating and deleting relation types and relations, of handling the consistency and of providing query mechanisms.</p> </td> </tr> <tr> <th scope="row"><a href="relationsupportmbean">RelationSupportMBean</a></th> <td> <p>A RelationSupport object is used internally by the Relation Service to represent simple relations (only roles, no properties or methods), with an unlimited number of roles, of any relation type.</p> </td> </tr> <tr> <th scope="row"><a href="relationtype">RelationType</a></th> <td> <p>The RelationType interface has to be implemented by any class expected to represent a relation type.</p> </td> </tr>  </table>
<table>  <tr> <th scope="col">Class</th> <th scope="col">Description</th> </tr>  <tr> <th scope="row"><a href="mbeanservernotificationfilter">MBeanServerNotificationFilter</a></th> <td> <p>Filter for <a href="../mbeanservernotification"><code>MBeanServerNotification</code></a>.</p> </td> </tr> <tr> <th scope="row"><a href="relationnotification">RelationNotification</a></th> <td> <p>A notification of a change in the Relation Service.</p> </td> </tr> <tr> <th scope="row"><a href="relationservice">RelationService</a></th> <td> <p>The Relation Service is in charge of creating and deleting relation types and relations, of handling the consistency and of providing query mechanisms.</p> </td> </tr> <tr> <th scope="row"><a href="relationsupport">RelationSupport</a></th> <td> <p>A RelationSupport object is used internally by the Relation Service to represent simple relations (only roles, no properties or methods), with an unlimited number of roles, of any relation type.</p> </td> </tr> <tr> <th scope="row"><a href="relationtypesupport">RelationTypeSupport</a></th> <td> <p>A RelationTypeSupport object implements the RelationType interface.</p> </td> </tr> <tr> <th scope="row"><a href="role">Role</a></th> <td> <p>Represents a role: includes a role name and referenced MBeans (via their ObjectNames).</p> </td> </tr> <tr> <th scope="row"><a href="roleinfo">RoleInfo</a></th> <td> <p>A RoleInfo object summarises a role in a relation type.</p> </td> </tr> <tr> <th scope="row"><a href="rolelist">RoleList</a></th> <td> <p>A RoleList represents a list of roles (Role objects).</p> </td> </tr> <tr> <th scope="row"><a href="roleresult">RoleResult</a></th> <td> <p>Represents the result of a multiple access to several roles of a relation (either for reading or writing).</p> </td> </tr> <tr> <th scope="row"><a href="rolestatus">RoleStatus</a></th> <td> <p>This class describes the various problems which can be encountered when accessing a role.</p> </td> </tr> <tr> <th scope="row"><a href="roleunresolved">RoleUnresolved</a></th> <td> <p>Represents an unresolved role: a role not retrieved from a relation due to a problem.</p> </td> </tr> <tr> <th scope="row"><a href="roleunresolvedlist">RoleUnresolvedList</a></th> <td> <p>A RoleUnresolvedList represents a list of RoleUnresolved objects, representing roles not retrieved from a relation due to a problem encountered when trying to access (read or write) the roles.</p> </td> </tr>  </table>
<table>  <tr> <th scope="col">Exception</th> <th scope="col">Description</th> </tr>  <tr> <th scope="row"><a href="invalidrelationidexception">InvalidRelationIdException</a></th> <td> <p>This exception is raised when relation id provided for a relation is already used.</p> </td> </tr> <tr> <th scope="row"><a href="invalidrelationserviceexception">InvalidRelationServiceException</a></th> <td> <p>This exception is raised when an invalid Relation Service is provided.</p> </td> </tr> <tr> <th scope="row"><a href="invalidrelationtypeexception">InvalidRelationTypeException</a></th> <td> <p>Invalid relation type.</p> </td> </tr> <tr> <th scope="row"><a href="invalidroleinfoexception">InvalidRoleInfoException</a></th> <td> <p>This exception is raised when, in a role info, its minimum degree is greater than its maximum degree.</p> </td> </tr> <tr> <th scope="row"><a href="invalidrolevalueexception">InvalidRoleValueException</a></th> <td> <p>Role value is invalid.</p> </td> </tr> <tr> <th scope="row"><a href="relationexception">RelationException</a></th> <td> <p>This class is the superclass of any exception which can be raised during relation management.</p> </td> </tr> <tr> <th scope="row"><a href="relationnotfoundexception">RelationNotFoundException</a></th> <td> <p>This exception is raised when there is no relation for a given relation id in a Relation Service.</p> </td> </tr> <tr> <th scope="row"><a href="relationservicenotregisteredexception">RelationServiceNotRegisteredException</a></th> <td> <p>This exception is raised when an access is done to the Relation Service and that one is not registered.</p> </td> </tr> <tr> <th scope="row"><a href="relationtypenotfoundexception">RelationTypeNotFoundException</a></th> <td> <p>This exception is raised when there is no relation type with given name in Relation Service.</p> </td> </tr> <tr> <th scope="row"><a href="roleinfonotfoundexception">RoleInfoNotFoundException</a></th> <td> <p>This exception is raised when there is no role info with given name in a given relation type.</p> </td> </tr> <tr> <th scope="row"><a href="rolenotfoundexception">RoleNotFoundException</a></th> <td> <p>This exception is raised when a role in a relation does not exist, or is not readable, or is not settable.</p> </td> </tr>  </table>
  </main> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.management/javax/management/relation/package-summary.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.management/javax/management/relation/package-summary.html</a>
  </p>
</div>
