  <main role="main">    <h1>Class CardChannel</h1>   <ul class="inheritance"> <li><a href="../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>javax.smartcardio.CardChannel</li> </ul> </li> </ul>    <pre data-language="java">public abstract class CardChannel
extends Object</pre> <p>A logical channel connection to a Smart Card. It is used to exchange APDUs with a Smart Card. A CardChannel object can be obtained by calling the method <a href="card#getBasicChannel()">Card.getBasicChannel()</a> or <a href="card#openLogicalChannel()">Card.openLogicalChannel()</a>.</p> <dl> <dt>Since:</dt> <dd>1.6</dd> <dt>See Also:</dt> <dd>
<a href="card"><code>Card</code></a>, <a href="commandapdu"><code>CommandAPDU</code></a>, <a href="responseapdu"><code>ResponseAPDU</code></a>
</dd> </dl>      <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Modifier</th> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <td><code>protected </code></td> <th scope="row"><code><a href="#%3Cinit%3E()">CardChannel</a>()</code></th> <td> <p>Constructs a new CardChannel object.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>abstract void</code></td> <th scope="row"><code><a href="#close()">close</a>()</code></th> <td> <p>Closes this CardChannel.</p> </td> </tr> <tr id="i1"> <td><code>abstract <a href="card">Card</a></code></td> <th scope="row"><code><a href="#getCard()">getCard</a>()</code></th> <td> <p>Returns the Card this channel is associated with.</p> </td> </tr> <tr id="i2"> <td><code>abstract int</code></td> <th scope="row"><code><a href="#getChannelNumber()">getChannelNumber</a>()</code></th> <td> <p>Returns the channel number of this CardChannel.</p> </td> </tr> <tr id="i3"> <td><code>abstract int</code></td> <th scope="row"><code><a href="#transmit(java.nio.ByteBuffer,java.nio.ByteBuffer)">transmit</a>​(<a href="../../../java.base/java/nio/bytebuffer">ByteBuffer</a> command,
        <a href="../../../java.base/java/nio/bytebuffer">ByteBuffer</a> response)</code></th> <td> <p>Transmits the command APDU stored in the command ByteBuffer and receives the response APDU in the response ByteBuffer.</p> </td> </tr> <tr id="i4"> <td><code>abstract <a href="responseapdu">ResponseAPDU</a></code></td> <th scope="row"><code><a href="#transmit(javax.smartcardio.CommandAPDU)">transmit</a>​(<a href="commandapdu">CommandAPDU</a> command)</code></th> <td> <p>Transmits the specified command APDU to the Smart Card and returns the response APDU.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;()">CardChannel</h3> <pre data-language="java">protected CardChannel()</pre> <div>
<p>Constructs a new CardChannel object. </p>
<p>This constructor is called by subclasses only. Application should call the <a href="card#getBasicChannel()">Card.getBasicChannel()</a> and <a href="card#openLogicalChannel()">Card.openLogicalChannel()</a> methods to obtain a CardChannel object.</p>
</div>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="getCard()">getCard</h3> <pre data-language="java">public abstract Card getCard()</pre> <p>Returns the Card this channel is associated with.</p> <dl> <dt>Returns:</dt> <dd>the Card this channel is associated with</dd> </dl>    <h3 id="getChannelNumber()">getChannelNumber</h3> <pre data-language="java">public abstract int getChannelNumber()</pre> <p>Returns the channel number of this CardChannel. A channel number of 0 indicates the basic logical channel.</p> <dl> <dt>Returns:</dt> <dd>the channel number of this CardChannel.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if this channel has been <a href="#close()">closed</a> or if the corresponding Card has been <a href="card#disconnect(boolean)">disconnected</a>.</dd> </dl>    <h3 id="transmit(javax.smartcardio.CommandAPDU)">transmit</h3> <pre data-language="java">public abstract ResponseAPDU transmit(CommandAPDU command)
                               throws CardException</pre> <div>
<p>Transmits the specified command APDU to the Smart Card and returns the response APDU. </p>
<p>The CLA byte of the command APDU is automatically adjusted to match the channel number of this CardChannel. </p>
<p>Note that this method cannot be used to transmit <code>MANAGE CHANNEL</code> APDUs. Logical channels should be managed using the <a href="card#openLogicalChannel()">Card.openLogicalChannel()</a> and <a href="#close()">CardChannel.close()</a> methods. </p>
<p>Implementations should transparently handle artifacts of the transmission protocol. For example, when using the T=0 protocol, the following processing should occur as described in ISO/IEC 7816-4: </p>
<ul> <li><p>if the response APDU has an SW1 of <code>61</code>, the implementation should issue a <code>GET RESPONSE</code> command using <code>SW2</code> as the <code>Le</code>field. This process is repeated as long as an SW1 of <code>61</code> is received. The response body of these exchanges is concatenated to form the final response body. </p></li>
<li><p>if the response APDU is <code>6C XX</code>, the implementation should reissue the command using <code>XX</code> as the <code>Le</code> field. </p></li>
</ul> <p>The ResponseAPDU returned by this method is the result after this processing has been performed.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>command</code> - the command APDU</dd> <dt>Returns:</dt> <dd>the response APDU received from the card</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if this channel has been <a href="#close()">closed</a> or if the corresponding Card has been <a href="card#disconnect(boolean)">disconnected</a>.</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if the APDU encodes a <code>MANAGE CHANNEL</code> command</dd> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception">NullPointerException</a></code> - if command is null</dd> <dd>
<code><a href="cardexception">CardException</a></code> - if the card operation failed</dd> </dl>    <h3 id="transmit(java.nio.ByteBuffer,java.nio.ByteBuffer)">transmit</h3> <pre data-language="java">public abstract int transmit(ByteBuffer command,
                             ByteBuffer response)
                      throws CardException</pre> <div>
<p>Transmits the command APDU stored in the command ByteBuffer and receives the response APDU in the response ByteBuffer. </p>
<p>The command buffer must contain valid command APDU data starting at <code>command.position()</code> and the APDU must be <code>command.remaining()</code> bytes long. Upon return, the command buffer's position will be equal to its limit; its limit will not have changed. The output buffer will have received the response APDU bytes. Its position will have advanced by the number of bytes received, which is also the return value of this method. </p>
<p>The CLA byte of the command APDU is automatically adjusted to match the channel number of this CardChannel. </p>
<p>Note that this method cannot be used to transmit <code>MANAGE CHANNEL</code> APDUs. Logical channels should be managed using the <a href="card#openLogicalChannel()">Card.openLogicalChannel()</a> and <a href="#close()">CardChannel.close()</a> methods. </p>
<p>See <a href="#transmit(javax.smartcardio.CommandAPDU)">transmit()</a> for a discussion of the handling of response APDUs with the SW1 values <code>61</code> or <code>6C</code>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>command</code> - the buffer containing the command APDU</dd> <dd>
<code>response</code> - the buffer that shall receive the response APDU from the card</dd> <dt>Returns:</dt> <dd>the length of the received response APDU</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if this channel has been <a href="#close()">closed</a> or if the corresponding Card has been <a href="card#disconnect(boolean)">disconnected</a>.</dd> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception">NullPointerException</a></code> - if command or response is null</dd> <dd>
<code><a href="../../../java.base/java/nio/readonlybufferexception">ReadOnlyBufferException</a></code> - if the response buffer is read-only</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if command and response are the same object, if <code>response</code> may not have sufficient space to receive the response APDU or if the APDU encodes a <code>MANAGE CHANNEL</code> command</dd> <dd>
<code><a href="cardexception">CardException</a></code> - if the card operation failed</dd> </dl>    <h3 id="close()">close</h3> <pre data-language="java">public abstract void close()
                    throws CardException</pre> <div>
<p>Closes this CardChannel. The logical channel is closed by issuing a <code>MANAGE CHANNEL</code> command that should use the format <code>[xx 70 80 0n]</code> where <code>n</code> is the channel number of this channel and <code>xx</code> is the <code>CLA</code> byte that encodes this logical channel and has all other bits set to 0. After this method returns, calling other methods in this class will raise an IllegalStateException. </p>
<p>Note that the basic logical channel cannot be closed using this method. It can be closed by calling <a href="card#disconnect(boolean)"><code>Card.disconnect(boolean)</code></a>.</p>
</div> <dl> <dt>Throws:</dt> <dd>
<code><a href="cardexception">CardException</a></code> - if the card operation failed</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if this CardChannel represents a connection the basic logical channel</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.smartcardio/javax/smartcardio/CardChannel.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.smartcardio/javax/smartcardio/CardChannel.html</a>
  </p>
</div>
