  <main role="main">    <h1>Class SourceCodeAnalysis</h1>   <ul class="inheritance"> <li><a href="../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>jdk.jshell.SourceCodeAnalysis</li> </ul> </li> </ul>    <pre data-language="java">public abstract class SourceCodeAnalysis
extends Object</pre> <p>Provides analysis utilities for source code input. Optional functionality that provides for a richer interactive experience. Includes completion analysis: Is the input a complete snippet of code? Do I need to prompt for more input? Would adding a semicolon make it complete? Is there more than one snippet? etc. Also includes completion suggestions, as might be used in tab-completion.</p> <dl> <dt>Since:</dt> <dd>9</dd> </dl>      <section role="region">  <h2 id="nested.class.summary">Nested Classes</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Class</th> <th scope="col">Description</th> </tr> <tr> <td><code>static class </code></td> <th scope="row"><code><a href="sourcecodeanalysis.completeness">SourceCodeAnalysis.Completeness</a></code></th> <td> <p>Describes the completeness of the given input.</p> </td> </tr> <tr> <td><code>static interface </code></td> <th scope="row"><code><a href="sourcecodeanalysis.completioninfo">SourceCodeAnalysis.CompletionInfo</a></code></th> <td> <p>The result of <code>analyzeCompletion(String input)</code>.</p> </td> </tr> <tr> <td><code>static interface </code></td> <th scope="row"><code><a href="sourcecodeanalysis.documentation">SourceCodeAnalysis.Documentation</a></code></th> <td> <p>A documentation for a candidate for continuation of the given user's input.</p> </td> </tr> <tr> <td><code>static class </code></td> <th scope="row"><code><a href="sourcecodeanalysis.qualifiednames">SourceCodeAnalysis.QualifiedNames</a></code></th> <td> <p>List of possible qualified names.</p> </td> </tr> <tr> <td><code>static interface </code></td> <th scope="row"><code><a href="sourcecodeanalysis.snippetwrapper">SourceCodeAnalysis.SnippetWrapper</a></code></th> <td> <p>The wrapping of a snippet of Java source into valid top-level Java source.</p> </td> </tr> <tr> <td><code>static interface </code></td> <th scope="row"><code><a href="sourcecodeanalysis.suggestion">SourceCodeAnalysis.Suggestion</a></code></th> <td> <p>A candidate for continuation of the given user's input.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>abstract <a href="sourcecodeanalysis.completioninfo">SourceCodeAnalysis.CompletionInfo</a></code></td> <th scope="row"><code><a href="#analyzeCompletion(java.lang.String)">analyzeCompletion</a>​(<a href="../../../java.base/java/lang/string">String</a> input)</code></th> <td> <p>Given an input string, find the first snippet of code (one statement, definition, import, or expression) and evaluate if it is complete.</p> </td> </tr> <tr id="i1"> <td><code>abstract <a href="../../../java.base/java/lang/string">String</a></code></td> <th scope="row"><code><a href="#analyzeType(java.lang.String,int)">analyzeType</a>​(<a href="../../../java.base/java/lang/string">String</a> code,
           int cursor)</code></th> <td> <p>Infer the type of the given expression.</p> </td> </tr> <tr id="i2"> <td><code>abstract <a href="../../../java.base/java/util/list">List</a>&lt;<a href="sourcecodeanalysis.suggestion">SourceCodeAnalysis.Suggestion</a>&gt;</code></td> <th scope="row"><code><a href="#completionSuggestions(java.lang.String,int,int%5B%5D)">completionSuggestions</a>​(<a href="../../../java.base/java/lang/string">String</a> input,
                     int cursor,
                     int[] anchor)</code></th> <td> <p>Compute possible follow-ups for the given input.</p> </td> </tr> <tr id="i3"> <td><code>abstract <a href="../../../java.base/java/util/collection">Collection</a>&lt;<a href="snippet">Snippet</a>&gt;</code></td> <th scope="row"><code><a href="#dependents(jdk.jshell.Snippet)">dependents</a>​(<a href="snippet">Snippet</a> snippet)</code></th> <td> <p>Returns a collection of <code>Snippet</code>s which might need updating if the given <code>Snippet</code> is updated.</p> </td> </tr> <tr id="i4"> <td><code>abstract <a href="../../../java.base/java/util/list">List</a>&lt;<a href="sourcecodeanalysis.documentation">SourceCodeAnalysis.Documentation</a>&gt;</code></td> <th scope="row"><code><a href="#documentation(java.lang.String,int,boolean)">documentation</a>​(<a href="../../../java.base/java/lang/string">String</a> input,
             int cursor,
             boolean computeJavadoc)</code></th> <td> <p>Compute documentation for the given user's input.</p> </td> </tr> <tr id="i5"> <td><code>abstract <a href="sourcecodeanalysis.qualifiednames">SourceCodeAnalysis.QualifiedNames</a></code></td> <th scope="row"><code><a href="#listQualifiedNames(java.lang.String,int)">listQualifiedNames</a>​(<a href="../../../java.base/java/lang/string">String</a> code,
                  int cursor)</code></th> <td> <p>List qualified names known for the simple name in the given code immediately to the left of the given cursor position.</p> </td> </tr> <tr id="i6"> <td><code>abstract <a href="../../../java.base/java/util/list">List</a>&lt;<a href="snippet">Snippet</a>&gt;</code></td> <th scope="row"><code><a href="#sourceToSnippets(java.lang.String)">sourceToSnippets</a>​(<a href="../../../java.base/java/lang/string">String</a> input)</code></th> <td> <p>Converts the source code of a snippet into a <a href="snippet"><code>Snippet</code></a> object (or list of <code>Snippet</code> objects in the case of some var declarations, e.g.: int x, y, z;).</p> </td> </tr> <tr id="i7"> <td><code>abstract <a href="sourcecodeanalysis.snippetwrapper">SourceCodeAnalysis.SnippetWrapper</a></code></td> <th scope="row"><code><a href="#wrapper(jdk.jshell.Snippet)">wrapper</a>​(<a href="snippet">Snippet</a> snippet)</code></th> <td> <p>Returns the wrapper information for the <code>Snippet</code>.</p> </td> </tr> <tr id="i8"> <td><code>abstract <a href="../../../java.base/java/util/list">List</a>&lt;<a href="sourcecodeanalysis.snippetwrapper">SourceCodeAnalysis.SnippetWrapper</a>&gt;</code></td> <th scope="row"><code><a href="#wrappers(java.lang.String)">wrappers</a>​(<a href="../../../java.base/java/lang/string">String</a> input)</code></th> <td> <p>Returns the wrapper information for the snippet within the input source string.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="analyzeCompletion(java.lang.String)">analyzeCompletion</h3> <pre data-language="java">public abstract SourceCodeAnalysis.CompletionInfo analyzeCompletion(String input)</pre> <p>Given an input string, find the first snippet of code (one statement, definition, import, or expression) and evaluate if it is complete.</p> <dl> <dt>Parameters:</dt> <dd>
<code>input</code> - the input source string</dd> <dt>Returns:</dt> <dd>a CompletionInfo instance with location and completeness info</dd> </dl>    <h3 id="completionSuggestions(java.lang.String,int,int[])">completionSuggestions</h3> <pre data-language="java">public abstract List&lt;SourceCodeAnalysis.Suggestion&gt; completionSuggestions(String input,
                                                                          int cursor,
                                                                          int[] anchor)</pre> <p>Compute possible follow-ups for the given input. Uses information from the current <code>JShell</code> state, including type information, to filter the suggestions.</p> <dl> <dt>Parameters:</dt> <dd>
<code>input</code> - the user input, so far</dd> <dd>
<code>cursor</code> - the current position of the cursors in the given <code>input</code> text</dd> <dd>
<code>anchor</code> - outgoing parameter - when an option will be completed, the text between the anchor and cursor will be deleted and replaced with the given option</dd> <dt>Returns:</dt> <dd>list of candidate continuations of the given input.</dd> </dl>    <h3 id="documentation(java.lang.String,int,boolean)">documentation</h3> <pre data-language="java">public abstract List&lt;SourceCodeAnalysis.Documentation&gt; documentation(String input,
                                                                     int cursor,
                                                                     boolean computeJavadoc)</pre> <p>Compute documentation for the given user's input. Multiple <code>Documentation</code> objects may be returned when multiple elements match the user's input (like for overloaded methods).</p> <dl> <dt>Parameters:</dt> <dd>
<code>input</code> - the snippet the user wrote so far</dd> <dd>
<code>cursor</code> - the current position of the cursors in the given <code>input</code> text</dd> <dd>
<code>computeJavadoc</code> - true if the javadoc for the given input should be computed in addition to the signature</dd> <dt>Returns:</dt> <dd>the documentations for the given user's input, if multiple elements match the input, multiple <code>Documentation</code> objects are returned.</dd> </dl>    <h3 id="analyzeType(java.lang.String,int)">analyzeType</h3> <pre data-language="java">public abstract String analyzeType(String code,
                                   int cursor)</pre> <p>Infer the type of the given expression. The expression spans from the beginning of <code>code</code> to the given <code>cursor</code> position. Returns null if the type of the expression cannot be inferred.</p> <dl> <dt>Parameters:</dt> <dd>
<code>code</code> - the expression for which the type should be inferred</dd> <dd>
<code>cursor</code> - current cursor position in the given code</dd> <dt>Returns:</dt> <dd>the inferred type, or null if it cannot be inferred</dd> </dl>    <h3 id="listQualifiedNames(java.lang.String,int)">listQualifiedNames</h3> <pre data-language="java">public abstract SourceCodeAnalysis.QualifiedNames listQualifiedNames(String code,
                                                                     int cursor)</pre> <p>List qualified names known for the simple name in the given code immediately to the left of the given cursor position. The qualified names are gathered by inspecting the classpath used by eval (see <a href="jshell#addToClasspath(java.lang.String)"><code>JShell.addToClasspath(java.lang.String)</code></a>).</p> <dl> <dt>Parameters:</dt> <dd>
<code>code</code> - the expression for which the candidate qualified names should be computed</dd> <dd>
<code>cursor</code> - current cursor position in the given code</dd> <dt>Returns:</dt> <dd>the known qualified names</dd> </dl>    <h3 id="wrapper(jdk.jshell.Snippet)">wrapper</h3> <pre data-language="java">public abstract SourceCodeAnalysis.SnippetWrapper wrapper(Snippet snippet)</pre> <p>Returns the wrapper information for the <code>Snippet</code>. The wrapper changes as the environment changes, so calls to this method at different times may yield different results.</p> <dl> <dt>Parameters:</dt> <dd>
<code>snippet</code> - the <code>Snippet</code> from which to retrieve the wrapper</dd> <dt>Returns:</dt> <dd>information on the wrapper</dd> </dl>    <h3 id="wrappers(java.lang.String)">wrappers</h3> <pre data-language="java">public abstract List&lt;SourceCodeAnalysis.SnippetWrapper&gt; wrappers(String input)</pre> <div>
<p>Returns the wrapper information for the snippet within the input source string. </p>
<p> Wrapper information for malformed and incomplete snippets also generate wrappers. The list is in snippet encounter order. The wrapper changes as the environment changes, so calls to this method at different times may yield different results. </p>
<p> The input should be exactly one complete snippet of source code, that is, one expression, statement, variable declaration, method declaration, class declaration, or import. To break arbitrary input into individual complete snippets, use <a href="#analyzeCompletion(java.lang.String)"><code>analyzeCompletion(String)</code></a>. </p>
<p> The wrapper may not match that returned by <a href="#wrapper(jdk.jshell.Snippet)"><code>wrapper(Snippet)</code></a>, were the source converted to a <code>Snippet</code>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>input</code> - the source input from which to generate wrappers</dd> <dt>Returns:</dt> <dd>a list of wrapper information</dd> </dl>    <h3 id="sourceToSnippets(java.lang.String)">sourceToSnippets</h3> <pre data-language="java">public abstract List&lt;Snippet&gt; sourceToSnippets(String input)</pre> <div>
<p>Converts the source code of a snippet into a <a href="snippet"><code>Snippet</code></a> object (or list of <code>Snippet</code> objects in the case of some var declarations, e.g.: int x, y, z;). Does not install the snippets: declarations are not accessible by other snippets; imports are not added. Does not execute the snippets. </p>
<p> Queries may be done on the <code>Snippet</code> object. The <a href="snippet#id()"><code>Snippet.id()</code></a> will be <code>"*UNASSOCIATED*"</code>. The returned snippets are not associated with the <a href="jshell"><code>JShell</code></a> instance, so attempts to pass them to <code>JShell</code> methods will throw an <code>IllegalArgumentException</code>. They will not appear in queries for snippets -- for example, <a href="jshell#snippets()"><code>JShell.snippets()</code></a>. </p>
<p> Restrictions on the input are as in <a href="jshell#eval"><code>JShell.eval</code></a>. </p>
<p> Only preliminary compilation is performed, sufficient to build the <code>Snippet</code>. Snippets known to be erroneous, are returned as <a href="erroneoussnippet"><code>ErroneousSnippet</code></a>, other snippets may or may not be in error.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>input</code> - The input String to convert</dd> <dt>Returns:</dt> <dd>usually a singleton list of Snippet, but may be empty or multiple</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if the <code>JShell</code> instance is closed.</dd> </dl>    <h3 id="dependents(jdk.jshell.Snippet)">dependents</h3> <pre data-language="java">public abstract Collection&lt;Snippet&gt; dependents(Snippet snippet)</pre> <p>Returns a collection of <code>Snippet</code>s which might need updating if the given <code>Snippet</code> is updated. The returned collection is designed to be inclusive and may include many false positives.</p> <dl> <dt>Parameters:</dt> <dd>
<code>snippet</code> - the <code>Snippet</code> whose dependents are requested</dd> <dt>Returns:</dt> <dd>the collection of dependents</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jshell/jdk/jshell/SourceCodeAnalysis.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jshell/jdk/jshell/SourceCodeAnalysis.html</a>
  </p>
</div>
