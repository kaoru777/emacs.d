  <main role="main">    <h1>Class ObjectInputFilter.Config</h1>   <ul class="inheritance"> <li><a href="../lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>java.io.ObjectInputFilter.Config</li> </ul> </li> </ul>   <dl> <dt>Enclosing interface:</dt> <dd><a href="objectinputfilter">ObjectInputFilter</a></dd> </dl>  <pre data-language="java">public static final class ObjectInputFilter.Config
extends Object</pre> <div>
<p>A utility class to set and get the process-wide filter or create a filter from a pattern string. If a process-wide filter is set, it will be used for each <a href="objectinputstream"><code>ObjectInputStream</code></a> that does not set its own filter. </p>
<p> When setting the filter, it should be stateless and idempotent, reporting the same result when passed the same arguments. </p>
<p> The filter is configured during the initialization of the <code>ObjectInputFilter.Config</code> class. For example, by calling <a href="#getSerialFilter()"><code>Config.getSerialFilter</code></a>. If the system property <code>jdk.serialFilter</code> is defined, it is used to configure the filter. If the system property is not defined, and the <a href="../security/security"><code>Security</code></a> property <code>jdk.serialFilter</code> is defined then it is used to configure the filter. Otherwise, the filter is not configured during initialization. The syntax for each property is the same as for the <a href="#createFilter(java.lang.String)"><code>createFilter</code></a> method. If a filter is not configured, it can be set with <a href="#setSerialFilter(java.io.ObjectInputFilter)"><code>Config.setSerialFilter</code></a>.</p>
</div> <dl> <dt>Since:</dt> <dd>9</dd> </dl>      <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>static <a href="objectinputfilter">ObjectInputFilter</a></code></td> <th scope="row"><code><a href="#createFilter(java.lang.String)">createFilter</a>​(<a href="../lang/string">String</a> pattern)</code></th> <td> <p>Returns an ObjectInputFilter from a string of patterns.</p> </td> </tr> <tr id="i1"> <td><code>static <a href="objectinputfilter">ObjectInputFilter</a></code></td> <th scope="row"><code><a href="#getSerialFilter()">getSerialFilter</a>()</code></th> <td> <p>Returns the process-wide serialization filter or <code>null</code> if not configured.</p> </td> </tr> <tr id="i2"> <td><code>static void</code></td> <th scope="row"><code><a href="#setSerialFilter(java.io.ObjectInputFilter)">setSerialFilter</a>​(<a href="objectinputfilter">ObjectInputFilter</a> filter)</code></th> <td> <p>Set the process-wide filter if it has not already been configured or set.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../lang/object">Object</a>
</h2> <code><a href="../lang/object#clone()">clone</a>, <a href="../lang/object#equals(java.lang.Object)">equals</a>, <a href="../lang/object#finalize()">finalize</a>, <a href="../lang/object#getClass()">getClass</a>, <a href="../lang/object#hashCode()">hashCode</a>, <a href="../lang/object#notify()">notify</a>, <a href="../lang/object#notifyAll()">notifyAll</a>, <a href="../lang/object#toString()">toString</a>, <a href="../lang/object#wait()">wait</a>, <a href="../lang/object#wait(long)">wait</a>, <a href="../lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="getSerialFilter()">getSerialFilter</h3> <pre data-language="java">public static ObjectInputFilter getSerialFilter()</pre> <p>Returns the process-wide serialization filter or <code>null</code> if not configured.</p> <dl> <dt>Returns:</dt> <dd>the process-wide serialization filter or <code>null</code> if not configured</dd> </dl>    <h3 id="setSerialFilter(java.io.ObjectInputFilter)">setSerialFilter</h3> <pre data-language="java">public static void setSerialFilter(ObjectInputFilter filter)</pre> <p>Set the process-wide filter if it has not already been configured or set.</p> <dl> <dt>Parameters:</dt> <dd>
<code>filter</code> - the serialization filter to set as the process-wide filter; not null</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/securityexception">SecurityException</a></code> - if there is security manager and the <code>SerializablePermission("serialFilter")</code> is not granted</dd> <dd>
<code><a href="../lang/illegalstateexception">IllegalStateException</a></code> - if the filter has already been set <code>non-null</code>
</dd> </dl>    <h3 id="createFilter(java.lang.String)">createFilter</h3> <pre data-language="java">public static ObjectInputFilter createFilter(String pattern)</pre> <div>
<p>Returns an ObjectInputFilter from a string of patterns. </p>
<p> Patterns are separated by ";" (semicolon). Whitespace is significant and is considered part of the pattern. If a pattern includes an equals assignment, "<code>=</code>" it sets a limit. If a limit appears more than once the last value is used. </p>
<ul> <li>maxdepth=<code>value</code> - the maximum depth of a graph</li> <li>maxrefs=<code>value</code> - the maximum number of internal references</li> <li>maxbytes=<code>value</code> - the maximum number of bytes in the input stream</li> <li>maxarray=<code>value</code> - the maximum array length allowed</li> </ul> <p> Other patterns match or reject class or package name as returned from <a href="../lang/class#getName()"><code>Class.getName()</code></a> and if an optional module name is present <a href="../lang/module#getName()"><code>class.getModule().getName()</code></a>. Note that for arrays the element type is used in the pattern, not the array type. </p>
<ul> <li>If the pattern starts with "!", the class is rejected if the remaining pattern is matched; otherwise the class is allowed if the pattern matches. </li>
<li>If the pattern contains "/", the non-empty prefix up to the "/" is the module name; if the module name matches the module name of the class then the remaining pattern is matched with the class name. If there is no "/", the module name is not compared. </li>
<li>If the pattern ends with ".**" it matches any class in the package and all subpackages. </li>
<li>If the pattern ends with ".*" it matches any class in the package. </li>
<li>If the pattern ends with "*", it matches any class with the pattern as a prefix. </li>
<li>If the pattern is equal to the class name, it matches. </li>
<li>Otherwise, the pattern is not matched. </li>
</ul> <p> The resulting filter performs the limit checks and then tries to match the class, if any. If any of the limits are exceeded, the filter returns <a href="objectinputfilter.status#REJECTED"><code>Status.REJECTED</code></a>. If the class is an array type, the class to be matched is the element type. Arrays of any number of dimensions are treated the same as the element type. For example, a pattern of "<code>!example.Foo</code>", rejects creation of any instance or array of <code>example.Foo</code>. The first pattern that matches, working from left to right, determines the <a href="objectinputfilter.status#ALLOWED"><code>Status.ALLOWED</code></a> or <a href="objectinputfilter.status#REJECTED"><code>Status.REJECTED</code></a> result. If the limits are not exceeded and no pattern matches the class, the result is <a href="objectinputfilter.status#UNDECIDED"><code>Status.UNDECIDED</code></a>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>pattern</code> - the pattern string to parse; not null</dd> <dt>Returns:</dt> <dd>a filter to check a class being deserialized; <code>null</code> if no patterns</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/illegalargumentexception">IllegalArgumentException</a></code> - if the pattern string is illegal or malformed and cannot be parsed. In particular, if any of the following is true: <ul> <li> if a limit is missing the name or the name is not one of "maxdepth", "maxrefs", "maxbytes", or "maxarray" </li>
<li> if the value of the limit can not be parsed by <a href="../lang/long#parseLong(java.lang.String,int)"><code>Long.parseLong</code></a> or is negative </li>
<li> if the pattern contains "/" and the module name is missing or the remaining pattern is empty </li>
<li> if the package is missing for ".*" and ".**" </li>
</ul>
</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/ObjectInputFilter.Config.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/ObjectInputFilter.Config.html</a>
  </p>
</div>
