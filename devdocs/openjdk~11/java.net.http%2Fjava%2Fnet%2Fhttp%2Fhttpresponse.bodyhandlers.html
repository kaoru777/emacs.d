  <main role="main">    <h1>Class HttpResponse.BodyHandlers</h1>   <ul class="inheritance"> <li><a href="../../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>java.net.http.HttpResponse.BodyHandlers</li> </ul> </li> </ul>   <dl> <dt>Enclosing interface:</dt> <dd>
<a href="httpresponse">HttpResponse</a>&lt;<a href="httpresponse">T</a>&gt;</dd> </dl>  <pre data-language="java">public static class HttpResponse.BodyHandlers
extends Object</pre> <div>
<p>Implementations of <a href="httpresponse.bodyhandler"><code>BodyHandler</code></a> that implement various useful handlers, such as handling the response body as a String, or streaming the response body to a file. </p>
<p> These implementations do not examine the status code, meaning the body is always accepted. They typically return an equivalently named <code>BodySubscriber</code>. Alternatively, a custom handler can be used to examine the status code and headers, and return a different body subscriber, of the same type, as appropriate. </p>
<p>The following are examples of using the predefined body handlers to convert a flow of response body data into common high-level Java objects: </p>
<pre data-language="java">// Receives the response body as a String
   HttpResponse&lt;String&gt; response = client
     .send(request, BodyHandlers.ofString());

   // Receives the response body as a file
   HttpResponse&lt;Path&gt; response = client
     .send(request, BodyHandlers.ofFile(Paths.get("example.html")));

   // Receives the response body as an InputStream
   HttpResponse&lt;InputStream&gt; response = client
     .send(request, BodyHandlers.ofInputStream());

   // Discards the response body
   HttpResponse&lt;Void&gt; response = client
     .send(request, BodyHandlers.discarding());</pre>
</div> <dl> <dt>Since:</dt> <dd>11</dd> </dl>      <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>static &lt;T&gt; <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;T&gt;</code></td> <th scope="row"><code><a href="#buffering(java.net.http.HttpResponse.BodyHandler,int)">buffering</a>​(<a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;T&gt; downstreamHandler,
         int bufferSize)</code></th> <td> <p>Returns a <code>BodyHandler</code> which, when invoked, returns a <a href="httpresponse.bodysubscribers#buffering(java.net.http.HttpResponse.BodySubscriber,int)">buffering BodySubscriber</a> that buffers data before delivering it to the downstream subscriber.</p> </td> </tr> <tr id="i1"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/lang/void">Void</a>&gt;</code></td> <th scope="row"><code><a href="#discarding()">discarding</a>()</code></th> <td> <p>Returns a response body handler that discards the response body.</p> </td> </tr> <tr id="i2"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/lang/void">Void</a>&gt;</code></td> <th scope="row"><code><a href="#fromLineSubscriber(java.util.concurrent.Flow.Subscriber)">fromLineSubscriber</a>​(<a href="../../../../java.base/java/util/concurrent/flow.subscriber">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/lang/string">String</a>&gt; subscriber)</code></th> <td> <p>Returns a response body handler that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Void&gt;</code> obtained from <a href="httpresponse.bodysubscribers#fromLineSubscriber(S,java.util.function.Function,java.nio.charset.Charset,java.lang.String)"><code>BodySubscribers.fromLineSubscriber(subscriber, s -&gt; null, charset, null)</code></a>, with the given <code>subscriber</code>.</p> </td> </tr> <tr id="i3"> <td><code>static &lt;S extends <a href="../../../../java.base/java/util/concurrent/flow.subscriber">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/lang/string">String</a>&gt;,​T&gt;<br><a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;T&gt;</code></td> <th scope="row"><code><a href="#fromLineSubscriber(S,java.util.function.Function,java.lang.String)">fromLineSubscriber</a>​(S subscriber,
                  <a href="../../../../java.base/java/util/function/function">Function</a>&lt;? super S,​? extends T&gt; finisher,
                  <a href="../../../../java.base/java/lang/string">String</a> lineSeparator)</code></th> <td> <p>Returns a response body handler that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;T&gt;</code> obtained from <a href="httpresponse.bodysubscribers#fromLineSubscriber(S,java.util.function.Function,java.nio.charset.Charset,java.lang.String)"><code>BodySubscribers.fromLineSubscriber(subscriber, finisher, charset, lineSeparator)</code></a>, with the given <code>subscriber</code>, <code>finisher</code> function, and line separator.</p> </td> </tr> <tr id="i4"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/lang/void">Void</a>&gt;</code></td> <th scope="row"><code><a href="#fromSubscriber(java.util.concurrent.Flow.Subscriber)">fromSubscriber</a>​(<a href="../../../../java.base/java/util/concurrent/flow.subscriber">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/util/list">List</a>&lt;<a href="../../../../java.base/java/nio/bytebuffer">ByteBuffer</a>&gt;&gt; subscriber)</code></th> <td> <p>Returns a response body handler that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Void&gt;</code> obtained from <a href="httpresponse.bodysubscribers#fromSubscriber(java.util.concurrent.Flow.Subscriber)"><code>HttpResponse.BodySubscribers.fromSubscriber(Subscriber)</code></a>, with the given <code>subscriber</code>.</p> </td> </tr> <tr id="i5"> <td><code>static &lt;S extends <a href="../../../../java.base/java/util/concurrent/flow.subscriber">Flow.Subscriber</a>&lt;? super <a href="../../../../java.base/java/util/list">List</a>&lt;<a href="../../../../java.base/java/nio/bytebuffer">ByteBuffer</a>&gt;&gt;,​T&gt;<br><a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;T&gt;</code></td> <th scope="row"><code><a href="#fromSubscriber(S,java.util.function.Function)">fromSubscriber</a>​(S subscriber,
              <a href="../../../../java.base/java/util/function/function">Function</a>&lt;? super S,​? extends T&gt; finisher)</code></th> <td> <p>Returns a response body handler that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;T&gt;</code> obtained from <a href="httpresponse.bodysubscribers#fromSubscriber(S,java.util.function.Function)"><code>HttpResponse.BodySubscribers.fromSubscriber(Subscriber, Function)</code></a>, with the given <code>subscriber</code> and <code>finisher</code> function.</p> </td> </tr> <tr id="i6"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;byte[]&gt;</code></td> <th scope="row"><code><a href="#ofByteArray()">ofByteArray</a>()</code></th> <td> <p>Returns a <code>BodyHandler&lt;byte[]&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a>&lt;<code>byte[]</code>&gt; obtained from <a href="httpresponse.bodysubscribers#ofByteArray()"><code>BodySubscribers.ofByteArray()</code></a>.</p> </td> </tr> <tr id="i7"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/lang/void">Void</a>&gt;</code></td> <th scope="row"><code><a href="#ofByteArrayConsumer(java.util.function.Consumer)">ofByteArrayConsumer</a>​(<a href="../../../../java.base/java/util/function/consumer">Consumer</a>&lt;<a href="../../../../java.base/java/util/optional">Optional</a>&lt;byte[]&gt;&gt; consumer)</code></th> <td> <p>Returns a <code>BodyHandler&lt;Void&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Void&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofByteArrayConsumer(java.util.function.Consumer)"><code>BodySubscribers.ofByteArrayConsumer(Consumer)</code></a>.</p> </td> </tr> <tr id="i8"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/nio/file/path">Path</a>&gt;</code></td> <th scope="row"><code><a href="#ofFile(java.nio.file.Path)">ofFile</a>​(<a href="../../../../java.base/java/nio/file/path">Path</a> file)</code></th> <td> <p>Returns a <code>BodyHandler&lt;Path&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Path&gt;</code>.</p> </td> </tr> <tr id="i9"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/nio/file/path">Path</a>&gt;</code></td> <th scope="row"><code><a href="#ofFile(java.nio.file.Path,java.nio.file.OpenOption...)">ofFile</a>​(<a href="../../../../java.base/java/nio/file/path">Path</a> file,
      <a href="../../../../java.base/java/nio/file/openoption">OpenOption</a>... openOptions)</code></th> <td> <p>Returns a <code>BodyHandler&lt;Path&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Path&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofFile(java.nio.file.Path,java.nio.file.OpenOption...)"><code>BodySubscribers.ofFile(Path,OpenOption...)</code></a>.</p> </td> </tr> <tr id="i10"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/nio/file/path">Path</a>&gt;</code></td> <th scope="row"><code><a href="#ofFileDownload(java.nio.file.Path,java.nio.file.OpenOption...)">ofFileDownload</a>​(<a href="../../../../java.base/java/nio/file/path">Path</a> directory,
              <a href="../../../../java.base/java/nio/file/openoption">OpenOption</a>... openOptions)</code></th> <td> <p>Returns a <code>BodyHandler&lt;Path&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a>&lt;<a href="../../../../java.base/java/nio/file/path"><code>Path</code></a>&gt; where the download directory is specified, but the filename is obtained from the <code>Content-Disposition</code> response header.</p> </td> </tr> <tr id="i11"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/io/inputstream">InputStream</a>&gt;</code></td> <th scope="row"><code><a href="#ofInputStream()">ofInputStream</a>()</code></th> <td> <p>Returns a <code>BodyHandler&lt;InputStream&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;InputStream&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofInputStream()"><code>BodySubscribers.ofInputStream</code></a>.</p> </td> </tr> <tr id="i12"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/util/stream/stream">Stream</a>&lt;<a href="../../../../java.base/java/lang/string">String</a>&gt;&gt;</code></td> <th scope="row"><code><a href="#ofLines()">ofLines</a>()</code></th> <td> <p>Returns a <code>BodyHandler&lt;Stream&lt;String&gt;&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Stream&lt;String&gt;&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofLines(java.nio.charset.Charset)"><code>BodySubscribers.ofLines(charset)</code></a>.</p> </td> </tr> <tr id="i13"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/util/concurrent/flow.publisher">Flow.Publisher</a>&lt;<a href="../../../../java.base/java/util/list">List</a>&lt;<a href="../../../../java.base/java/nio/bytebuffer">ByteBuffer</a>&gt;&gt;&gt;</code></td> <th scope="row"><code><a href="#ofPublisher()">ofPublisher</a>()</code></th> <td> <p>Returns a <code>BodyHandler&lt;Publisher&lt;List&lt;ByteBuffer&gt;&gt;&gt;</code> that creates a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Publisher&lt;List&lt;ByteBuffer&gt;&gt;&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofPublisher()"><code>BodySubscribers.ofPublisher()</code></a>.</p> </td> </tr> <tr id="i14"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/lang/string">String</a>&gt;</code></td> <th scope="row"><code><a href="#ofString()">ofString</a>()</code></th> <td> <p>Returns a <code>BodyHandler&lt;String&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;String&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofString(java.nio.charset.Charset)"><code>BodySubscribers.ofString(Charset)</code></a>.</p> </td> </tr> <tr id="i15"> <td><code>static <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;<a href="../../../../java.base/java/lang/string">String</a>&gt;</code></td> <th scope="row"><code><a href="#ofString(java.nio.charset.Charset)">ofString</a>​(<a href="../../../../java.base/java/nio/charset/charset">Charset</a> charset)</code></th> <td> <p>Returns a <code>BodyHandler&lt;String&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;String&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofString(java.nio.charset.Charset)"><code>BodySubscribers.ofString(Charset)</code></a>.</p> </td> </tr> <tr id="i16"> <td><code>static &lt;U&gt; <a href="httpresponse.bodyhandler">HttpResponse.BodyHandler</a>&lt;U&gt;</code></td> <th scope="row"><code><a href="#replacing(U)">replacing</a>​(U value)</code></th> <td> <p>Returns a response body handler that returns the given replacement value, after discarding the response body.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="fromSubscriber(java.util.concurrent.Flow.Subscriber)">fromSubscriber</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Void&gt; fromSubscriber(Flow.Subscriber&lt;? super List&lt;ByteBuffer&gt;&gt; subscriber)</pre> <div>
<p>Returns a response body handler that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Void&gt;</code> obtained from <a href="httpresponse.bodysubscribers#fromSubscriber(java.util.concurrent.Flow.Subscriber)"><code>HttpResponse.BodySubscribers.fromSubscriber(Subscriber)</code></a>, with the given <code>subscriber</code>. </p>
<p> The response body is not available through this, or the <code>
 HttpResponse</code> API, but instead all response body is forwarded to the given <code>subscriber</code>, which should make it available, if appropriate, through some other mechanism, e.g. an entry in a database, etc.</p>
</div> <dl> <dt>API Note:</dt> <dd>This method can be used as an adapter between <code>
 BodySubscriber</code> and <code>Flow.Subscriber</code>. <p> For example: </p>
<pre data-language="java">TextSubscriber subscriber = new TextSubscriber();
  HttpResponse&lt;Void&gt; response = client.sendAsync(request,
      BodyHandlers.fromSubscriber(subscriber)).join();
  System.out.println(response.statusCode());</pre>
</dd> <dt>Parameters:</dt> <dd>
<code>subscriber</code> - the subscriber</dd> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="fromSubscriber(java.util.concurrent.Flow.Subscriber,java.util.function.Function)">fromSubscriber</h3> <pre data-language="java">public static &lt;S extends Flow.Subscriber&lt;? super List&lt;ByteBuffer&gt;&gt;,T&gt; HttpResponse.BodyHandler&lt;T&gt; fromSubscriber​(S subscriber,
                                                                                                                       Function&lt;? super S,​? extends T&gt; finisher)</pre> <div>
<p>Returns a response body handler that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;T&gt;</code> obtained from <a href="httpresponse.bodysubscribers#fromSubscriber(S,java.util.function.Function)"><code>HttpResponse.BodySubscribers.fromSubscriber(Subscriber, Function)</code></a>, with the given <code>subscriber</code> and <code>finisher</code> function. </p>
<p> The given <code>finisher</code> function is applied after the given subscriber's <code>onComplete</code> has been invoked. The <code>finisher</code> function is invoked with the given subscriber, and returns a value that is set as the response's body.</p>
</div> <dl> <dt>API Note:</dt> <dd>This method can be used as an adapter between <code>
 BodySubscriber</code> and <code>Flow.Subscriber</code>. <p> For example: </p>
<pre data-language="java">TextSubscriber subscriber = ...;  // accumulates bytes and transforms them into a String
  HttpResponse&lt;String&gt; response = client.sendAsync(request,
      BodyHandlers.fromSubscriber(subscriber, TextSubscriber::getTextResult)).join();
  String text = response.body();</pre>
</dd> <dt>Type Parameters:</dt> <dd>
<code>S</code> - the type of the Subscriber</dd> <dd>
<code>T</code> - the type of the response body</dd> <dt>Parameters:</dt> <dd>
<code>subscriber</code> - the subscriber</dd> <dd>
<code>finisher</code> - a function to be applied after the subscriber has completed</dd> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="fromLineSubscriber(java.util.concurrent.Flow.Subscriber)">fromLineSubscriber</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Void&gt; fromLineSubscriber(Flow.Subscriber&lt;? super String&gt; subscriber)</pre> <div>
<p>Returns a response body handler that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Void&gt;</code> obtained from <a href="httpresponse.bodysubscribers#fromLineSubscriber(S,java.util.function.Function,java.nio.charset.Charset,java.lang.String)"><code>BodySubscribers.fromLineSubscriber(subscriber, s -&gt; null, charset, null)</code></a>, with the given <code>subscriber</code>. The <a href="../../../../java.base/java/nio/charset/charset"><code>charset</code></a> used to decode the response body bytes is obtained from the HTTP response headers as specified by <a href="#ofString()"><code>ofString()</code></a>, and lines are delimited in the manner of <a href="../../../../java.base/java/io/bufferedreader#readLine()"><code>BufferedReader.readLine()</code></a>. </p>
<p> The response body is not available through this, or the <code>
 HttpResponse</code> API, but instead all response body is forwarded to the given <code>subscriber</code>, which should make it available, if appropriate, through some other mechanism, e.g. an entry in a database, etc.</p>
</div> <dl> <dt>API Note:</dt> <dd>This method can be used as an adapter between a <code>
 BodySubscriber</code> and a text based <code>Flow.Subscriber</code> that parses text line by line. <p> For example: </p>
<pre data-language="java">// A PrintSubscriber that implements Flow.Subscriber&lt;String&gt;
  // and print lines received by onNext() on System.out
  PrintSubscriber subscriber = new PrintSubscriber(System.out);
  client.sendAsync(request, BodyHandlers.fromLineSubscriber(subscriber))
      .thenApply(HttpResponse::statusCode)
      .thenAccept((status) -&gt; {
          if (status != 200) {
              System.err.printf("ERROR: %d status received%n", status);
          }
      });</pre>
</dd> <dt>Parameters:</dt> <dd>
<code>subscriber</code> - the subscriber</dd> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="fromLineSubscriber(java.util.concurrent.Flow.Subscriber,java.util.function.Function,java.lang.String)">fromLineSubscriber</h3> <pre data-language="java">public static &lt;S extends Flow.Subscriber&lt;? super String&gt;,T&gt; HttpResponse.BodyHandler&lt;T&gt; fromLineSubscriber​(S subscriber,
                                                                                                                 Function&lt;? super S,​? extends T&gt; finisher,
                                                                                                                 String lineSeparator)</pre> <div>
<p>Returns a response body handler that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;T&gt;</code> obtained from <a href="httpresponse.bodysubscribers#fromLineSubscriber(S,java.util.function.Function,java.nio.charset.Charset,java.lang.String)"><code>BodySubscribers.fromLineSubscriber(subscriber, finisher, charset, lineSeparator)</code></a>, with the given <code>subscriber</code>, <code>finisher</code> function, and line separator. The <a href="../../../../java.base/java/nio/charset/charset"><code>charset</code></a> used to decode the response body bytes is obtained from the HTTP response headers as specified by <a href="#ofString()"><code>ofString()</code></a>. </p>
<p> The given <code>finisher</code> function is applied after the given subscriber's <code>onComplete</code> has been invoked. The <code>finisher</code> function is invoked with the given subscriber, and returns a value that is set as the response's body.</p>
</div> <dl> <dt>API Note:</dt> <dd>This method can be used as an adapter between a <code>
 BodySubscriber</code> and a text based <code>Flow.Subscriber</code> that parses text line by line. <p> For example: </p>
<pre data-language="java">// A LineParserSubscriber that implements Flow.Subscriber&lt;String&gt;
  // and accumulates lines that match a particular pattern
  Pattern pattern = ...;
  LineParserSubscriber subscriber = new LineParserSubscriber(pattern);
  HttpResponse&lt;List&lt;String&gt;&gt; response = client.send(request,
      BodyHandlers.fromLineSubscriber(subscriber, s -&gt; s.getMatchingLines(), "\n"));
  if (response.statusCode() != 200) {
      System.err.printf("ERROR: %d status received%n", response.statusCode());
  }</pre>
</dd> <dt>Type Parameters:</dt> <dd>
<code>S</code> - the type of the Subscriber</dd> <dd>
<code>T</code> - the type of the response body</dd> <dt>Parameters:</dt> <dd>
<code>subscriber</code> - the subscriber</dd> <dd>
<code>finisher</code> - a function to be applied after the subscriber has completed</dd> <dd>
<code>lineSeparator</code> - an optional line separator: can be <code>null</code>, in which case lines will be delimited in the manner of <a href="../../../../java.base/java/io/bufferedreader#readLine()"><code>BufferedReader.readLine()</code></a>.</dd> <dt>Returns:</dt> <dd>a response body handler</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if the supplied <code>lineSeparator</code> is the empty string</dd> </dl>    <h3 id="discarding()">discarding</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Void&gt; discarding()</pre> <p>Returns a response body handler that discards the response body.</p> <dl> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="replacing(java.lang.Object)">replacing</h3> <pre data-language="java">public static &lt;U&gt; HttpResponse.BodyHandler&lt;U&gt; replacing(U value)</pre> <p>Returns a response body handler that returns the given replacement value, after discarding the response body.</p> <dl> <dt>Type Parameters:</dt> <dd>
<code>U</code> - the response body type</dd> <dt>Parameters:</dt> <dd>
<code>value</code> - the value of U to return as the body, may be <code>null</code>
</dd> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="ofString(java.nio.charset.Charset)">ofString</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;String&gt; ofString(Charset charset)</pre> <p>Returns a <code>BodyHandler&lt;String&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;String&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofString(java.nio.charset.Charset)"><code>BodySubscribers.ofString(Charset)</code></a>. The body is decoded using the given character set.</p> <dl> <dt>Parameters:</dt> <dd>
<code>charset</code> - the character set to convert the body with</dd> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="ofFile(java.nio.file.Path,java.nio.file.OpenOption...)">ofFile</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Path&gt; ofFile(Path file,
                                                    OpenOption... openOptions)</pre> <div>
<p>Returns a <code>BodyHandler&lt;Path&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Path&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofFile(java.nio.file.Path,java.nio.file.OpenOption...)"><code>BodySubscribers.ofFile(Path,OpenOption...)</code></a>. </p>
<p> When the <code>HttpResponse</code> object is returned, the body has been completely written to the file, and <a href="httpresponse#body()"><code>HttpResponse.body()</code></a> returns a reference to its <a href="../../../../java.base/java/nio/file/path"><code>Path</code></a>. </p>
<p> Security manager permission checks are performed in this factory method, when the <code>BodyHandler</code> is created. Care must be taken that the <code>BodyHandler</code> is not shared with untrusted code.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>file</code> - the file to store the body in</dd> <dd>
<code>openOptions</code> - any options to use when opening/creating the file</dd> <dt>Returns:</dt> <dd>a response body handler</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if an invalid set of open options are specified</dd> <dd>
<code><a href="../../../../java.base/java/lang/securityexception">SecurityException</a></code> - If a security manager has been installed and it denies <a href="../../../../java.base/java/lang/securitymanager#checkWrite(java.lang.String)"><code>write access</code></a> to the file.</dd> </dl>    <h3 id="ofFile(java.nio.file.Path)">ofFile</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Path&gt; ofFile(Path file)</pre> <div>
<p>Returns a <code>BodyHandler&lt;Path&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Path&gt;</code>. </p>
<p> Equivalent to: <code>ofFile(file, CREATE, WRITE)</code> </p>
<p> Security manager permission checks are performed in this factory method, when the <code>BodyHandler</code> is created. Care must be taken that the <code>BodyHandler</code> is not shared with untrusted code.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>file</code> - the file to store the body in</dd> <dt>Returns:</dt> <dd>a response body handler</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/securityexception">SecurityException</a></code> - If a security manager has been installed and it denies <a href="../../../../java.base/java/lang/securitymanager#checkWrite(java.lang.String)"><code>write access</code></a> to the file.</dd> </dl>    <h3 id="ofFileDownload(java.nio.file.Path,java.nio.file.OpenOption...)">ofFileDownload</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Path&gt; ofFileDownload(Path directory,
                                                            OpenOption... openOptions)</pre> <div>
<p>Returns a <code>BodyHandler&lt;Path&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a>&lt;<a href="../../../../java.base/java/nio/file/path"><code>Path</code></a>&gt; where the download directory is specified, but the filename is obtained from the <code>Content-Disposition</code> response header. The <code>Content-Disposition</code> header must specify the <i>attachment</i> type and must also contain a <i>filename</i> parameter. If the filename specifies multiple path components only the final component is used as the filename (with the given directory name). </p>
<p> When the <code>HttpResponse</code> object is returned, the body has been completely written to the file and <a href="httpresponse#body()"><code>HttpResponse.body()</code></a> returns a <code>Path</code> object for the file. The returned <code>Path</code> is the combination of the supplied directory name and the file name supplied by the server. If the destination directory does not exist or cannot be written to, then the response will fail with an <a href="../../../../java.base/java/io/ioexception"><code>IOException</code></a>. </p>
<p> Security manager permission checks are performed in this factory method, when the <code>BodyHandler</code> is created. Care must be taken that the <code>BodyHandler</code> is not shared with untrusted code.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>directory</code> - the directory to store the file in</dd> <dd>
<code>openOptions</code> - open options used when opening the file</dd> <dt>Returns:</dt> <dd>a response body handler</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if the given path does not exist, is not a directory, is not writable, or if an invalid set of open options are specified</dd> <dd>
<code><a href="../../../../java.base/java/lang/securityexception">SecurityException</a></code> - If a security manager has been installed and it denies <a href="../../../../java.base/java/lang/securitymanager#checkRead(java.lang.String)">read access</a> to the directory, or it denies <a href="../../../../java.base/java/lang/securitymanager#checkWrite(java.lang.String)">write access</a> to the directory, or it denies <a href="../../../../java.base/java/lang/securitymanager#checkWrite(java.lang.String)">write access</a> to the files within the directory.</dd> </dl>    <h3 id="ofInputStream()">ofInputStream</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;InputStream&gt; ofInputStream()</pre> <div>
<p>Returns a <code>BodyHandler&lt;InputStream&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;InputStream&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofInputStream()"><code>BodySubscribers.ofInputStream</code></a>. </p>
<p> When the <code>HttpResponse</code> object is returned, the response headers will have been completely read, but the body may not have been fully received yet. The <a href="httpresponse#body()"><code>HttpResponse.body()</code></a> method returns an <a href="../../../../java.base/java/io/inputstream"><code>InputStream</code></a> from which the body can be read as it is received.</p>
</div> <dl> <dt>API Note:</dt> <dd>See <a href="httpresponse.bodysubscribers#ofInputStream()"><code>HttpResponse.BodySubscribers.ofInputStream()</code></a> for more information.</dd> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="ofLines()">ofLines</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Stream&lt;String&gt;&gt; ofLines()</pre> <div>
<p>Returns a <code>BodyHandler&lt;Stream&lt;String&gt;&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Stream&lt;String&gt;&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofLines(java.nio.charset.Charset)"><code>BodySubscribers.ofLines(charset)</code></a>. The <a href="../../../../java.base/java/nio/charset/charset"><code>charset</code></a> used to decode the response body bytes is obtained from the HTTP response headers as specified by <a href="#ofString()"><code>ofString()</code></a>, and lines are delimited in the manner of <a href="../../../../java.base/java/io/bufferedreader#readLine()"><code>BufferedReader.readLine()</code></a>. </p>
<p> When the <code>HttpResponse</code> object is returned, the body may not have been completely received.</p>
</div> <dl> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="ofByteArrayConsumer(java.util.function.Consumer)">ofByteArrayConsumer</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Void&gt; ofByteArrayConsumer(Consumer&lt;Optional&lt;byte[]&gt;&gt; consumer)</pre> <div>
<p>Returns a <code>BodyHandler&lt;Void&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Void&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofByteArrayConsumer(java.util.function.Consumer)"><code>BodySubscribers.ofByteArrayConsumer(Consumer)</code></a>. </p>
<p> When the <code>HttpResponse</code> object is returned, the body has been completely written to the consumer.</p>
</div> <dl> <dt>API Note:</dt> <dd>The subscriber returned by this handler is not flow controlled. Therefore, the supplied consumer must be able to process whatever amount of data is delivered in a timely fashion.</dd> <dt>Parameters:</dt> <dd>
<code>consumer</code> - a Consumer to accept the response body</dd> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="ofByteArray()">ofByteArray</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;byte[]&gt; ofByteArray()</pre> <div>
<p>Returns a <code>BodyHandler&lt;byte[]&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a>&lt;<code>byte[]</code>&gt; obtained from <a href="httpresponse.bodysubscribers#ofByteArray()"><code>BodySubscribers.ofByteArray()</code></a>. </p>
<p> When the <code>HttpResponse</code> object is returned, the body has been completely written to the byte array.</p>
</div> <dl> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="ofString()">ofString</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;String&gt; ofString()</pre> <div>
<p>Returns a <code>BodyHandler&lt;String&gt;</code> that returns a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;String&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofString(java.nio.charset.Charset)"><code>BodySubscribers.ofString(Charset)</code></a>. The body is decoded using the character set specified in the <code>Content-Type</code> response header. If there is no such header, or the character set is not supported, then <a href="../../../../java.base/java/nio/charset/standardcharsets#UTF_8"><code>UTF_8</code></a> is used. </p>
<p> When the <code>HttpResponse</code> object is returned, the body has been completely written to the string.</p>
</div> <dl> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="ofPublisher()">ofPublisher</h3> <pre data-language="java">public static HttpResponse.BodyHandler&lt;Flow.Publisher&lt;List&lt;ByteBuffer&gt;&gt;&gt; ofPublisher()</pre> <div>
<p>Returns a <code>BodyHandler&lt;Publisher&lt;List&lt;ByteBuffer&gt;&gt;&gt;</code> that creates a <a href="httpresponse.bodysubscriber"><code>BodySubscriber</code></a><code>&lt;Publisher&lt;List&lt;ByteBuffer&gt;&gt;&gt;</code> obtained from <a href="httpresponse.bodysubscribers#ofPublisher()"><code>BodySubscribers.ofPublisher()</code></a>. </p>
<p> When the <code>HttpResponse</code> object is returned, the response headers will have been completely read, but the body may not have been fully received yet. The <a href="httpresponse#body()"><code>HttpResponse.body()</code></a> method returns a <a href="../../../../java.base/java/util/concurrent/flow.publisher"><code>Publisher<list>&gt;</list></code></a> from which the body response bytes can be obtained as they are received. The publisher can and must be subscribed to only once.</p>
</div> <dl> <dt>API Note:</dt> <dd>See <a href="httpresponse.bodysubscribers#ofPublisher()"><code>HttpResponse.BodySubscribers.ofPublisher()</code></a> for more information.</dd> <dt>Returns:</dt> <dd>a response body handler</dd> </dl>    <h3 id="buffering(java.net.http.HttpResponse.BodyHandler,int)">buffering</h3> <pre data-language="java">public static &lt;T&gt; HttpResponse.BodyHandler&lt;T&gt; buffering(HttpResponse.BodyHandler&lt;T&gt; downstreamHandler,
                                                        int bufferSize)</pre> <p>Returns a <code>BodyHandler</code> which, when invoked, returns a <a href="httpresponse.bodysubscribers#buffering(java.net.http.HttpResponse.BodySubscriber,int)">buffering BodySubscriber</a> that buffers data before delivering it to the downstream subscriber. These <code>BodySubscriber</code> instances are created by calling <a href="httpresponse.bodysubscribers#buffering(java.net.http.HttpResponse.BodySubscriber,int)"><code>BodySubscribers.buffering</code></a> with a subscriber obtained from the given downstream handler and the <code>bufferSize</code> parameter.</p> <dl> <dt>Type Parameters:</dt> <dd>
<code>T</code> - the response body type</dd> <dt>Parameters:</dt> <dd>
<code>downstreamHandler</code> - the downstream handler</dd> <dd>
<code>bufferSize</code> - the buffer size parameter passed to <a href="httpresponse.bodysubscribers#buffering(java.net.http.HttpResponse.BodySubscriber,int)"><code>BodySubscribers.buffering</code></a>
</dd> <dt>Returns:</dt> <dd>a body handler</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>bufferSize &lt;= 0</code>
</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodyHandlers.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodyHandlers.html</a>
  </p>
</div>
