  <main role="main">    <h1>Class Recording</h1>   <ul class="inheritance"> <li><a href="../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>jdk.jfr.Recording</li> </ul> </li> </ul>   <dl> <dt>All Implemented Interfaces:</dt> <dd>
<code><a href="../../../java.base/java/io/closeable">Closeable</a></code>, <code><a href="../../../java.base/java/lang/autocloseable">AutoCloseable</a></code>
</dd> </dl>  <pre data-language="java">public final class Recording
extends Object
implements Closeable</pre> <div>
<p>Provides means to configure, start, stop and dump recording data to disk. </p>
<p> The following example shows how configure, start, stop and dump recording data to disk. </p>
<pre data-language="java">Configuration c = Configuration.getConfiguration("default");
   Recording r = new Recording(c);
   r.start();
   System.gc();
   Thread.sleep(5000);
   r.stop();
   r.copyTo(Files.createTempFile("my-recording", ".jfr"));</pre>
</div> <dl> <dt>Since:</dt> <dd>9</dd> </dl>      <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E()">Recording</a>()</code></th> <td> <p>Creates a recording without any settings.</p> </td> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(java.util.Map)">Recording</a>​(<a href="../../../java.base/java/util/map">Map</a>&lt;<a href="../../../java.base/java/lang/string">String</a>,​<a href="../../../java.base/java/lang/string">String</a>&gt; settings)</code></th> <td> </td> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(jdk.jfr.Configuration)">Recording</a>​(<a href="configuration">Configuration</a> configuration)</code></th> <td> <p>Creates a recording with settings from a configuration.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>void</code></td> <th scope="row"><code><a href="#close()">close</a>()</code></th> <td> <p>Releases all data that is associated with this recording.</p> </td> </tr> <tr id="i1"> <td><code><a href="recording">Recording</a></code></td> <th scope="row"><code><a href="#copy(boolean)">copy</a>​(boolean stop)</code></th> <td> <p>Returns a clone of this recording, with a new recording ID and name.</p> </td> </tr> <tr id="i2"> <td><code><a href="eventsettings">EventSettings</a></code></td> <th scope="row"><code><a href="#disable(java.lang.Class)">disable</a>​(<a href="../../../java.base/java/lang/class">Class</a>&lt;? extends <a href="event">Event</a>&gt; eventClass)</code></th> <td> <p>Disables event.</p> </td> </tr> <tr id="i3"> <td><code><a href="eventsettings">EventSettings</a></code></td> <th scope="row"><code><a href="#disable(java.lang.String)">disable</a>​(<a href="../../../java.base/java/lang/string">String</a> name)</code></th> <td> <p>Disables event with the specified name.</p> </td> </tr> <tr id="i4"> <td><code>void</code></td> <th scope="row"><code><a href="#dump(java.nio.file.Path)">dump</a>​(<a href="../../../java.base/java/nio/file/path">Path</a> destination)</code></th> <td> <p>Writes recording data to a file.</p> </td> </tr> <tr id="i5"> <td><code><a href="eventsettings">EventSettings</a></code></td> <th scope="row"><code><a href="#enable(java.lang.Class)">enable</a>​(<a href="../../../java.base/java/lang/class">Class</a>&lt;? extends <a href="event">Event</a>&gt; eventClass)</code></th> <td> <p>Enables event.</p> </td> </tr> <tr id="i6"> <td><code><a href="eventsettings">EventSettings</a></code></td> <th scope="row"><code><a href="#enable(java.lang.String)">enable</a>​(<a href="../../../java.base/java/lang/string">String</a> name)</code></th> <td> <p>Enables the event with the specified name.</p> </td> </tr> <tr id="i7"> <td><code><a href="../../../java.base/java/nio/file/path">Path</a></code></td> <th scope="row"><code><a href="#getDestination()">getDestination</a>()</code></th> <td> <p>Returns the destination file, where recording data is written when the recording stops, or <code>null</code> if no destination is set.</p> </td> </tr> <tr id="i8"> <td><code>boolean</code></td> <th scope="row"><code><a href="#getDumpOnExit()">getDumpOnExit</a>()</code></th> <td> <p>Returns whether this recording is dumped to disk when the JVM exits.</p> </td> </tr> <tr id="i9"> <td><code><a href="../../../java.base/java/time/duration">Duration</a></code></td> <th scope="row"><code><a href="#getDuration()">getDuration</a>()</code></th> <td> <p>Returns the specified duration for this recording, or <code>null</code> if no duration is set.</p> </td> </tr> <tr id="i10"> <td><code>long</code></td> <th scope="row"><code><a href="#getId()">getId</a>()</code></th> <td> <p>Returns a unique ID for this recording.</p> </td> </tr> <tr id="i11"> <td><code><a href="../../../java.base/java/time/duration">Duration</a></code></td> <th scope="row"><code><a href="#getMaxAge()">getMaxAge</a>()</code></th> <td> <p>Returns the length of time that the data is kept in the disk repository before it is removed.</p> </td> </tr> <tr id="i12"> <td><code>long</code></td> <th scope="row"><code><a href="#getMaxSize()">getMaxSize</a>()</code></th> <td> <p>Returns the maximum size, measured in bytes, at which data is no longer kept in the disk repository.</p> </td> </tr> <tr id="i13"> <td><code><a href="../../../java.base/java/lang/string">String</a></code></td> <th scope="row"><code><a href="#getName()">getName</a>()</code></th> <td> <p>Returns the name of this recording.</p> </td> </tr> <tr id="i14"> <td><code><a href="../../../java.base/java/util/map">Map</a>&lt;<a href="../../../java.base/java/lang/string">String</a>,​<a href="../../../java.base/java/lang/string">String</a>&gt;</code></td> <th scope="row"><code><a href="#getSettings()">getSettings</a>()</code></th> <td> <p>Returns settings used by this recording.</p> </td> </tr> <tr id="i15"> <td><code>long</code></td> <th scope="row"><code><a href="#getSize()">getSize</a>()</code></th> <td> <p>Returns the current size of this recording in the disk repository, measured in bytes.</p> </td> </tr> <tr id="i16"> <td><code><a href="../../../java.base/java/time/instant">Instant</a></code></td> <th scope="row"><code><a href="#getStartTime()">getStartTime</a>()</code></th> <td> <p>Returns the time when this recording was started.</p> </td> </tr> <tr id="i17"> <td><code><a href="recordingstate">RecordingState</a></code></td> <th scope="row"><code><a href="#getState()">getState</a>()</code></th> <td> <p>Returns the recording state that this recording is currently in.</p> </td> </tr> <tr id="i18"> <td><code><a href="../../../java.base/java/time/instant">Instant</a></code></td> <th scope="row"><code><a href="#getStopTime()">getStopTime</a>()</code></th> <td> <p>Returns the time when this recording was stopped.</p> </td> </tr> <tr id="i19"> <td><code><a href="../../../java.base/java/io/inputstream">InputStream</a></code></td> <th scope="row"><code><a href="#getStream(java.time.Instant,java.time.Instant)">getStream</a>​(<a href="../../../java.base/java/time/instant">Instant</a> start,
         <a href="../../../java.base/java/time/instant">Instant</a> end)</code></th> <td> <p>Creates a data stream for a specified interval.</p> </td> </tr> <tr id="i20"> <td><code>boolean</code></td> <th scope="row"><code><a href="#isToDisk()">isToDisk</a>()</code></th> <td> <p>Returns <code>true</code> if this recording uses the disk repository, <code>false</code> otherwise.</p> </td> </tr> <tr id="i21"> <td><code>void</code></td> <th scope="row"><code><a href="#scheduleStart(java.time.Duration)">scheduleStart</a>​(<a href="../../../java.base/java/time/duration">Duration</a> delay)</code></th> <td> <p>Starts this recording after a delay.</p> </td> </tr> <tr id="i22"> <td><code>void</code></td> <th scope="row"><code><a href="#setDestination(java.nio.file.Path)">setDestination</a>​(<a href="../../../java.base/java/nio/file/path">Path</a> destination)</code></th> <td> <p>Sets a location where data is written on recording stop, or <code>null</code> if data is not to be dumped.</p> </td> </tr> <tr id="i23"> <td><code>void</code></td> <th scope="row"><code><a href="#setDumpOnExit(boolean)">setDumpOnExit</a>​(boolean dumpOnExit)</code></th> <td> <p>Sets whether this recording is dumped to disk when the JVM exits.</p> </td> </tr> <tr id="i24"> <td><code>void</code></td> <th scope="row"><code><a href="#setDuration(java.time.Duration)">setDuration</a>​(<a href="../../../java.base/java/time/duration">Duration</a> duration)</code></th> <td> <p>Sets a duration for how long a recording runs before it stops.</p> </td> </tr> <tr id="i25"> <td><code>void</code></td> <th scope="row"><code><a href="#setMaxAge(java.time.Duration)">setMaxAge</a>​(<a href="../../../java.base/java/time/duration">Duration</a> maxAge)</code></th> <td> <p>Determines how far back data is kept in the disk repository.</p> </td> </tr> <tr id="i26"> <td><code>void</code></td> <th scope="row"><code><a href="#setMaxSize(long)">setMaxSize</a>​(long maxSize)</code></th> <td> <p>Determines how much data is kept in the disk repository.</p> </td> </tr> <tr id="i27"> <td><code>void</code></td> <th scope="row"><code><a href="#setName(java.lang.String)">setName</a>​(<a href="../../../java.base/java/lang/string">String</a> name)</code></th> <td> <p>Sets a human-readable name (for example, <code>"My Recording"</code>).</p> </td> </tr> <tr id="i28"> <td><code>void</code></td> <th scope="row"><code><a href="#setSettings(java.util.Map)">setSettings</a>​(<a href="../../../java.base/java/util/map">Map</a>&lt;<a href="../../../java.base/java/lang/string">String</a>,​<a href="../../../java.base/java/lang/string">String</a>&gt; settings)</code></th> <td> <p>Replaces all settings for this recording.</p> </td> </tr> <tr id="i29"> <td><code>void</code></td> <th scope="row"><code><a href="#setToDisk(boolean)">setToDisk</a>​(boolean disk)</code></th> <td> <p>Determines whether this recording is continuously flushed to the disk repository or data is constrained to what is available in memory buffers.</p> </td> </tr> <tr id="i30"> <td><code>void</code></td> <th scope="row"><code><a href="#start()">start</a>()</code></th> <td> <p>Starts this recording.</p> </td> </tr> <tr id="i31"> <td><code>boolean</code></td> <th scope="row"><code><a href="#stop()">stop</a>()</code></th> <td> <p>Stops this recording.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;(java.util.Map)">Recording</h3> <pre data-language="java">public Recording(Map&lt;String,​String&gt; settings)</pre>    <h3 id="&lt;init&gt;()">Recording</h3> <pre data-language="java">public Recording()</pre> <div>
<p>Creates a recording without any settings. </p>
<p> A newly created recording is in the <a href="recordingstate#NEW"><code>RecordingState.NEW</code></a> state. To start the recording, invoke the <a href="#start()"><code>start()</code></a> method.</p>
</div> <dl> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if Flight Recorder can't be created (for example, if the Java Virtual Machine (JVM) lacks Flight Recorder support, or if the file repository can't be created or accessed)</dd> <dd>
<code><a href="../../../java.base/java/lang/securityexception">SecurityException</a></code> - If a security manager is used and FlightRecorderPermission "accessFlightRecorder" is not set.</dd> </dl>    <h3 id="&lt;init&gt;(jdk.jfr.Configuration)">Recording</h3> <pre data-language="java">public Recording(Configuration configuration)</pre> <div>
<p>Creates a recording with settings from a configuration. </p>
<p> The following example shows how create a recording that uses a predefined configuration. </p>
<pre data-language="java">Recording r = new Recording(Configuration.getConfiguration("default"));</pre> The newly created recording is in the <a href="recordingstate#NEW"><code>RecordingState.NEW</code></a> state. To start the recording, invoke the <a href="#start()"><code>start()</code></a> method.</div> <dl> <dt>Parameters:</dt> <dd>
<code>configuration</code> - configuration that contains the settings to be use, not <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if Flight Recorder can't be created (for example, if the Java Virtual Machine (JVM) lacks Flight Recorder support, or if the file repository can't be created or accessed)</dd> <dd>
<code><a href="../../../java.base/java/lang/securityexception">SecurityException</a></code> - if a security manager is used and FlightRecorderPermission "accessFlightRecorder" is not set.</dd> <dt>See Also:</dt> <dd><a href="configuration"><code>Configuration</code></a></dd> </dl>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="start()">start</h3> <pre data-language="java">public void start()</pre> <div>
<p>Starts this recording. </p>
<p> It's recommended that the recording options and event settings are configured before calling this method. The benefits of doing so are a more consistent state when analyzing the recorded data, and improved performance because the configuration can be applied atomically. </p>
<p> After a successful invocation of this method, this recording is in the <code>RUNNING</code> state.</p>
</div> <dl> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if recording is already started or is in the <code>CLOSED</code> state</dd> </dl>    <h3 id="scheduleStart(java.time.Duration)">scheduleStart</h3> <pre data-language="java">public void scheduleStart(Duration delay)</pre> <div>
<p>Starts this recording after a delay. </p>
<p> After a successful invocation of this method, this recording is in the <code>DELAYED</code> state.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>delay</code> - the time to wait before starting this recording, not <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if the recording is not it the <code>NEW</code> state</dd> </dl>    <h3 id="stop()">stop</h3> <pre data-language="java">public boolean stop()</pre> <div>
<p>Stops this recording. </p>
<p> When a recording is stopped it can't be restarted. If this recording has a destination, data is written to that destination and the recording is closed. After a recording is closed, the data is no longer available. </p>
<p> After a successful invocation of this method, this recording will be in the <code>STOPPED</code> state.</p>
</div> <dl> <dt>Returns:</dt> <dd>
<code>true</code> if recording is stopped, <code>false</code> otherwise</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if the recording is not started or is already stopped</dd> <dd>
<code><a href="../../../java.base/java/lang/securityexception">SecurityException</a></code> - if a security manager exists and the caller doesn't have <code>FilePermission</code> to write to the destination path</dd> <dt>See Also:</dt> <dd><a href="#setDestination(java.nio.file.Path)"><code>setDestination(Path)</code></a></dd> </dl>    <h3 id="getSettings()">getSettings</h3> <pre data-language="java">public Map&lt;String,String&gt; getSettings()</pre> <div>
<p>Returns settings used by this recording. </p>
<p> Modifying the returned <code>Map</code> will not change the settings for this recording. </p>
<p> If no settings are set for this recording, an empty <code>Map</code> is returned.</p>
</div> <dl> <dt>Returns:</dt> <dd>recording settings, not <code>null</code>
</dd> </dl>    <h3 id="getSize()">getSize</h3> <pre data-language="java">public long getSize()</pre> <div>
<p>Returns the current size of this recording in the disk repository, measured in bytes. </p>
<p> The size is updated when recording buffers are flushed. If the recording is not written to the disk repository the returned size is always <code>0</code>.</p>
</div> <dl> <dt>Returns:</dt> <dd>amount of recorded data, measured in bytes, or <code>0</code> if the recording is not written to the disk repository</dd> </dl>    <h3 id="getStopTime()">getStopTime</h3> <pre data-language="java">public Instant getStopTime()</pre> <p>Returns the time when this recording was stopped.</p> <dl> <dt>Returns:</dt> <dd>the time, or <code>null</code> if this recording is not stopped</dd> </dl>    <h3 id="getStartTime()">getStartTime</h3> <pre data-language="java">public Instant getStartTime()</pre> <p>Returns the time when this recording was started.</p> <dl> <dt>Returns:</dt> <dd>the the time, or <code>null</code> if this recording is not started</dd> </dl>    <h3 id="getMaxSize()">getMaxSize</h3> <pre data-language="java">public long getMaxSize()</pre> <p>Returns the maximum size, measured in bytes, at which data is no longer kept in the disk repository.</p> <dl> <dt>Returns:</dt> <dd>maximum size in bytes, or <code>0</code> if no maximum size is set</dd> </dl>    <h3 id="getMaxAge()">getMaxAge</h3> <pre data-language="java">public Duration getMaxAge()</pre> <p>Returns the length of time that the data is kept in the disk repository before it is removed.</p> <dl> <dt>Returns:</dt> <dd>maximum length of time, or <code>null</code> if no maximum length of time has been set</dd> </dl>    <h3 id="getName()">getName</h3> <pre data-language="java">public String getName()</pre> <div>
<p>Returns the name of this recording. </p>
<p> By default, the name is the same as the recording ID.</p>
</div> <dl> <dt>Returns:</dt> <dd>the recording name, not <code>null</code>
</dd> </dl>    <h3 id="setSettings(java.util.Map)">setSettings</h3> <pre data-language="java">public void setSettings(Map&lt;String,​String&gt; settings)</pre> <div>
<p>Replaces all settings for this recording. </p>
<p> The following example shows how to set event settings for a recording. </p>
<pre data-language="java">Map&lt;String, String&gt; settings = new HashMap&lt;&gt;();
     settings.putAll(EventSettings.enabled("jdk.CPUSample").withPeriod(Duration.ofSeconds(2)).toMap());
     settings.putAll(EventSettings.enabled(MyEvent.class).withThreshold(Duration.ofSeconds(2)).withoutStackTrace().toMap());
     settings.put("jdk.ExecutionSample#period", "10 ms");
     recording.setSettings(settings);</pre> The following example shows how to merge settings. <pre data-language="java">Map&lt;String, String&gt; settings = recording.getSettings();
     settings.putAll(additionalSettings);
     recording.setSettings(settings);</pre>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>settings</code> - the settings to set, not <code>null</code>
</dd> </dl>    <h3 id="getState()">getState</h3> <pre data-language="java">public RecordingState getState()</pre> <p>Returns the recording state that this recording is currently in.</p> <dl> <dt>Returns:</dt> <dd>the recording state, not <code>null</code>
</dd> <dt>See Also:</dt> <dd><a href="recordingstate"><code>RecordingState</code></a></dd> </dl>    <h3 id="close()">close</h3> <pre data-language="java">public void close()</pre> <div>
<p>Releases all data that is associated with this recording. </p>
<p> After a successful invocation of this method, this recording is in the <code>CLOSED</code> state.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="../../../java.base/java/lang/autocloseable#close()">close</a></code> in interface <code><a href="../../../java.base/java/lang/autocloseable">AutoCloseable</a></code>
</dd> <dt>Specified by:</dt> <dd>
<code><a href="../../../java.base/java/io/closeable#close()">close</a></code> in interface <code><a href="../../../java.base/java/io/closeable">Closeable</a></code>
</dd> </dl>    <h3 id="copy(boolean)">copy</h3> <pre data-language="java">public Recording copy(boolean stop)</pre> <p>Returns a clone of this recording, with a new recording ID and name. Clones are useful for dumping data without stopping the recording. After a clone is created, the amount of data to copy is constrained with the <a href="#setMaxAge(java.time.Duration)"><code>setMaxAge(Duration)</code></a> method and the <a href="#setMaxSize(long)"><code>setMaxSize(long)</code></a>method.</p> <dl> <dt>Parameters:</dt> <dd>
<code>stop</code> - <code>true</code> if the newly created copy should be stopped immediately, <code>false</code> otherwise</dd> <dt>Returns:</dt> <dd>the recording copy, not <code>null</code>
</dd> </dl>    <h3 id="dump(java.nio.file.Path)">dump</h3> <pre data-language="java">public void dump(Path destination)
          throws IOException</pre> <div>
<p>Writes recording data to a file. </p>
<p> Recording must be started, but not necessarily stopped.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>destination</code> - the location where recording data is written, not <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/io/ioexception">IOException</a></code> - if the recording can't be copied to the specified location</dd> <dd>
<code><a href="../../../java.base/java/lang/securityexception">SecurityException</a></code> - if a security manager exists and the caller doesn't have <code>FilePermission</code> to write to the destination path</dd> </dl>    <h3 id="isToDisk()">isToDisk</h3> <pre data-language="java">public boolean isToDisk()</pre> <div>
<p>Returns <code>true</code> if this recording uses the disk repository, <code>false</code> otherwise. </p>
<p> If no value is set, <code>true</code> is returned.</p>
</div> <dl> <dt>Returns:</dt> <dd>
<code>true</code> if the recording uses the disk repository, <code>false</code> otherwise</dd> </dl>    <h3 id="setMaxSize(long)">setMaxSize</h3> <pre data-language="java">public void setMaxSize(long maxSize)</pre> <div>
<p>Determines how much data is kept in the disk repository. </p>
<p> To control the amount of recording data that is stored on disk, the maximum amount of data to retain can be specified. When the maximum limit is exceeded, the Java Virtual Machine (JVM) removes the oldest chunk to make room for a more recent chunk. </p>
<p> If neither maximum limit or the maximum age is set, the size of the recording may grow indefinitely.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>maxSize</code> - the amount of data to retain, <code>0</code> if infinite</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>maxSize</code> is negative</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if the recording is in <code>CLOSED</code> state</dd> </dl>    <h3 id="setMaxAge(java.time.Duration)">setMaxAge</h3> <pre data-language="java">public void setMaxAge(Duration maxAge)</pre> <div>
<p>Determines how far back data is kept in the disk repository. </p>
<p> To control the amount of recording data stored on disk, the maximum length of time to retain the data can be specified. Data stored on disk that is older than the specified length of time is removed by the Java Virtual Machine (JVM). </p>
<p> If neither maximum limit or the maximum age is set, the size of the recording may grow indefinitely.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>maxAge</code> - the length of time that data is kept, or <code>null</code> if infinite</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>maxAge</code> is negative</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if the recording is in the <code>CLOSED</code> state</dd> </dl>    <h3 id="setDestination(java.nio.file.Path)">setDestination</h3> <pre data-language="java">public void setDestination(Path destination)
                    throws IOException</pre> <div>
<p>Sets a location where data is written on recording stop, or <code>null</code> if data is not to be dumped. </p>
<p> If a destination is set, this recording is automatically closed after data is successfully copied to the destination path. </p>
<p> If a destination is <em>not</em> set, Flight Recorder retains the recording data until this recording is closed. Use the <a href="#dump(java.nio.file.Path)"><code>dump(Path)</code></a> method to manually write data to a file.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>destination</code> - the destination path, or <code>null</code> if recording should not be dumped at stop</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if recording is in the <code>STOPPED</code> or <code>CLOSED</code> state.</dd> <dd>
<code><a href="../../../java.base/java/lang/securityexception">SecurityException</a></code> - if a security manager exists and the caller doesn't have <code>FilePermission</code> to read, write, and delete the <code>destination</code> file</dd> <dd>
<code><a href="../../../java.base/java/io/ioexception">IOException</a></code> - if the path is not writable</dd> </dl>    <h3 id="getDestination()">getDestination</h3> <pre data-language="java">public Path getDestination()</pre> <p>Returns the destination file, where recording data is written when the recording stops, or <code>null</code> if no destination is set.</p> <dl> <dt>Returns:</dt> <dd>the destination file, or <code>null</code> if not set.</dd> </dl>    <h3 id="getId()">getId</h3> <pre data-language="java">public long getId()</pre> <p>Returns a unique ID for this recording.</p> <dl> <dt>Returns:</dt> <dd>the recording ID</dd> </dl>    <h3 id="setName(java.lang.String)">setName</h3> <pre data-language="java">public void setName(String name)</pre> <p>Sets a human-readable name (for example, <code>"My Recording"</code>).</p> <dl> <dt>Parameters:</dt> <dd>
<code>name</code> - the recording name, not <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if the recording is in <code>CLOSED</code> state</dd> </dl>    <h3 id="setDumpOnExit(boolean)">setDumpOnExit</h3> <pre data-language="java">public void setDumpOnExit(boolean dumpOnExit)</pre> <p>Sets whether this recording is dumped to disk when the JVM exits.</p> <dl> <dt>Parameters:</dt> <dd>
<code>dumpOnExit</code> - if this recording should be dumped when the JVM exits</dd> </dl>    <h3 id="getDumpOnExit()">getDumpOnExit</h3> <pre data-language="java">public boolean getDumpOnExit()</pre> <div>
<p>Returns whether this recording is dumped to disk when the JVM exits. </p>
<p> If dump on exit is not set, <code>false</code> is returned.</p>
</div> <dl> <dt>Returns:</dt> <dd>
<code>true</code> if the recording is dumped on exit, <code>false</code> otherwise.</dd> </dl>    <h3 id="setToDisk(boolean)">setToDisk</h3> <pre data-language="java">public void setToDisk(boolean disk)</pre> <p>Determines whether this recording is continuously flushed to the disk repository or data is constrained to what is available in memory buffers.</p> <dl> <dt>Parameters:</dt> <dd>
<code>disk</code> - <code>true</code> if this recording is written to disk, <code>false</code> if in-memory</dd> </dl>    <h3 id="getStream(java.time.Instant,java.time.Instant)">getStream</h3> <pre data-language="java">public InputStream getStream(Instant start,
                             Instant end)
                      throws IOException</pre> <div>
<p>Creates a data stream for a specified interval. </p>
<p> The stream may contain some data outside the specified range.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>the</code> - start start time for the stream, or <code>null</code> to get data from start time of the recording</dd> <dd>
<code>the</code> - end end time for the stream, or <code>null</code> to get data until the present time.</dd> <dt>Returns:</dt> <dd>an input stream, or <code>null</code> if no data is available in the interval.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>end</code> happens before <code>start</code>
</dd> <dd>
<code><a href="../../../java.base/java/io/ioexception">IOException</a></code> - if a stream can't be opened</dd> </dl>    <h3 id="getDuration()">getDuration</h3> <pre data-language="java">public Duration getDuration()</pre> <div>
<p>Returns the specified duration for this recording, or <code>null</code> if no duration is set. </p>
<p> The duration can be set only when the recording is in the <a href="recordingstate#NEW"><code>RecordingState.NEW</code></a> state.</p>
</div> <dl> <dt>Returns:</dt> <dd>the desired duration of the recording, or <code>null</code> if no duration has been set.</dd> </dl>    <h3 id="setDuration(java.time.Duration)">setDuration</h3> <pre data-language="java">public void setDuration(Duration duration)</pre> <div>
<p>Sets a duration for how long a recording runs before it stops. </p>
<p> By default, a recording has no duration (<code>null</code>).</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>duration</code> - the duration, or <code>null</code> if no duration is set</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception">IllegalStateException</a></code> - if recording is in the <code>STOPPED</code> or <code>CLOSED</code> state</dd> </dl>    <h3 id="enable(java.lang.String)">enable</h3> <pre data-language="java">public EventSettings enable(String name)</pre> <div>
<p>Enables the event with the specified name. </p>
<p> If multiple events have the same name (for example, the same class is loaded in different class loaders), then all events that match the name are enabled. To enable a specific class, use the <a href="#enable(java.lang.Class)"><code>enable(Class)</code></a> method or a <code>String</code> representation of the event type ID.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>name</code> - the settings for the event, not <code>null</code>
</dd> <dt>Returns:</dt> <dd>an event setting for further configuration, not <code>null</code>
</dd> <dt>See Also:</dt> <dd><a href="eventtype"><code>EventType</code></a></dd> </dl>    <h3 id="disable(java.lang.String)">disable</h3> <pre data-language="java">public EventSettings disable(String name)</pre> <div>
<p>Disables event with the specified name. </p>
<p> If multiple events with same name (for example, the same class is loaded in different class loaders), then all events that match the name is disabled. To disable a specific class, use the <a href="#disable(java.lang.Class)"><code>disable(Class)</code></a> method or a <code>String</code> representation of the event type ID.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>name</code> - the settings for the event, not <code>null</code>
</dd> <dt>Returns:</dt> <dd>an event setting for further configuration, not <code>null</code>
</dd> </dl>    <h3 id="enable(java.lang.Class)">enable</h3> <pre data-language="java">public EventSettings enable(Class&lt;? extends Event&gt; eventClass)</pre> <p>Enables event.</p> <dl> <dt>Parameters:</dt> <dd>
<code>eventClass</code> - the event to enable, not <code>null</code>
</dd> <dt>Returns:</dt> <dd>an event setting for further configuration, not <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>eventClass</code> is an abstract class or not a subclass of <a href="event"><code>Event</code></a>
</dd> </dl>    <h3 id="disable(java.lang.Class)">disable</h3> <pre data-language="java">public EventSettings disable(Class&lt;? extends Event&gt; eventClass)</pre> <p>Disables event.</p> <dl> <dt>Parameters:</dt> <dd>
<code>eventClass</code> - the event to enable, not <code>null</code>
</dd> <dt>Returns:</dt> <dd>an event setting for further configuration, not <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>eventClass</code> is an abstract class or not a subclass of <a href="event"><code>Event</code></a>
</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jfr/jdk/jfr/Recording.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jfr/jdk/jfr/Recording.html</a>
  </p>
</div>
