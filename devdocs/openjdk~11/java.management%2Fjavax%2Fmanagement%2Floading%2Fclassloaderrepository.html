  <main role="main">    <h1>Interface ClassLoaderRepository</h1>      <pre data-language="java">public interface ClassLoaderRepository</pre> <div>

<p>Instances of this interface are used to keep the list of ClassLoaders registered in an MBean Server. They provide the necessary methods to load classes using the registered ClassLoaders.</p> <p>The first ClassLoader in a <code>ClassLoaderRepository</code> is always the MBean Server's own ClassLoader.</p> <p>When an MBean is registered in an MBean Server, if it is of a subclass of <a href="../../../../java.base/java/lang/classloader"><code>ClassLoader</code></a> and if it does not implement the interface <a href="privateclassloader"><code>PrivateClassLoader</code></a>, it is added to the end of the MBean Server's <code>ClassLoaderRepository</code>. If it is subsequently unregistered from the MBean Server, it is removed from the <code>ClassLoaderRepository</code>.</p> <p>The order of MBeans in the <code>ClassLoaderRepository</code> is significant. For any two MBeans <em>X</em> and <em>Y</em> in the <code>ClassLoaderRepository</code>, <em>X</em> must appear before <em>Y</em> if the registration of <em>X</em> was completed before the registration of <em>Y</em> started. If <em>X</em> and <em>Y</em> were registered concurrently, their order is indeterminate. The registration of an MBean corresponds to the call to <a href="../mbeanserver#registerMBean(java.lang.Object,javax.management.ObjectName)"><code>MBeanServer.registerMBean(java.lang.Object, javax.management.ObjectName)</code></a> or one of the <a href="../mbeanserver"><code>MBeanServer</code></a><code>.createMBean</code> methods.</p>
</div> <dl> <dt>Since:</dt> <dd>1.5</dd> <dt>See Also:</dt> <dd><a href="../mbeanserverfactory"><code>MBeanServerFactory</code></a></dd> </dl>      <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code><a href="../../../../java.base/java/lang/class">Class</a>&lt;?&gt;</code></td> <th scope="row"><code><a href="#loadClass(java.lang.String)">loadClass</a>​(<a href="../../../../java.base/java/lang/string">String</a> className)</code></th> <td> <p>Load the given class name through the list of class loaders.</p> </td> </tr> <tr id="i1"> <td><code><a href="../../../../java.base/java/lang/class">Class</a>&lt;?&gt;</code></td> <th scope="row"><code><a href="#loadClassBefore(java.lang.ClassLoader,java.lang.String)">loadClassBefore</a>​(<a href="../../../../java.base/java/lang/classloader">ClassLoader</a> stop,
               <a href="../../../../java.base/java/lang/string">String</a> className)</code></th> <td> <p>Load the given class name through the list of class loaders, stopping at the given one.</p> </td> </tr> <tr id="i2"> <td><code><a href="../../../../java.base/java/lang/class">Class</a>&lt;?&gt;</code></td> <th scope="row"><code><a href="#loadClassWithout(java.lang.ClassLoader,java.lang.String)">loadClassWithout</a>​(<a href="../../../../java.base/java/lang/classloader">ClassLoader</a> exclude,
                <a href="../../../../java.base/java/lang/string">String</a> className)</code></th> <td> <p>Load the given class name through the list of class loaders, excluding the given one.</p> </td> </tr> </table>  </section>   <div>   <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="loadClass(java.lang.String)">loadClass</h3> <pre data-language="java">Class&lt;?&gt; loadClass(String className)
            throws ClassNotFoundException</pre> <div>

<p>Load the given class name through the list of class loaders. Each ClassLoader in turn from the ClassLoaderRepository is asked to load the class via its <a href="../../../../java.base/java/lang/classloader#loadClass(java.lang.String)"><code>ClassLoader.loadClass(String)</code></a> method. If it successfully returns a <a href="../../../../java.base/java/lang/class"><code>Class</code></a> object, that is the result of this method. If it throws a <a href="../../../../java.base/java/lang/classnotfoundexception"><code>ClassNotFoundException</code></a>, the search continues with the next ClassLoader. If it throws another exception, the exception is propagated from this method. If the end of the list is reached, a <a href="../../../../java.base/java/lang/classnotfoundexception"><code>ClassNotFoundException</code></a> is thrown.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>className</code> - The name of the class to be loaded.</dd> <dt>Returns:</dt> <dd>the loaded class.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/classnotfoundexception">ClassNotFoundException</a></code> - The specified class could not be found.</dd> </dl>    <h3 id="loadClassWithout(java.lang.ClassLoader,java.lang.String)">loadClassWithout</h3> <pre data-language="java">Class&lt;?&gt; loadClassWithout(ClassLoader exclude,
                          String className)
                   throws ClassNotFoundException</pre> <div>

<p>Load the given class name through the list of class loaders, excluding the given one. Each ClassLoader in turn from the ClassLoaderRepository, except <code>exclude</code>, is asked to load the class via its <a href="../../../../java.base/java/lang/classloader#loadClass(java.lang.String)"><code>ClassLoader.loadClass(String)</code></a> method. If it successfully returns a <a href="../../../../java.base/java/lang/class"><code>Class</code></a> object, that is the result of this method. If it throws a <a href="../../../../java.base/java/lang/classnotfoundexception"><code>ClassNotFoundException</code></a>, the search continues with the next ClassLoader. If it throws another exception, the exception is propagated from this method. If the end of the list is reached, a <a href="../../../../java.base/java/lang/classnotfoundexception"><code>ClassNotFoundException</code></a> is thrown.</p> <p>Be aware that if a ClassLoader in the ClassLoaderRepository calls this method from its <a href="../../../../java.base/java/lang/classloader#loadClass(java.lang.String)"><code>loadClass</code></a> method, it exposes itself to a deadlock if another ClassLoader in the ClassLoaderRepository does the same thing at the same time. The <a href="#loadClassBefore(java.lang.ClassLoader,java.lang.String)"><code>loadClassBefore(java.lang.ClassLoader, java.lang.String)</code></a> method is recommended to avoid the risk of deadlock.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>className</code> - The name of the class to be loaded.</dd> <dd>
<code>exclude</code> - The class loader to be excluded. May be null, in which case this method is equivalent to <a href="#loadClass(java.lang.String)"><code>loadClass(className)</code></a>.</dd> <dt>Returns:</dt> <dd>the loaded class.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/classnotfoundexception">ClassNotFoundException</a></code> - The specified class could not be found.</dd> </dl>    <h3 id="loadClassBefore(java.lang.ClassLoader,java.lang.String)">loadClassBefore</h3> <pre data-language="java">Class&lt;?&gt; loadClassBefore(ClassLoader stop,
                         String className)
                  throws ClassNotFoundException</pre> <div>

<p>Load the given class name through the list of class loaders, stopping at the given one. Each ClassLoader in turn from the ClassLoaderRepository is asked to load the class via its <a href="../../../../java.base/java/lang/classloader#loadClass(java.lang.String)"><code>ClassLoader.loadClass(String)</code></a> method. If it successfully returns a <a href="../../../../java.base/java/lang/class"><code>Class</code></a> object, that is the result of this method. If it throws a <a href="../../../../java.base/java/lang/classnotfoundexception"><code>ClassNotFoundException</code></a>, the search continues with the next ClassLoader. If it throws another exception, the exception is propagated from this method. If the search reaches <code>stop</code> or the end of the list, a <a href="../../../../java.base/java/lang/classnotfoundexception"><code>ClassNotFoundException</code></a> is thrown.</p> <p>Typically this method is called from the <a href="../../../../java.base/java/lang/classloader#loadClass(java.lang.String)"><code>loadClass</code></a> method of <code>stop</code>, to consult loaders that appear before it in the <code>ClassLoaderRepository</code>. By stopping the search as soon as <code>stop</code> is reached, a potential deadlock with concurrent class loading is avoided.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>className</code> - The name of the class to be loaded.</dd> <dd>
<code>stop</code> - The class loader at which to stop. May be null, in which case this method is equivalent to <a href="#loadClass(java.lang.String)"><code>loadClass(className)</code></a>.</dd> <dt>Returns:</dt> <dd>the loaded class.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/classnotfoundexception">ClassNotFoundException</a></code> - The specified class could not be found.</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.management/javax/management/loading/ClassLoaderRepository.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.management/javax/management/loading/ClassLoaderRepository.html</a>
  </p>
</div>
