  <main role="main">    <h1>Interface ObjectInputFilter</h1>     <dl> <dt>Functional Interface:</dt> <dd>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</dd> </dl>  <pre data-language="java">@FunctionalInterface
public interface ObjectInputFilter</pre> <div>
<p>Filter classes, array lengths, and graph metrics during deserialization. </p>
<p><strong>Warning: Deserialization of untrusted data is inherently dangerous and should be avoided. Untrusted data should be carefully validated according to the "Serialization and Deserialization" section of the <a href="https://www.oracle.com/pls/topic/lookup?ctx=javase11&amp;id=secure_coding_guidelines_javase">Secure Coding Guidelines for Java SE</a>. <a href="https://www.oracle.com/pls/topic/lookup?ctx=javase11&amp;id=serialization_filter_guide">Serialization Filtering</a> describes best practices for defensive use of serial filters. </strong></p> If set on an <a href="objectinputstream"><code>ObjectInputStream</code></a>, the <a href="#checkInput(java.io.ObjectInputFilter.FilterInfo)"><code>checkInput(FilterInfo)</code></a> method is called to validate classes, the length of each array, the number of objects being read from the stream, the depth of the graph, and the total number of bytes read from the stream. <p> A filter can be set via <a href="objectinputstream#setObjectInputFilter(java.io.ObjectInputFilter)"><code>setObjectInputFilter</code></a> for an individual ObjectInputStream. A filter can be set via <a href="objectinputfilter.config#setSerialFilter(java.io.ObjectInputFilter)"><code>Config.setSerialFilter</code></a> to affect every <code>ObjectInputStream</code> that does not otherwise set a filter. </p>
<p> A filter determines whether the arguments are <a href="objectinputfilter.status#ALLOWED"><code>ALLOWED</code></a> or <a href="objectinputfilter.status#REJECTED"><code>REJECTED</code></a> and should return the appropriate status. If the filter cannot determine the status it should return <a href="objectinputfilter.status#UNDECIDED"><code>UNDECIDED</code></a>. Filters should be designed for the specific use case and expected types. A filter designed for a particular use may be passed a class that is outside of the scope of the filter. If the purpose of the filter is to black-list classes then it can reject a candidate class that matches and report UNDECIDED for others. A filter may be called with class equals <code>null</code>, <code>arrayLength</code> equal -1, the depth, number of references, and stream size and return a status that reflects only one or only some of the values. This allows a filter to specific about the choice it is reporting and to use other filters without forcing either allowed or rejected status. </p>
<p> Typically, a custom filter should check if a process-wide filter is configured and defer to it if so. For example, </p>
<pre data-language="java">ObjectInputFilter.Status checkInput(FilterInfo info) {
     ObjectInputFilter serialFilter = ObjectInputFilter.Config.getSerialFilter();
     if (serialFilter != null) {
         ObjectInputFilter.Status status = serialFilter.checkInput(info);
         if (status != ObjectInputFilter.Status.UNDECIDED) {
             // The process-wide filter overrides this filter
             return status;
         }
     }
     if (info.serialClass() != null &amp;&amp;
         Remote.class.isAssignableFrom(info.serialClass())) {
         return Status.REJECTED;      // Do not allow Remote objects
     }
     return Status.UNDECIDED;
 }</pre> <p> Unless otherwise noted, passing a <code>null</code> argument to a method in this interface and its nested classes will cause a <a href="../lang/nullpointerexception"><code>NullPointerException</code></a> to be thrown.</p>
</div> <dl> <dt>Since:</dt> <dd>9</dd> <dt>See Also:</dt> <dd><a href="objectinputstream#setObjectInputFilter(java.io.ObjectInputFilter)"><code>ObjectInputStream.setObjectInputFilter(ObjectInputFilter)</code></a></dd> </dl>      <section role="region">  <h2 id="nested.class.summary">Nested Classes</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Interface</th> <th scope="col">Description</th> </tr> <tr> <td><code>static class </code></td> <th scope="row"><code><a href="objectinputfilter.config">ObjectInputFilter.Config</a></code></th> <td> <p>A utility class to set and get the process-wide filter or create a filter from a pattern string.</p> </td> </tr> <tr> <td><code>static interface </code></td> <th scope="row"><code><a href="objectinputfilter.filterinfo">ObjectInputFilter.FilterInfo</a></code></th> <td> <p>FilterInfo provides access to information about the current object being deserialized and the status of the <a href="objectinputstream"><code>ObjectInputStream</code></a>.</p> </td> </tr> <tr> <td><code>static class </code></td> <th scope="row"><code><a href="objectinputfilter.status">ObjectInputFilter.Status</a></code></th> <td> <p>The status of a check on the class, array length, number of references, depth, and stream size.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code><a href="objectinputfilter.status">ObjectInputFilter.Status</a></code></td> <th scope="row"><code><a href="#checkInput(java.io.ObjectInputFilter.FilterInfo)">checkInput</a>​(<a href="objectinputfilter.filterinfo">ObjectInputFilter.FilterInfo</a> filterInfo)</code></th> <td> <p>Check the class, array length, number of object references, depth, stream size, and other available filtering information.</p> </td> </tr> </table>  </section>   <div>   <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="checkInput(java.io.ObjectInputFilter.FilterInfo)">checkInput</h3> <pre data-language="java">ObjectInputFilter.Status checkInput(ObjectInputFilter.FilterInfo filterInfo)</pre> <p>Check the class, array length, number of object references, depth, stream size, and other available filtering information. Implementations of this method check the contents of the object graph being created during deserialization. The filter returns <a href="objectinputfilter.status#ALLOWED"><code>Status.ALLOWED</code></a>, <a href="objectinputfilter.status#REJECTED"><code>Status.REJECTED</code></a>, or <a href="objectinputfilter.status#UNDECIDED"><code>Status.UNDECIDED</code></a>.</p> <dl> <dt>Parameters:</dt> <dd>
<code>filterInfo</code> - provides information about the current object being deserialized, if any, and the status of the <a href="objectinputstream"><code>ObjectInputStream</code></a>
</dd> <dt>Returns:</dt> <dd>
<a href="objectinputfilter.status#ALLOWED"><code>Status.ALLOWED</code></a> if accepted, <a href="objectinputfilter.status#REJECTED"><code>Status.REJECTED</code></a> if rejected, <a href="objectinputfilter.status#UNDECIDED"><code>Status.UNDECIDED</code></a> if undecided.</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/ObjectInputFilter.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/ObjectInputFilter.html</a>
  </p>
</div>
