  <main role="main">    <h1>Class MemoryHandler</h1>   <ul class="inheritance"> <li><a href="../../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="handler">java.util.logging.Handler</a></li> <li> <ul class="inheritance"> <li>java.util.logging.MemoryHandler</li> </ul> </li> </ul> </li> </ul>    <pre data-language="java">public class MemoryHandler
extends Handler</pre> <div>
<p><code>Handler</code> that buffers requests in a circular buffer in memory. </p>
<p> Normally this <code>Handler</code> simply stores incoming <code>LogRecords</code> into its memory buffer and discards earlier records. This buffering is very cheap and avoids formatting costs. On certain trigger conditions, the <code>MemoryHandler</code> will push out its current buffer contents to a target <code>Handler</code>, which will typically publish them to the outside world. </p>
<p> There are three main models for triggering a push of the buffer: </p>
<ul> <li> An incoming <code>LogRecord</code> has a type that is greater than a pre-defined level, the <code>pushLevel</code>. </li> <li> An external class calls the <code>push</code> method explicitly. </li> <li> A subclass overrides the <code>log</code> method and scans each incoming <code>LogRecord</code> and calls <code>push</code> if a record matches some desired criteria. </li> </ul> <p> <b>Configuration:</b> By default each <code>MemoryHandler</code> is initialized using the following <code>LogManager</code> configuration properties where <code>&lt;handler-name&gt;</code> refers to the fully-qualified class name of the handler. If properties are not defined (or have invalid values) then the specified default values are used. If no default value is defined then a RuntimeException is thrown. </p>
<ul> <li> &lt;handler-name&gt;.level specifies the level for the <code>Handler</code> (defaults to <code>Level.ALL</code>). </li> <li> &lt;handler-name&gt;.filter specifies the name of a <code>Filter</code> class to use (defaults to no <code>Filter</code>). </li> <li> &lt;handler-name&gt;.size defines the buffer size (defaults to 1000). </li> <li> &lt;handler-name&gt;.push defines the <code>pushLevel</code> (defaults to <code>level.SEVERE</code>). </li> <li> &lt;handler-name&gt;.target specifies the name of the target <code>Handler </code> class. (no default). </li> </ul> <p> For example, the properties for <code>MemoryHandler</code> would be: </p>
<ul> <li> java.util.logging.MemoryHandler.level=INFO </li> <li> java.util.logging.MemoryHandler.formatter=java.util.logging.SimpleFormatter </li> </ul> <p> For a custom handler, e.g. com.foo.MyHandler, the properties would be: </p>
<ul> <li> com.foo.MyHandler.level=INFO </li> <li> com.foo.MyHandler.formatter=java.util.logging.SimpleFormatter </li> </ul>
</div> <dl> <dt>Since:</dt> <dd>1.4</dd> </dl>      <section role="region">  <h2 id="constructor.summary">Constructors</h2> <table>  <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E()">MemoryHandler</a>()</code></th> <td> <p>Create a <code>MemoryHandler</code> and configure it based on <code>LogManager</code> configuration properties.</p> </td> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(java.util.logging.Handler,int,java.util.logging.Level)">MemoryHandler</a>​(<a href="handler">Handler</a> target,
             int size,
             <a href="level">Level</a> pushLevel)</code></th> <td> <p>Create a <code>MemoryHandler</code>.</p> </td> </tr> </table>  </section>  <section role="region">  <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>void</code></td> <th scope="row"><code><a href="#close()">close</a>()</code></th> <td> <p>Close the <code>Handler</code> and free all associated resources.</p> </td> </tr> <tr id="i1"> <td><code>void</code></td> <th scope="row"><code><a href="#flush()">flush</a>()</code></th> <td> <p>Causes a flush on the target <code>Handler</code>.</p> </td> </tr> <tr id="i2"> <td><code><a href="level">Level</a></code></td> <th scope="row"><code><a href="#getPushLevel()">getPushLevel</a>()</code></th> <td> <p>Get the <code>pushLevel</code>.</p> </td> </tr> <tr id="i3"> <td><code>boolean</code></td> <th scope="row"><code><a href="#isLoggable(java.util.logging.LogRecord)">isLoggable</a>​(<a href="logrecord">LogRecord</a> record)</code></th> <td> <p>Check if this <code>Handler</code> would actually log a given <code>LogRecord</code> into its internal buffer.</p> </td> </tr> <tr id="i4"> <td><code>void</code></td> <th scope="row"><code><a href="#publish(java.util.logging.LogRecord)">publish</a>​(<a href="logrecord">LogRecord</a> record)</code></th> <td> <p>Store a <code>LogRecord</code> in an internal buffer.</p> </td> </tr> <tr id="i5"> <td><code>void</code></td> <th scope="row"><code><a href="#push()">push</a>()</code></th> <td> <p>Push any buffered output to the target <code>Handler</code>.</p> </td> </tr> <tr id="i6"> <td><code>void</code></td> <th scope="row"><code><a href="#setPushLevel(java.util.logging.Level)">setPushLevel</a>​(<a href="level">Level</a> newLevel)</code></th> <td> <p>Set the <code>pushLevel</code>.</p> </td> </tr> </table>  <h2 id="methods.inherited.from.class.java.util.logging.Handler">Methods declared in class java.util.logging.<a href="handler">Handler</a>
</h2> <code><a href="handler#getEncoding()">getEncoding</a>, <a href="handler#getErrorManager()">getErrorManager</a>, <a href="handler#getFilter()">getFilter</a>, <a href="handler#getFormatter()">getFormatter</a>, <a href="handler#getLevel()">getLevel</a>, <a href="handler#reportError(java.lang.String,java.lang.Exception,int)">reportError</a>, <a href="handler#setEncoding(java.lang.String)">setEncoding</a>, <a href="handler#setErrorManager(java.util.logging.ErrorManager)">setErrorManager</a>, <a href="handler#setFilter(java.util.logging.Filter)">setFilter</a>, <a href="handler#setFormatter(java.util.logging.Formatter)">setFormatter</a>, <a href="handler#setLevel(java.util.logging.Level)">setLevel</a></code>  <h2 id="methods.inherited.from.class.java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2 id="constructor.detail">Constructors</h2>   <h3 id="&lt;init&gt;()">MemoryHandler</h3> <pre data-language="java">public MemoryHandler()</pre> <p>Create a <code>MemoryHandler</code> and configure it based on <code>LogManager</code> configuration properties.</p>    <h3 id="&lt;init&gt;(java.util.logging.Handler,int,java.util.logging.Level)">MemoryHandler</h3> <pre data-language="java">public MemoryHandler(Handler target,
                     int size,
                     Level pushLevel)</pre> <div>
<p>Create a <code>MemoryHandler</code>. </p>
<p> The <code>MemoryHandler</code> is configured based on <code>LogManager</code> properties (or their default values) except that the given <code>pushLevel</code> argument and buffer size argument are used.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>target</code> - the Handler to which to publish output.</dd> <dd>
<code>size</code> - the number of log records to buffer (must be greater than zero)</dd> <dd>
<code>pushLevel</code> - message level to push on</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception">IllegalArgumentException</a></code> - if <code>size is &lt;= 0</code>
</dd> </dl>   </section>  <section role="region">  <h2 id="method.detail">Methods</h2>   <h3 id="publish(java.util.logging.LogRecord)">publish</h3> <pre data-language="java">public void publish(LogRecord record)</pre> <div>
<p>Store a <code>LogRecord</code> in an internal buffer. </p>
<p> If there is a <code>Filter</code>, its <code>isLoggable</code> method is called to check if the given log record is loggable. If not we return. Otherwise the given record is copied into an internal circular buffer. Then the record's level property is compared with the <code>pushLevel</code>. If the given level is greater than or equal to the <code>pushLevel</code> then <code>push</code> is called to write all buffered records to the target output <code>Handler</code>.</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="handler#publish(java.util.logging.LogRecord)">publish</a></code> in class <code><a href="handler">Handler</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>record</code> - description of the log event. A null record is silently ignored and is not published</dd> </dl>    <h3 id="push()">push</h3> <pre data-language="java">public void push()</pre> <div>
<p>Push any buffered output to the target <code>Handler</code>. </p>
<p> The buffer is then cleared.</p>
</div>    <h3 id="flush()">flush</h3> <pre data-language="java">public void flush()</pre> <div>
<p>Causes a flush on the target <code>Handler</code>. </p>
<p> Note that the current contents of the <code>MemoryHandler</code> buffer are <b>not</b> written out. That requires a "push".</p>
</div> <dl> <dt>Specified by:</dt> <dd>
<code><a href="handler#flush()">flush</a></code> in class <code><a href="handler">Handler</a></code>
</dd> </dl>    <h3 id="close()">close</h3> <pre data-language="java">public void close()
           throws SecurityException</pre> <p>Close the <code>Handler</code> and free all associated resources. This will also close the target <code>Handler</code>.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="handler#close()">close</a></code> in class <code><a href="handler">Handler</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/securityexception">SecurityException</a></code> - if a security manager exists and if the caller does not have <code>LoggingPermission("control")</code>.</dd> </dl>    <h3 id="setPushLevel(java.util.logging.Level)">setPushLevel</h3> <pre data-language="java">public void setPushLevel(Level newLevel)
                  throws SecurityException</pre> <p>Set the <code>pushLevel</code>. After a <code>LogRecord</code> is copied into our internal buffer, if its level is greater than or equal to the <code>pushLevel</code>, then <code>push</code> will be called.</p> <dl> <dt>Parameters:</dt> <dd>
<code>newLevel</code> - the new value of the <code>pushLevel</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/securityexception">SecurityException</a></code> - if a security manager exists and if the caller does not have <code>LoggingPermission("control")</code>.</dd> </dl>    <h3 id="getPushLevel()">getPushLevel</h3> <pre data-language="java">public Level getPushLevel()</pre> <p>Get the <code>pushLevel</code>.</p> <dl> <dt>Returns:</dt> <dd>the value of the <code>pushLevel</code>
</dd> </dl>    <h3 id="isLoggable(java.util.logging.LogRecord)">isLoggable</h3> <pre data-language="java">public boolean isLoggable(LogRecord record)</pre> <div>
<p>Check if this <code>Handler</code> would actually log a given <code>LogRecord</code> into its internal buffer. </p>
<p> This method checks if the <code>LogRecord</code> has an appropriate level and whether it satisfies any <code>Filter</code>. However it does <b>not</b> check whether the <code>LogRecord</code> would result in a "push" of the buffer contents. It will return false if the <code>LogRecord</code> is null.</p>
</div> <dl> <dt>Overrides:</dt> <dd>
<code><a href="handler#isLoggable(java.util.logging.LogRecord)">isLoggable</a></code> in class <code><a href="handler">Handler</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>record</code> - a <code>LogRecord</code> (may be null).</dd> <dt>Returns:</dt> <dd>true if the <code>LogRecord</code> would be logged.</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/MemoryHandler.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/MemoryHandler.html</a>
  </p>
</div>
