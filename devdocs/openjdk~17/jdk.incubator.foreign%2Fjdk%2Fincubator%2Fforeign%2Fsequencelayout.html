<h1 title="Class SequenceLayout" class="title">Class SequenceLayout</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../../java.base/java/lang/object" title="class in java.lang">java.lang.Object</a> <div class="inheritance">jdk.incubator.foreign.SequenceLayout</div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Implemented Interfaces:</dt> <dd>
<code><a href="../../../../java.base/java/lang/constant/constable" title="interface in java.lang.constant">Constable</a></code>, <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> </dl>  <pre class="lang-java" data-language="java">public final class SequenceLayout extends Object implements MemoryLayout</pre> <div class="block">A sequence layout. A sequence layout is used to denote a repetition of a given layout, also called the sequence layout's <em>element layout</em>. The repetition count, where it exists (e.g. for <em>finite</em> sequence layouts) is said to be the the sequence layout's <em>element count</em>. A finite sequence layout can be thought of as a group layout where the sequence layout's element layout is repeated a number of times that is equal to the sequence layout's element count. In other words this layout: <pre class="lang-java" data-language="java"><code>
MemoryLayout.sequenceLayout(3, MemoryLayout.valueLayout(32, ByteOrder.BIG_ENDIAN));
 </code></pre> is equivalent to the following layout: <pre class="lang-java" data-language="java"><code>
MemoryLayout.structLayout(
    MemoryLayout.valueLayout(32, ByteOrder.BIG_ENDIAN),
    MemoryLayout.valueLayout(32, ByteOrder.BIG_ENDIAN),
    MemoryLayout.valueLayout(32, ByteOrder.BIG_ENDIAN));
 </code></pre> <p> This is a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/doc-files/ValueBased.html">value-based</a> class; programmers should treat instances that are <a href="#equals(java.lang.Object)">equal</a> as interchangeable and should not use instances for synchronization, or unpredictable behavior may occur. For example, in a future release, synchronization may fail. The <code>equals</code> method should be used for comparisons. </p>
<p> Unless otherwise specified, passing a <code>null</code> argument, or an array argument containing one or more <code>null</code> elements to a method in this class causes a <a href="../../../../java.base/java/lang/nullpointerexception" title="class in java.lang"><code>NullPointerException</code></a> to be thrown. </p>
</div> <dl class="notes"> <dt>Implementation Requirements:</dt> <dd>This class is immutable and thread-safe.</dd> </dl> </section> <section class="summary"> <section class="nested-class-summary" id="nested-class-summary"> <h2>Nested Class Summary</h2> <div class="inherited-list"> <h2 id="nested-classes-inherited-from-class-jdk.incubator.foreign.MemoryLayout">Nested classes/interfaces declared in interface jdk.incubator.foreign.<a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a>
</h2> <code><a href="memorylayout.pathelement" title="interface in jdk.incubator.foreign">MemoryLayout.PathElement</a></code>
</div> </section><section class="field-summary" id="field-summary"> <h2>Field Summary</h2> <div class="inherited-list"> <h3 id="fields-inherited-from-class-jdk.incubator.foreign.MemoryLayout">Fields declared in interface jdk.incubator.foreign.<a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a>
</h3> <code><a href="memorylayout#LAYOUT_NAME">LAYOUT_NAME</a></code>
</div> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                                                             <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/util/optional" title="class in java.util">Optional</a>&lt;<a href="../../../../java.base/java/lang/constant/constable" title="interface in java.lang.constant">Constable</a>&gt;</code></td>
<td><code><a href="#attribute(java.lang.String)" class="member-name-link">attribute</a><wbr>(<a href="../../../../java.base/java/lang/string" title="class in java.lang">String</a> name)</wbr></code></td>
<td> <div class="block">Returns the attribute with the given name (if it exists).</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/util/stream/stream" title="interface in java.util.stream">Stream</a>&lt;<a href="../../../../java.base/java/lang/string" title="class in java.lang">String</a>&gt;</code></td>
<td><code><a href="#attributes()" class="member-name-link">attributes</a>()</code></td>
<td> <div class="block">Returns a stream of the attribute names associated with this layout.</div> </td>
</tr>
<tr>
<td><code>final long</code></td>
<td><code><a href="#bitAlignment()" class="member-name-link">bitAlignment</a>()</code></td>
<td> <div class="block">Returns the alignment constraint associated with this layout, expressed in bits.</div> </td>
</tr>
<tr>
<td><code>long</code></td>
<td><code><a href="#bitSize()" class="member-name-link">bitSize</a>()</code></td>
<td> <div class="block">Computes the layout size, in bits.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/util/optional" title="class in java.util">Optional</a>&lt;<a href="../../../../java.base/java/lang/constant/dynamicconstantdesc" title="class in java.lang.constant">DynamicConstantDesc</a>&lt;<a href="sequencelayout" title="class in jdk.incubator.foreign">SequenceLayout</a>&gt;&gt;</code></td>
<td><code><a href="#describeConstable()" class="member-name-link">describeConstable</a>()</code></td>
<td> <div class="block">Returns an <a href="../../../../java.base/java/util/optional" title="class in java.util"><code>Optional</code></a> containing the nominal descriptor for this layout, if one can be constructed, or an empty <a href="../../../../java.base/java/util/optional" title="class in java.util"><code>Optional</code></a> if one cannot be constructed.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/util/optionallong" title="class in java.util">OptionalLong</a></code></td>
<td><code><a href="#elementCount()" class="member-name-link">elementCount</a>()</code></td>
<td> <div class="block">Returns the element count of this sequence layout (if any).</div> </td>
</tr>
<tr>
<td><code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code></td>
<td><code><a href="#elementLayout()" class="member-name-link">elementLayout</a>()</code></td>
<td> <div class="block">Returns the element layout associated with this sequence layout.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#equals(java.lang.Object)" class="member-name-link">equals</a><wbr>(<a href="../../../../java.base/java/lang/object" title="class in java.lang">Object</a> other)</wbr></code></td>
<td> <div class="block">Indicates whether some other object is "equal to" this one.</div> </td>
</tr>
<tr>
<td><code><a href="sequencelayout" title="class in jdk.incubator.foreign">SequenceLayout</a></code></td>
<td><code><a href="#flatten()" class="member-name-link">flatten</a>()</code></td>
<td> <div class="block">Returns a new, flattened sequence layout whose element layout is the first non-sequence element layout found by recursively traversing the element layouts of this sequence layout.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#hashCode()" class="member-name-link">hashCode</a>()</code></td>
<td> <div class="block">Returns a hash code value for the object.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#hasSize()" class="member-name-link">hasSize</a>()</code></td>
<td> <div class="block">Does this layout have a specified size?</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#isPadding()" class="member-name-link">isPadding</a>()</code></td>
<td> <div class="block">Is this a padding layout (e.g. a layout created from <a href="memorylayout#paddingLayout(long)"><code>MemoryLayout.paddingLayout(long)</code></a>) ?</div> </td>
</tr>
<tr>
<td><code>final <a href="../../../../java.base/java/util/optional" title="class in java.util">Optional</a>&lt;<a href="../../../../java.base/java/lang/string" title="class in java.lang">String</a>&gt;</code></td>
<td><code><a href="#name()" class="member-name-link">name</a>()</code></td>
<td> <div class="block">Return the <em>name</em> (if any) associated with this layout.</div> </td>
</tr>
<tr>
<td><code><a href="sequencelayout" title="class in jdk.incubator.foreign">SequenceLayout</a></code></td>
<td><code><a href="#reshape(long...)" class="member-name-link">reshape</a><wbr>(long... elementCounts)</wbr></code></td>
<td> <div class="block">Returns a new sequence layout where element layouts in the flattened projection of this sequence layout (see <a href="#flatten()"><code>flatten()</code></a>) are re-arranged into one or more nested sequence layouts according to the provided element counts.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/string" title="class in java.lang">String</a></code></td>
<td><code><a href="#toString()" class="member-name-link">toString</a>()</code></td>
<td> <div class="block">Returns a string representation of the object.</div> </td>
</tr>
<tr>
<td><code><a href="sequencelayout" title="class in jdk.incubator.foreign">SequenceLayout</a></code></td>
<td><code><a href="#withAttribute(java.lang.String,java.lang.constant.Constable)" class="member-name-link">withAttribute</a><wbr>(<a href="../../../../java.base/java/lang/string" title="class in java.lang">String</a> name,
 <a href="../../../../java.base/java/lang/constant/constable" title="interface in java.lang.constant">Constable</a> value)</wbr></code></td>
<td> <div class="block">Returns a new memory layout which features the same attributes as this layout, plus the newly specified attribute.</div> </td>
</tr>
<tr>
<td><code><a href="sequencelayout" title="class in jdk.incubator.foreign">SequenceLayout</a></code></td>
<td><code><a href="#withBitAlignment(long)" class="member-name-link">withBitAlignment</a><wbr>(long alignmentBits)</wbr></code></td>
<td> <div class="block">Creates a new layout which features the desired alignment constraint.</div> </td>
</tr>
<tr>
<td><code><a href="sequencelayout" title="class in jdk.incubator.foreign">SequenceLayout</a></code></td>
<td><code><a href="#withElementCount(long)" class="member-name-link">withElementCount</a><wbr>(long elementCount)</wbr></code></td>
<td> <div class="block">Obtains a new sequence layout with same element layout, alignment constraints and name as this sequence layout but with the new specified element count.</div> </td>
</tr>
<tr>
<td><code><a href="sequencelayout" title="class in jdk.incubator.foreign">SequenceLayout</a></code></td>
<td><code><a href="#withName(java.lang.String)" class="member-name-link">withName</a><wbr>(<a href="../../../../java.base/java/lang/string" title="class in java.lang">String</a> name)</wbr></code></td>
<td> <div class="block">Creates a new layout which features the desired layout <em>name</em>.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object" title="class in java.lang">Object</a>
</h3> <code><a href="../../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object#wait(long,int)">wait</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-jdk.incubator.foreign.MemoryLayout">Methods declared in interface jdk.incubator.foreign.<a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a>
</h3> <code><a href="memorylayout#attribute(java.lang.String)">attribute</a>, <a href="memorylayout#attributes()">attributes</a>, <a href="memorylayout#bitAlignment()">bitAlignment</a>, <a href="memorylayout#bitOffset(jdk.incubator.foreign.MemoryLayout.PathElement...)">bitOffset</a>, <a href="memorylayout#bitOffsetHandle(jdk.incubator.foreign.MemoryLayout.PathElement...)">bitOffsetHandle</a>, <a href="memorylayout#bitSize()">bitSize</a>, <a href="memorylayout#byteAlignment()">byteAlignment</a>, <a href="memorylayout#byteOffset(jdk.incubator.foreign.MemoryLayout.PathElement...)">byteOffset</a>, <a href="memorylayout#byteOffsetHandle(jdk.incubator.foreign.MemoryLayout.PathElement...)">byteOffsetHandle</a>, <a href="memorylayout#byteSize()">byteSize</a>, <a href="memorylayout#hasSize()">hasSize</a>, <a href="memorylayout#isPadding()">isPadding</a>, <a href="memorylayout#map(java.util.function.UnaryOperator,jdk.incubator.foreign.MemoryLayout.PathElement...)">map</a>, <a href="memorylayout#name()">name</a>, <a href="memorylayout#select(jdk.incubator.foreign.MemoryLayout.PathElement...)">select</a>, <a href="memorylayout#sliceHandle(jdk.incubator.foreign.MemoryLayout.PathElement...)">sliceHandle</a>, <a href="memorylayout#varHandle(java.lang.Class,jdk.incubator.foreign.MemoryLayout.PathElement...)">varHandle</a></code>
</div> </section> </section> <section class="details"> <section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="elementLayout()"> <h3>elementLayout</h3> <pre class="lang-java" data-language="java">public MemoryLayout elementLayout()</pre> <div class="block">Returns the element layout associated with this sequence layout.</div> <dl class="notes"> <dt>Returns:</dt> <dd>The element layout associated with this sequence layout.</dd> </dl> </section><section class="detail" id="elementCount()"> <h3>elementCount</h3> <pre class="lang-java" data-language="java">public OptionalLong elementCount()</pre> <div class="block">Returns the element count of this sequence layout (if any).</div> <dl class="notes"> <dt>Returns:</dt> <dd>the element count of this sequence layout (if any).</dd> </dl> </section><section class="detail" id="withElementCount(long)"> <h3>withElementCount</h3> <pre class="lang-java" data-language="java">public SequenceLayout withElementCount(long elementCount)</pre> <div class="block">Obtains a new sequence layout with same element layout, alignment constraints and name as this sequence layout but with the new specified element count.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>elementCount</code> - the new element count.</dd> <dt>Returns:</dt> <dd>a new sequence with given element count.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementCount &lt; 0</code>.</dd> </dl> </section><section class="detail" id="reshape(long...)"> <h3>reshape</h3> <pre class="lang-java" data-language="java">public SequenceLayout reshape(long... elementCounts)</pre> <div class="block">Returns a new sequence layout where element layouts in the flattened projection of this sequence layout (see <a href="#flatten()"><code>flatten()</code></a>) are re-arranged into one or more nested sequence layouts according to the provided element counts. This transformation preserves the layout size; that is, multiplying the provided element counts must yield the same element count as the flattened projection of this sequence layout. <p> For instance, given a sequence layout of the kind: </p>
<pre class="lang-java" data-language="java"><code>
    var seq = MemoryLayout.sequenceLayout(4, MemoryLayout.sequenceLayout(3, MemoryLayouts.JAVA_INT));
 </code></pre> calling <code>seq.reshape(2, 6)</code> will yield the following sequence layout: <pre class="lang-java" data-language="java"><code>
    var reshapeSeq = MemoryLayout.sequenceLayout(2, MemoryLayout.sequenceLayout(6, MemoryLayouts.JAVA_INT));
 </code></pre> <p> If one of the provided element count is the special value <code>-1</code>, then the element count in that position will be inferred from the remaining element counts and the element count of the flattened projection of this layout. For instance, a layout equivalent to the above <code>reshapeSeq</code> can also be computed in the following ways: </p>
<pre class="lang-java" data-language="java"><code>
    var reshapeSeqImplicit1 = seq.reshape(-1, 6);
    var reshapeSeqImplicit2 = seq.reshape(2, -1);
 </code></pre>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>elementCounts</code> - an array of element counts, of which at most one can be <code>-1</code>.</dd> <dt>Returns:</dt> <dd>a new sequence layout where element layouts in the flattened projection of this sequence layout (see <a href="#flatten()"><code>flatten()</code></a>) are re-arranged into one or more nested sequence layouts.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/unsupportedoperationexception" title="class in java.lang">UnsupportedOperationException</a></code> - if this sequence layout does not have an element count.</dd> <dd>
<code><a href="../../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if two or more element counts are set to <code>-1</code>, or if one or more element count is <code>&lt;= 0</code> (but other than <code>-1</code>) or, if, after any required inference, multiplying the element counts does not yield the same element count as the flattened projection of this sequence layout.</dd> </dl> </section><section class="detail" id="flatten()"> <h3>flatten</h3> <pre class="lang-java" data-language="java">public SequenceLayout flatten()</pre> <div class="block">Returns a new, flattened sequence layout whose element layout is the first non-sequence element layout found by recursively traversing the element layouts of this sequence layout. This transformation preserves the layout size; nested sequence layout in this sequence layout will be dropped and their element counts will be incorporated into that of the returned sequence layout. For instance, given a sequence layout of the kind: <pre class="lang-java" data-language="java"><code>
    var seq = MemoryLayout.sequenceLayout(4, MemoryLayout.sequenceLayout(3, MemoryLayouts.JAVA_INT));
 </code></pre> calling <code>seq.flatten()</code> will yield the following sequence layout: <pre class="lang-java" data-language="java"><code>
    var flattenedSeq = MemoryLayout.sequenceLayout(12, MemoryLayouts.JAVA_INT);
 </code></pre>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>a new sequence layout with the same size as this layout (but, possibly, with different element count), whose element layout is not a sequence layout.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/unsupportedoperationexception" title="class in java.lang">UnsupportedOperationException</a></code> - if this sequence layout, or one of the nested sequence layouts being flattened, does not have an element count.</dd> </dl> </section><section class="detail" id="toString()"> <h3>toString</h3> <pre class="lang-java" data-language="java">public String toString()</pre> <div class="block"><span class="descfrm-type-label">Description copied from class: <code><a href="../../../../java.base/java/lang/object#toString()">Object</a></code></span></div> <div class="block">Returns a string representation of the object.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#toString()">toString</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Overrides:</dt> <dd>
<code><a href="../../../../java.base/java/lang/object#toString()">toString</a></code> in class <code><a href="../../../../java.base/java/lang/object" title="class in java.lang">Object</a></code>
</dd> <dt>Returns:</dt> <dd>a string representation of the object.</dd> </dl> </section><section class="detail" id="equals(java.lang.Object)"> <h3>equals</h3> <pre class="lang-java" data-language="java">public boolean equals(Object other)</pre> <div class="block"><span class="descfrm-type-label">Description copied from class: <code><a href="../../../../java.base/java/lang/object#equals(java.lang.Object)">Object</a></code></span></div> <div class="block">Indicates whether some other object is "equal to" this one. <p> The <code>equals</code> method implements an equivalence relation on non-null object references: </p>
<ul> <li>It is <i>reflexive</i>: for any non-null reference value <code>x</code>, <code>x.equals(x)</code> should return <code>true</code>. </li>
<li>It is <i>symmetric</i>: for any non-null reference values <code>x</code> and <code>y</code>, <code>x.equals(y)</code> should return <code>true</code> if and only if <code>y.equals(x)</code> returns <code>true</code>. </li>
<li>It is <i>transitive</i>: for any non-null reference values <code>x</code>, <code>y</code>, and <code>z</code>, if <code>x.equals(y)</code> returns <code>true</code> and <code>y.equals(z)</code> returns <code>true</code>, then <code>x.equals(z)</code> should return <code>true</code>. </li>
<li>It is <i>consistent</i>: for any non-null reference values <code>x</code> and <code>y</code>, multiple invocations of <code>x.equals(y)</code> consistently return <code>true</code> or consistently return <code>false</code>, provided no information used in <code>equals</code> comparisons on the objects is modified. </li>
<li>For any non-null reference value <code>x</code>, <code>x.equals(null)</code> should return <code>false</code>. </li>
</ul> <p> An equivalence relation partitions the elements it operates on into <i>equivalence classes</i>; all the members of an equivalence class are equal to each other. Members of an equivalence class are substitutable for each other, at least for some purposes.</p>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#equals(java.lang.Object)">equals</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>other</code> - the reference object with which to compare.</dd> <dt>Returns:</dt> <dd>
<code>true</code> if this object is the same as the obj argument; <code>false</code> otherwise.</dd> <dt>See Also:</dt> <dd> <ul class="see-list"> <li><a href="../../../../java.base/java/lang/object#hashCode()"><code>Object.hashCode()</code></a></li> <li><a href="../../../../java.base/java/util/hashmap" title="class in java.util"><code>HashMap</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="hashCode()"> <h3>hashCode</h3> <pre class="lang-java" data-language="java">public int hashCode()</pre> <div class="block"><span class="descfrm-type-label">Description copied from class: <code><a href="../../../../java.base/java/lang/object#hashCode()">Object</a></code></span></div> <div class="block">Returns a hash code value for the object. This method is supported for the benefit of hash tables such as those provided by <a href="../../../../java.base/java/util/hashmap" title="class in java.util"><code>HashMap</code></a>. <p> The general contract of <code>hashCode</code> is: </p>
<ul> <li>Whenever it is invoked on the same object more than once during an execution of a Java application, the <code>hashCode</code> method must consistently return the same integer, provided no information used in <code>equals</code> comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application. </li>
<li>If two objects are equal according to the <a href="../../../../java.base/java/lang/object#equals(java.lang.Object)"><code>equals</code></a> method, then calling the <code>
     hashCode</code> method on each of the two objects must produce the same integer result. </li>
<li>It is <em>not</em> required that if two objects are unequal according to the <a href="../../../../java.base/java/lang/object#equals(java.lang.Object)"><code>equals</code></a> method, then calling the <code>hashCode</code> method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hash tables. </li>
</ul>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#hashCode()">hashCode</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Returns:</dt> <dd>a hash code value for this object.</dd> <dt>See Also:</dt> <dd> <ul class="see-list-long"> <li><a href="../../../../java.base/java/lang/object#equals(java.lang.Object)"><code>Object.equals(java.lang.Object)</code></a></li> <li><a href="../../../../java.base/java/lang/system#identityHashCode(java.lang.Object)"><code>System.identityHashCode(java.lang.Object)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="describeConstable()"> <h3>describeConstable</h3> <pre class="lang-java" data-language="java">public Optional&lt;DynamicConstantDesc&lt;SequenceLayout&gt;&gt; describeConstable()</pre> <div class="block"><span class="descfrm-type-label">Description copied from interface: <code><a href="memorylayout#describeConstable()">MemoryLayout</a></code></span></div> <div class="block">Returns an <a href="../../../../java.base/java/util/optional" title="class in java.util"><code>Optional</code></a> containing the nominal descriptor for this layout, if one can be constructed, or an empty <a href="../../../../java.base/java/util/optional" title="class in java.util"><code>Optional</code></a> if one cannot be constructed.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../../../../java.base/java/lang/constant/constable#describeConstable()">describeConstable</a></code> in interface <code><a href="../../../../java.base/java/lang/constant/constable" title="interface in java.lang.constant">Constable</a></code>
</dd> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#describeConstable()">describeConstable</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Returns:</dt> <dd>An <a href="../../../../java.base/java/util/optional" title="class in java.util"><code>Optional</code></a> containing the resulting nominal descriptor, or an empty <a href="../../../../java.base/java/util/optional" title="class in java.util"><code>Optional</code></a> if one cannot be constructed.</dd> </dl> </section><section class="detail" id="withName(java.lang.String)"> <h3>withName</h3> <pre class="lang-java" data-language="java">public SequenceLayout withName(String name)</pre> <div class="block">Creates a new layout which features the desired layout <em>name</em>. <p> This is equivalent to the following code: </p>
<blockquote><pre class="lang-java" data-language="java"><code>
    withAttribute(LAYOUT_NAME, name);
 </code></pre></blockquote>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#withName(java.lang.String)">withName</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>name</code> - the layout name.</dd> <dt>Returns:</dt> <dd>a new layout which is the same as this layout, except for the <em>name</em> associated with it.</dd> <dt>See Also:</dt> <dd> <ul class="see-list"> <li><a href="memorylayout#name()"><code>MemoryLayout.name()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="withBitAlignment(long)"> <h3>withBitAlignment</h3> <pre class="lang-java" data-language="java">public SequenceLayout withBitAlignment(long alignmentBits)</pre> <div class="block">Creates a new layout which features the desired alignment constraint.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#withBitAlignment(long)">withBitAlignment</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>alignmentBits</code> - the layout alignment constraint, expressed in bits.</dd> <dt>Returns:</dt> <dd>a new layout which is the same as this layout, except for the alignment constraint associated with it.</dd> </dl> </section><section class="detail" id="withAttribute(java.lang.String,java.lang.constant.Constable)"> <h3>withAttribute</h3> <pre class="lang-java" data-language="java">public SequenceLayout withAttribute(String name, Constable value)</pre> <div class="block">Returns a new memory layout which features the same attributes as this layout, plus the newly specified attribute. If this layout already contains an attribute with the same name, the existing attribute value is overwritten in the returned layout.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#withAttribute(java.lang.String,java.lang.constant.Constable)">withAttribute</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>name</code> - the attribute name.</dd> <dd>
<code>value</code> - the attribute value.</dd> <dt>Returns:</dt> <dd>a new memory layout which features the same attributes as this layout, plus the newly specified attribute.</dd> </dl> </section><section class="detail" id="name()"> <h3>name</h3> <pre class="lang-java" data-language="java">public final Optional&lt;String&gt; name()</pre> <div class="block"><span class="descfrm-type-label">Description copied from interface: <code><a href="memorylayout#name()">MemoryLayout</a></code></span></div> <div class="block">Return the <em>name</em> (if any) associated with this layout. <p> This is equivalent to the following code: </p>
<blockquote><pre class="lang-java" data-language="java"><code>
    attribute(LAYOUT_NAME).map(String.class::cast);
 </code></pre></blockquote>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#name()">name</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Returns:</dt> <dd>the layout <em>name</em> (if any).</dd> <dt>See Also:</dt> <dd> <ul class="see-list"> <li><a href="memorylayout#withName(java.lang.String)"><code>MemoryLayout.withName(String)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="attribute(java.lang.String)"> <h3>attribute</h3> <pre class="lang-java" data-language="java">public Optional&lt;Constable&gt; attribute(String name)</pre> <div class="block"><span class="descfrm-type-label">Description copied from interface: <code><a href="memorylayout#attribute(java.lang.String)">MemoryLayout</a></code></span></div> <div class="block">Returns the attribute with the given name (if it exists).</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#attribute(java.lang.String)">attribute</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>name</code> - the attribute name</dd> <dt>Returns:</dt> <dd>the attribute with the given name (if it exists).</dd> </dl> </section><section class="detail" id="attributes()"> <h3>attributes</h3> <pre class="lang-java" data-language="java">public Stream&lt;String&gt; attributes()</pre> <div class="block"><span class="descfrm-type-label">Description copied from interface: <code><a href="memorylayout#attributes()">MemoryLayout</a></code></span></div> <div class="block">Returns a stream of the attribute names associated with this layout.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#attributes()">attributes</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Returns:</dt> <dd>a stream of the attribute names associated with this layout.</dd> </dl> </section><section class="detail" id="bitAlignment()"> <h3>bitAlignment</h3> <pre class="lang-java" data-language="java">public final long bitAlignment()</pre> <div class="block"><span class="descfrm-type-label">Description copied from interface: <code><a href="memorylayout#bitAlignment()">MemoryLayout</a></code></span></div> <div class="block">Returns the alignment constraint associated with this layout, expressed in bits. Layout alignment defines a power of two <code>A</code> which is the bit-wise alignment of the layout. If <code>A &lt;= 8</code> then <code>A/8</code> is the number of bytes that must be aligned for any pointer that correctly points to this layout. Thus: <ul> <li>
<code>A=8</code> means unaligned (in the usual sense), which is common in packets.</li> <li>
<code>A=64</code> means word aligned (on LP64), <code>A=32</code> int aligned, <code>A=16</code> short aligned, etc.</li> <li>
<code>A=512</code> is the most strict alignment required by the x86/SV ABI (for AVX-512 data).</li> </ul> If no explicit alignment constraint was set on this layout (see <a href="memorylayout#withBitAlignment(long)"><code>MemoryLayout.withBitAlignment(long)</code></a>), then this method returns the <a href="memorylayout#layout-align">natural alignment</a> constraint (in bits) associated with this layout.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#bitAlignment()">bitAlignment</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Returns:</dt> <dd>the layout alignment constraint, in bits.</dd> </dl> </section><section class="detail" id="hasSize()"> <h3>hasSize</h3> <pre class="lang-java" data-language="java">public boolean hasSize()</pre> <div class="block"><span class="descfrm-type-label">Description copied from interface: <code><a href="memorylayout#hasSize()">MemoryLayout</a></code></span></div> <div class="block">Does this layout have a specified size? A layout does not have a specified size if it is (or contains) a sequence layout whose size is unspecified (see <a href="#elementCount()"><code>elementCount()</code></a>). Value layouts (see <a href="valuelayout" title="class in jdk.incubator.foreign"><code>ValueLayout</code></a>) and padding layouts (see <a href="memorylayout#paddingLayout(long)"><code>MemoryLayout.paddingLayout(long)</code></a>) <em>always</em> have a specified size, therefore this method always returns <code>true</code> in these cases.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#hasSize()">hasSize</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Returns:</dt> <dd>
<code>true</code>, if this layout has a specified size.</dd> </dl> </section><section class="detail" id="bitSize()"> <h3>bitSize</h3> <pre class="lang-java" data-language="java">public long bitSize()</pre> <div class="block"><span class="descfrm-type-label">Description copied from interface: <code><a href="memorylayout#bitSize()">MemoryLayout</a></code></span></div> <div class="block">Computes the layout size, in bits.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#bitSize()">bitSize</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Returns:</dt> <dd>the layout size, in bits.</dd> </dl> </section><section class="detail" id="isPadding()"> <h3>isPadding</h3> <pre class="lang-java" data-language="java">public boolean isPadding()</pre> <div class="block"><span class="descfrm-type-label">Description copied from interface: <code><a href="memorylayout#isPadding()">MemoryLayout</a></code></span></div> <div class="block">Is this a padding layout (e.g. a layout created from <a href="memorylayout#paddingLayout(long)"><code>MemoryLayout.paddingLayout(long)</code></a>) ?</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="memorylayout#isPadding()">isPadding</a></code> in interface <code><a href="memorylayout" title="interface in jdk.incubator.foreign">MemoryLayout</a></code>
</dd> <dt>Returns:</dt> <dd>true, if this layout is a padding layout.</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2021, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/SequenceLayout.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/SequenceLayout.html</a>
  </p>
</div>
