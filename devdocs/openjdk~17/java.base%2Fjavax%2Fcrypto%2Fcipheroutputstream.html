<h1 title="Class CipherOutputStream" class="title">Class CipherOutputStream</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../java/lang/object" title="class in java.lang">java.lang.Object</a> <div class="inheritance">
<a href="../../java/io/outputstream" title="class in java.io">java.io.OutputStream</a> <div class="inheritance">
<a href="../../java/io/filteroutputstream" title="class in java.io">java.io.FilterOutputStream</a> <div class="inheritance">javax.crypto.CipherOutputStream</div> </div> </div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Implemented Interfaces:</dt> <dd>
<code><a href="../../java/io/closeable" title="interface in java.io">Closeable</a></code>, <code><a href="../../java/io/flushable" title="interface in java.io">Flushable</a></code>, <code><a href="../../java/lang/autocloseable" title="interface in java.lang">AutoCloseable</a></code>
</dd> </dl>  <pre class="lang-java" data-language="java">public class CipherOutputStream extends FilterOutputStream</pre> <div class="block">A CipherOutputStream is composed of an OutputStream and a Cipher so that write() methods first process the data before writing them out to the underlying OutputStream. The cipher must be fully initialized before being used by a CipherOutputStream. <p> For example, if the cipher is initialized for encryption, the CipherOutputStream will attempt to encrypt data before writing out the encrypted data. </p>
<p> This class adheres strictly to the semantics, especially the failure semantics, of its ancestor classes java.io.OutputStream and java.io.FilterOutputStream. This class has exactly those methods specified in its ancestor classes, and overrides them all. Moreover, this class catches all exceptions that are not thrown by its ancestor classes. In particular, this class catches BadPaddingException and other exceptions thrown by failed integrity checks during decryption. These exceptions are not re-thrown, so the client will not be informed that integrity checks failed. Because of this behavior, this class may not be suitable for use with decryption in an authenticated mode of operation (e.g. GCM) if the application requires explicit notification when authentication fails. Such an application can use the Cipher API directly as an alternative to using this class. </p>
<p> It is crucial for a programmer using this class not to use methods that are not defined or overridden in this class (such as a new method or constructor that is later added to one of the super classes), because the design and implementation of those methods are unlikely to have considered security impact with regard to CipherOutputStream.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="see-list"> <li><a href="../../java/io/outputstream" title="class in java.io"><code>OutputStream</code></a></li> <li><a href="../../java/io/filteroutputstream" title="class in java.io"><code>FilterOutputStream</code></a></li> <li><a href="cipher" title="class in javax.crypto"><code>Cipher</code></a></li> <li><a href="cipherinputstream" title="class in javax.crypto"><code>CipherInputStream</code></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="field-summary" id="field-summary"> <h2>Field Summary</h2> <div class="inherited-list"> <h3 id="fields-inherited-from-class-java.io.FilterOutputStream">Fields declared in class java.io.<a href="../../java/io/filteroutputstream" title="class in java.io">FilterOutputStream</a>
</h3> <code><a href="../../java/io/filteroutputstream#out">out</a></code>
</div> </section><section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table three-column-summary">     <div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.io.OutputStream)" class="member-name-link">CipherOutputStream</a><wbr>(<a href="../../java/io/outputstream" title="class in java.io">OutputStream</a> os)</wbr></code></div>   <div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.io.OutputStream,javax.crypto.Cipher)" class="member-name-link">CipherOutputStream</a><wbr>(<a href="../../java/io/outputstream" title="class in java.io">OutputStream</a> os,
 <a href="cipher" title="class in javax.crypto">Cipher</a> c)</wbr></code></div>  <tr>
<th>Modifier</th>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code>protected </code></td>
<td> <div class="block">Constructs a CipherOutputStream from an OutputStream without specifying a Cipher.</div> </td>
</tr>
<tr>
<td></td>
<td> <div class="block">Constructs a CipherOutputStream from an OutputStream and a Cipher.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                   <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#close()" class="member-name-link">close</a>()</code></td>
<td> <div class="block">Closes this output stream and releases any system resources associated with this stream.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#flush()" class="member-name-link">flush</a>()</code></td>
<td> <div class="block">Flushes this output stream by forcing any buffered output bytes that have already been processed by the encapsulated cipher object to be written out.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#write(byte%5B%5D)" class="member-name-link">write</a><wbr>(byte[] b)</wbr></code></td>
<td> <div class="block">Writes <code>b.length</code> bytes from the specified byte array to this output stream.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#write(byte%5B%5D,int,int)" class="member-name-link">write</a><wbr>(byte[] b,
 int off,
 int len)</wbr></code></td>
<td> <div class="block">Writes <code>len</code> bytes from the specified byte array starting at offset <code>off</code> to this output stream.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#write(int)" class="member-name-link">write</a><wbr>(int b)</wbr></code></td>
<td> <div class="block">Writes the specified byte to this output stream.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.io.OutputStream">Methods declared in class java.io.<a href="../../java/io/outputstream" title="class in java.io">OutputStream</a>
</h3> <code><a href="../../java/io/outputstream#nullOutputStream()">nullOutputStream</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../java/lang/object" title="class in java.lang">Object</a>
</h3> <code><a href="../../java/lang/object#clone()">clone</a>, <a href="../../java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../java/lang/object#finalize()">finalize</a>, <a href="../../java/lang/object#getClass()">getClass</a>, <a href="../../java/lang/object#hashCode()">hashCode</a>, <a href="../../java/lang/object#notify()">notify</a>, <a href="../../java/lang/object#notifyAll()">notifyAll</a>, <a href="../../java/lang/object#toString()">toString</a>, <a href="../../java/lang/object#wait()">wait</a>, <a href="../../java/lang/object#wait(long)">wait</a>, <a href="../../java/lang/object#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(java.io.OutputStream,javax.crypto.Cipher)"> <h3>CipherOutputStream</h3> <pre class="lang-java" data-language="java">public CipherOutputStream(OutputStream os, Cipher c)</pre> <div class="block">Constructs a CipherOutputStream from an OutputStream and a Cipher. <br>Note: if the specified output stream or cipher is null, a NullPointerException may be thrown later when they are used.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>os</code> - the OutputStream object</dd> <dd>
<code>c</code> - an initialized Cipher object</dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.io.OutputStream)"> <h3>CipherOutputStream</h3> <pre class="lang-java" data-language="java">protected CipherOutputStream(OutputStream os)</pre> <div class="block">Constructs a CipherOutputStream from an OutputStream without specifying a Cipher. This has the effect of constructing a CipherOutputStream using a NullCipher. <br>Note: if the specified output stream is null, a NullPointerException may be thrown later when it is used.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>os</code> - the OutputStream object</dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="write(int)"> <h3>write</h3> <pre class="lang-java" data-language="java">public void write(int b) throws IOException</pre> <div class="block">Writes the specified byte to this output stream.</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="../../java/io/filteroutputstream#write(int)">write</a></code> in class <code><a href="../../java/io/filteroutputstream" title="class in java.io">FilterOutputStream</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>b</code> - the <code>byte</code>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../java/io/ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> </dl> </section><section class="detail" id="write(byte[])"> <h3>write</h3> <pre class="lang-java" data-language="java">public void write(byte[] b) throws IOException</pre> <div class="block">Writes <code>b.length</code> bytes from the specified byte array to this output stream. <p> The <code>write</code> method of <code>CipherOutputStream</code> calls the <code>write</code> method of three arguments with the three arguments <code>b</code>, <code>0</code>, and <code>b.length</code>.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="../../java/io/filteroutputstream#write(byte%5B%5D)">write</a></code> in class <code><a href="../../java/io/filteroutputstream" title="class in java.io">FilterOutputStream</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>b</code> - the data.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../java/lang/nullpointerexception" title="class in java.lang">NullPointerException</a></code> - if <code>b</code> is null.</dd> <dd>
<code><a href="../../java/io/ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="see-list-long"> <li><a href="#write(byte%5B%5D,int,int)"><code>write(byte[], int, int)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="write(byte[],int,int)"> <h3>write</h3> <pre class="lang-java" data-language="java">public void write(byte[] b, int off, int len) throws IOException</pre> <div class="block">Writes <code>len</code> bytes from the specified byte array starting at offset <code>off</code> to this output stream.</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="../../java/io/filteroutputstream#write(byte%5B%5D,int,int)">write</a></code> in class <code><a href="../../java/io/filteroutputstream" title="class in java.io">FilterOutputStream</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>b</code> - the data.</dd> <dd>
<code>off</code> - the start offset in the data.</dd> <dd>
<code>len</code> - the number of bytes to write.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../java/io/ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="see-list"> <li><a href="../../java/io/filteroutputstream#write(int)"><code>FilterOutputStream.write(int)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="flush()"> <h3>flush</h3> <pre class="lang-java" data-language="java">public void flush() throws IOException</pre> <div class="block">Flushes this output stream by forcing any buffered output bytes that have already been processed by the encapsulated cipher object to be written out. <p>Any bytes buffered by the encapsulated cipher and waiting to be processed by it will not be written out. For example, if the encapsulated cipher is a block cipher, and the total number of bytes written using one of the <code>write</code> methods is less than the cipher's block size, no bytes will be written out.</p>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../../java/io/flushable#flush()">flush</a></code> in interface <code><a href="../../java/io/flushable" title="interface in java.io">Flushable</a></code>
</dd> <dt>Overrides:</dt> <dd>
<code><a href="../../java/io/filteroutputstream#flush()">flush</a></code> in class <code><a href="../../java/io/filteroutputstream" title="class in java.io">FilterOutputStream</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../java/io/ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="see-list"> <li><a href="../../java/io/filteroutputstream#out"><code>FilterOutputStream.out</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="close()"> <h3>close</h3> <pre class="lang-java" data-language="java">public void close() throws IOException</pre> <div class="block">Closes this output stream and releases any system resources associated with this stream. <p> This method invokes the <code>doFinal</code> method of the encapsulated cipher object, which causes any bytes buffered by the encapsulated cipher to be processed. The result is written out by calling the <code>flush</code> method of this output stream. </p>
<p> This method resets the encapsulated cipher object to its initial state and calls the <code>close</code> method of the underlying output stream.</p>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../../java/lang/autocloseable#close()">close</a></code> in interface <code><a href="../../java/lang/autocloseable" title="interface in java.lang">AutoCloseable</a></code>
</dd> <dt>Specified by:</dt> <dd>
<code><a href="../../java/io/closeable#close()">close</a></code> in interface <code><a href="../../java/io/closeable" title="interface in java.io">Closeable</a></code>
</dd> <dt>Overrides:</dt> <dd>
<code><a href="../../java/io/filteroutputstream#close()">close</a></code> in class <code><a href="../../java/io/filteroutputstream" title="class in java.io">FilterOutputStream</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../java/io/ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="see-list"> <li><a href="../../java/io/filteroutputstream#flush()"><code>FilterOutputStream.flush()</code></a></li> <li><a href="../../java/io/filteroutputstream#out"><code>FilterOutputStream.out</code></a></li> </ul> </dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2021, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/CipherOutputStream.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/CipherOutputStream.html</a>
  </p>
</div>
